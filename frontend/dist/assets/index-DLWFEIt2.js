function Fx(n,t){for(var e=0;e<t.length;e++){const r=t[e];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();function pf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ag={exports:{}},xc={},Lg={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function Px(){if(by)return pe;by=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),y=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=y&&q[y]||q["@@iterator"],typeof q=="function"?q:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,B={};function x(q,lt,St){this.props=q,this.context=lt,this.refs=B,this.updater=St||w}x.prototype.isReactComponent={},x.prototype.setState=function(q,lt){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,lt,"setState")},x.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function M(){}M.prototype=x.prototype;function O(q,lt,St){this.props=q,this.context=lt,this.refs=B,this.updater=St||w}var $=O.prototype=new M;$.constructor=O,F($,x.prototype),$.isPureReactComponent=!0;var D=Array.isArray,V=Object.prototype.hasOwnProperty,P={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function I(q,lt,St){var Ct,E={},h=null,R=null;if(lt!=null)for(Ct in lt.ref!==void 0&&(R=lt.ref),lt.key!==void 0&&(h=""+lt.key),lt)V.call(lt,Ct)&&!_.hasOwnProperty(Ct)&&(E[Ct]=lt[Ct]);var p=arguments.length-2;if(p===1)E.children=St;else if(1<p){for(var U=Array(p),T=0;T<p;T++)U[T]=arguments[T+2];E.children=U}if(q&&q.defaultProps)for(Ct in p=q.defaultProps,p)E[Ct]===void 0&&(E[Ct]=p[Ct]);return{$$typeof:n,type:q,key:h,ref:R,props:E,_owner:P.current}}function nt(q,lt){return{$$typeof:n,type:q.type,key:lt,ref:q.ref,props:q.props,_owner:q._owner}}function rt(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function H(q){var lt={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(St){return lt[St]})}var Q=/\/+/g;function k(q,lt){return typeof q=="object"&&q!==null&&q.key!=null?H(""+q.key):lt.toString(36)}function W(q,lt,St,Ct,E){var h=typeof q;(h==="undefined"||h==="boolean")&&(q=null);var R=!1;if(q===null)R=!0;else switch(h){case"string":case"number":R=!0;break;case"object":switch(q.$$typeof){case n:case t:R=!0}}if(R)return R=q,E=E(R),q=Ct===""?"."+k(R,0):Ct,D(E)?(St="",q!=null&&(St=q.replace(Q,"$&/")+"/"),W(E,lt,St,"",function(T){return T})):E!=null&&(rt(E)&&(E=nt(E,St+(!E.key||R&&R.key===E.key?"":(""+E.key).replace(Q,"$&/")+"/")+q)),lt.push(E)),1;if(R=0,Ct=Ct===""?".":Ct+":",D(q))for(var p=0;p<q.length;p++){h=q[p];var U=Ct+k(h,p);R+=W(h,lt,St,U,E)}else if(U=v(q),typeof U=="function")for(q=U.call(q),p=0;!(h=q.next()).done;)h=h.value,U=Ct+k(h,p++),R+=W(h,lt,St,U,E);else if(h==="object")throw lt=String(q),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.");return R}function tt(q,lt,St){if(q==null)return q;var Ct=[],E=0;return W(q,Ct,"","",function(h){return lt.call(St,h,E++)}),Ct}function ct(q){if(q._status===-1){var lt=q._result;lt=lt(),lt.then(function(St){(q._status===0||q._status===-1)&&(q._status=1,q._result=St)},function(St){(q._status===0||q._status===-1)&&(q._status=2,q._result=St)}),q._status===-1&&(q._status=0,q._result=lt)}if(q._status===1)return q._result.default;throw q._result}var ut={current:null},G={transition:null},X={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:G,ReactCurrentOwner:P};function J(){throw Error("act(...) is not supported in production builds of React.")}return pe.Children={map:tt,forEach:function(q,lt,St){tt(q,function(){lt.apply(this,arguments)},St)},count:function(q){var lt=0;return tt(q,function(){lt++}),lt},toArray:function(q){return tt(q,function(lt){return lt})||[]},only:function(q){if(!rt(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},pe.Component=x,pe.Fragment=e,pe.Profiler=i,pe.PureComponent=O,pe.StrictMode=r,pe.Suspense=g,pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,pe.act=J,pe.cloneElement=function(q,lt,St){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var Ct=F({},q.props),E=q.key,h=q.ref,R=q._owner;if(lt!=null){if(lt.ref!==void 0&&(h=lt.ref,R=P.current),lt.key!==void 0&&(E=""+lt.key),q.type&&q.type.defaultProps)var p=q.type.defaultProps;for(U in lt)V.call(lt,U)&&!_.hasOwnProperty(U)&&(Ct[U]=lt[U]===void 0&&p!==void 0?p[U]:lt[U])}var U=arguments.length-2;if(U===1)Ct.children=St;else if(1<U){p=Array(U);for(var T=0;T<U;T++)p[T]=arguments[T+2];Ct.children=p}return{$$typeof:n,type:q.type,key:E,ref:h,props:Ct,_owner:R}},pe.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},pe.createElement=I,pe.createFactory=function(q){var lt=I.bind(null,q);return lt.type=q,lt},pe.createRef=function(){return{current:null}},pe.forwardRef=function(q){return{$$typeof:c,render:q}},pe.isValidElement=rt,pe.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:ct}},pe.memo=function(q,lt){return{$$typeof:f,type:q,compare:lt===void 0?null:lt}},pe.startTransition=function(q){var lt=G.transition;G.transition={};try{q()}finally{G.transition=lt}},pe.unstable_act=J,pe.useCallback=function(q,lt){return ut.current.useCallback(q,lt)},pe.useContext=function(q){return ut.current.useContext(q)},pe.useDebugValue=function(){},pe.useDeferredValue=function(q){return ut.current.useDeferredValue(q)},pe.useEffect=function(q,lt){return ut.current.useEffect(q,lt)},pe.useId=function(){return ut.current.useId()},pe.useImperativeHandle=function(q,lt,St){return ut.current.useImperativeHandle(q,lt,St)},pe.useInsertionEffect=function(q,lt){return ut.current.useInsertionEffect(q,lt)},pe.useLayoutEffect=function(q,lt){return ut.current.useLayoutEffect(q,lt)},pe.useMemo=function(q,lt){return ut.current.useMemo(q,lt)},pe.useReducer=function(q,lt,St){return ut.current.useReducer(q,lt,St)},pe.useRef=function(q){return ut.current.useRef(q)},pe.useState=function(q){return ut.current.useState(q)},pe.useSyncExternalStore=function(q,lt,St){return ut.current.useSyncExternalStore(q,lt,St)},pe.useTransition=function(){return ut.current.useTransition()},pe.version="18.3.1",pe}var Ay;function Ll(){return Ay||(Ay=1,Lg.exports=Px()),Lg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function Tx(){if(Ly)return xc;Ly=1;var n=Ll(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,g,f){var d,y={},v=null,w=null;f!==void 0&&(v=""+f),g.key!==void 0&&(v=""+g.key),g.ref!==void 0&&(w=g.ref);for(d in g)r.call(g,d)&&!a.hasOwnProperty(d)&&(y[d]=g[d]);if(c&&c.defaultProps)for(d in g=c.defaultProps,g)y[d]===void 0&&(y[d]=g[d]);return{$$typeof:t,type:c,key:v,ref:w,props:y,_owner:i.current}}return xc.Fragment=e,xc.jsx=l,xc.jsxs=l,xc}var Cy;function Rx(){return Cy||(Cy=1,Ag.exports=Tx()),Ag.exports}var j=Rx(),z=Ll();const Ni=pf(z),I2=Fx({__proto__:null,default:Ni},[z]);var Gu={},Cg={exports:{}},Yn={},Ig={exports:{}},xg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function Nx(){return Iy||(Iy=1,(function(n){function t(G,X){var J=G.length;G.push(X);t:for(;0<J;){var q=J-1>>>1,lt=G[q];if(0<i(lt,X))G[q]=X,G[J]=lt,J=q;else break t}}function e(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var X=G[0],J=G.pop();if(J!==X){G[0]=J;t:for(var q=0,lt=G.length,St=lt>>>1;q<St;){var Ct=2*(q+1)-1,E=G[Ct],h=Ct+1,R=G[h];if(0>i(E,J))h<lt&&0>i(R,E)?(G[q]=R,G[h]=J,q=h):(G[q]=E,G[Ct]=J,q=Ct);else if(h<lt&&0>i(R,J))G[q]=R,G[h]=J,q=h;else break t}}return X}function i(G,X){var J=G.sortIndex-X.sortIndex;return J!==0?J:G.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var g=[],f=[],d=1,y=null,v=3,w=!1,F=!1,B=!1,x=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(G){for(var X=e(f);X!==null;){if(X.callback===null)r(f);else if(X.startTime<=G)r(f),X.sortIndex=X.expirationTime,t(g,X);else break;X=e(f)}}function D(G){if(B=!1,$(G),!F)if(e(g)!==null)F=!0,ct(V);else{var X=e(f);X!==null&&ut(D,X.startTime-G)}}function V(G,X){F=!1,B&&(B=!1,M(I),I=-1),w=!0;var J=v;try{for($(X),y=e(g);y!==null&&(!(y.expirationTime>X)||G&&!H());){var q=y.callback;if(typeof q=="function"){y.callback=null,v=y.priorityLevel;var lt=q(y.expirationTime<=X);X=n.unstable_now(),typeof lt=="function"?y.callback=lt:y===e(g)&&r(g),$(X)}else r(g);y=e(g)}if(y!==null)var St=!0;else{var Ct=e(f);Ct!==null&&ut(D,Ct.startTime-X),St=!1}return St}finally{y=null,v=J,w=!1}}var P=!1,_=null,I=-1,nt=5,rt=-1;function H(){return!(n.unstable_now()-rt<nt)}function Q(){if(_!==null){var G=n.unstable_now();rt=G;var X=!0;try{X=_(!0,G)}finally{X?k():(P=!1,_=null)}}else P=!1}var k;if(typeof O=="function")k=function(){O(Q)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,tt=W.port2;W.port1.onmessage=Q,k=function(){tt.postMessage(null)}}else k=function(){x(Q,0)};function ct(G){_=G,P||(P=!0,k())}function ut(G,X){I=x(function(){G(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){F||w||(F=!0,ct(V))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):nt=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return e(g)},n.unstable_next=function(G){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var J=v;v=X;try{return G()}finally{v=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,X){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=v;v=G;try{return X()}finally{v=J}},n.unstable_scheduleCallback=function(G,X,J){var q=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?q+J:q):J=q,G){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=J+lt,G={id:d++,callback:X,priorityLevel:G,startTime:J,expirationTime:lt,sortIndex:-1},J>q?(G.sortIndex=J,t(f,G),e(g)===null&&G===e(f)&&(B?(M(I),I=-1):B=!0,ut(D,J-q))):(G.sortIndex=lt,t(g,G),F||w||(F=!0,ct(V))),G},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(G){var X=v;return function(){var J=v;v=X;try{return G.apply(this,arguments)}finally{v=J}}}})(xg)),xg}var xy;function jx(){return xy||(xy=1,Ig.exports=Nx()),Ig.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function Dx(){if(Ey)return Yn;Ey=1;var n=Ll(),t=jx();function e(o){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+o,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(o,s){l(o,s),l(o+"Capture",s)}function l(o,s){for(i[o]=s,o=0;o<s.length;o++)r.add(s[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},y={};function v(o){return g.call(y,o)?!0:g.call(d,o)?!1:f.test(o)?y[o]=!0:(d[o]=!0,!1)}function w(o,s,u,m){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function F(o,s,u,m){if(s===null||typeof s>"u"||w(o,s,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function B(o,s,u,m,L,S,N){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=m,this.attributeNamespace=L,this.mustUseProperty=u,this.propertyName=o,this.type=s,this.sanitizeURL=S,this.removeEmptyString=N}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){x[o]=new B(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var s=o[0];x[s]=new B(s,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){x[o]=new B(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){x[o]=new B(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){x[o]=new B(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){x[o]=new B(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){x[o]=new B(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){x[o]=new B(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){x[o]=new B(o,5,!1,o.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function O(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var s=o.replace(M,O);x[s]=new B(s,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var s=o.replace(M,O);x[s]=new B(s,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var s=o.replace(M,O);x[s]=new B(s,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){x[o]=new B(o,1,!1,o.toLowerCase(),null,!1,!1)}),x.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){x[o]=new B(o,1,!1,o.toLowerCase(),null,!0,!0)});function $(o,s,u,m){var L=x.hasOwnProperty(s)?x[s]:null;(L!==null?L.type!==0:m||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(F(s,u,L,m)&&(u=null),m||L===null?v(s)&&(u===null?o.removeAttribute(s):o.setAttribute(s,""+u)):L.mustUseProperty?o[L.propertyName]=u===null?L.type===3?!1:"":u:(s=L.attributeName,m=L.attributeNamespace,u===null?o.removeAttribute(s):(L=L.type,u=L===3||L===4&&u===!0?"":""+u,m?o.setAttributeNS(m,s,u):o.setAttribute(s,u))))}var D=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),P=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),rt=Symbol.for("react.provider"),H=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),ut=Symbol.for("react.offscreen"),G=Symbol.iterator;function X(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var J=Object.assign,q;function lt(o){if(q===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);q=s&&s[1]||""}return`
`+q+o}var St=!1;function Ct(o,s){if(!o||St)return"";St=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(pt){var m=pt}Reflect.construct(o,[],s)}else{try{s.call()}catch(pt){m=pt}o.call(s.prototype)}else{try{throw Error()}catch(pt){m=pt}o()}}catch(pt){if(pt&&m&&typeof pt.stack=="string"){for(var L=pt.stack.split(`
`),S=m.stack.split(`
`),N=L.length-1,K=S.length-1;1<=N&&0<=K&&L[N]!==S[K];)K--;for(;1<=N&&0<=K;N--,K--)if(L[N]!==S[K]){if(N!==1||K!==1)do if(N--,K--,0>K||L[N]!==S[K]){var et=`
`+L[N].replace(" at new "," at ");return o.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",o.displayName)),et}while(1<=N&&0<=K);break}}}finally{St=!1,Error.prepareStackTrace=u}return(o=o?o.displayName||o.name:"")?lt(o):""}function E(o){switch(o.tag){case 5:return lt(o.type);case 16:return lt("Lazy");case 13:return lt("Suspense");case 19:return lt("SuspenseList");case 0:case 2:case 15:return o=Ct(o.type,!1),o;case 11:return o=Ct(o.type.render,!1),o;case 1:return o=Ct(o.type,!0),o;default:return""}}function h(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case _:return"Fragment";case P:return"Portal";case nt:return"Profiler";case I:return"StrictMode";case k:return"Suspense";case W:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case H:return(o.displayName||"Context")+".Consumer";case rt:return(o._context.displayName||"Context")+".Provider";case Q:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case tt:return s=o.displayName||null,s!==null?s:h(o.type)||"Memo";case ct:s=o._payload,o=o._init;try{return h(o(s))}catch{}}return null}function R(o){var s=o.type;switch(o.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=s.render,o=o.displayName||o.name||"",s.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return h(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function p(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function U(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function T(o){var s=U(o)?"checked":"value",u=Object.getOwnPropertyDescriptor(o.constructor.prototype,s),m=""+o[s];if(!o.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var L=u.get,S=u.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return L.call(this)},set:function(N){m=""+N,S.call(this,N)}}),Object.defineProperty(o,s,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(N){m=""+N},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function C(o){o._valueTracker||(o._valueTracker=T(o))}function Z(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var u=s.getValue(),m="";return o&&(m=U(o)?o.checked?"true":"false":o.value),o=m,o!==u?(s.setValue(o),!0):!1}function bt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function mt(o,s){var u=s.checked;return J({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??o._wrapperState.initialChecked})}function Et(o,s){var u=s.defaultValue==null?"":s.defaultValue,m=s.checked!=null?s.checked:s.defaultChecked;u=p(s.value!=null?s.value:u),o._wrapperState={initialChecked:m,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Zt(o,s){s=s.checked,s!=null&&$(o,"checked",s,!1)}function Tt(o,s){Zt(o,s);var u=p(s.value),m=s.type;if(u!=null)m==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+u):o.value!==""+u&&(o.value=""+u);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}s.hasOwnProperty("value")?oe(o,s.type,u):s.hasOwnProperty("defaultValue")&&oe(o,s.type,p(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(o.defaultChecked=!!s.defaultChecked)}function Wt(o,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var m=s.type;if(!(m!=="submit"&&m!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+o._wrapperState.initialValue,u||s===o.value||(o.value=s),o.defaultValue=s}u=o.name,u!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,u!==""&&(o.name=u)}function oe(o,s,u){(s!=="number"||bt(o.ownerDocument)!==o)&&(u==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+u&&(o.defaultValue=""+u))}var Rt=Array.isArray;function Pt(o,s,u,m){if(o=o.options,s){s={};for(var L=0;L<u.length;L++)s["$"+u[L]]=!0;for(u=0;u<o.length;u++)L=s.hasOwnProperty("$"+o[u].value),o[u].selected!==L&&(o[u].selected=L),L&&m&&(o[u].defaultSelected=!0)}else{for(u=""+p(u),s=null,L=0;L<o.length;L++){if(o[L].value===u){o[L].selected=!0,m&&(o[L].defaultSelected=!0);return}s!==null||o[L].disabled||(s=o[L])}s!==null&&(s.selected=!0)}}function Kt(o,s){if(s.dangerouslySetInnerHTML!=null)throw Error(e(91));return J({},s,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function de(o,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(e(92));if(Rt(u)){if(1<u.length)throw Error(e(93));u=u[0]}s=u}s==null&&(s=""),u=s}o._wrapperState={initialValue:p(u)}}function Ae(o,s){var u=p(s.value),m=p(s.defaultValue);u!=null&&(u=""+u,u!==o.value&&(o.value=u),s.defaultValue==null&&o.defaultValue!==u&&(o.defaultValue=u)),m!=null&&(o.defaultValue=""+m)}function un(o){var s=o.textContent;s===o._wrapperState.initialValue&&s!==""&&s!==null&&(o.value=s)}function De(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Je(o,s){return o==null||o==="http://www.w3.org/1999/xhtml"?De(s):o==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Ce,Qe=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,m,L){MSApp.execUnsafeLocalFunction(function(){return o(s,u,m,L)})}:o})(function(o,s){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=s;else{for(Ce=Ce||document.createElement("div"),Ce.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ce.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;s.firstChild;)o.appendChild(s.firstChild)}});function Ue(o,s){if(s){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=s;return}}o.textContent=s}var gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},An=["Webkit","ms","Moz","O"];Object.keys(gn).forEach(function(o){An.forEach(function(s){s=s+o.charAt(0).toUpperCase()+o.substring(1),gn[s]=gn[o]})});function _t(o,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||gn.hasOwnProperty(o)&&gn[o]?(""+s).trim():s+"px"}function b(o,s){o=o.style;for(var u in s)if(s.hasOwnProperty(u)){var m=u.indexOf("--")===0,L=_t(u,s[u],m);u==="float"&&(u="cssFloat"),m?o.setProperty(u,L):o[u]=L}}var A=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function st(o,s){if(s){if(A[o]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(e(137,o));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(e(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(e(61))}if(s.style!=null&&typeof s.style!="object")throw Error(e(62))}}function dt(o,s){if(o.indexOf("-")===-1)return typeof s.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var it=null;function gt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var at=null,yt=null,vt=null;function At(o){if(o=dc(o)){if(typeof at!="function")throw Error(e(280));var s=o.stateNode;s&&(s=au(s),at(o.stateNode,o.type,s))}}function wt(o){yt?vt?vt.push(o):vt=[o]:yt=o}function Lt(){if(yt){var o=yt,s=vt;if(vt=yt=null,At(o),s)for(o=0;o<s.length;o++)At(s[o])}}function zt(o,s){return o(s)}function jt(){}var Bt=!1;function Ht(o,s,u){if(Bt)return o(s,u);Bt=!0;try{return zt(o,s,u)}finally{Bt=!1,(yt!==null||vt!==null)&&(jt(),Lt())}}function Yt(o,s){var u=o.stateNode;if(u===null)return null;var m=au(u);if(m===null)return null;u=m[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break t;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(e(231,s,typeof u));return u}var ce=!1;if(c)try{var Gt={};Object.defineProperty(Gt,"passive",{get:function(){ce=!0}}),window.addEventListener("test",Gt,Gt),window.removeEventListener("test",Gt,Gt)}catch{ce=!1}function Jt(o,s,u,m,L,S,N,K,et){var pt=Array.prototype.slice.call(arguments,3);try{s.apply(u,pt)}catch(xt){this.onError(xt)}}var Dt=!1,ge=null,qe=!1,pn=null,Xi={onError:function(o){Dt=!0,ge=o}};function Xr(o,s,u,m,L,S,N,K,et){Dt=!1,ge=null,Jt.apply(Xi,arguments)}function Jr(o,s,u,m,L,S,N,K,et){if(Xr.apply(this,arguments),Dt){if(Dt){var pt=ge;Dt=!1,ge=null}else throw Error(e(198));qe||(qe=!0,pn=pt)}}function qn(o){var s=o,u=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(u=s.return),o=s.return;while(o)}return s.tag===3?u:null}function Or(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function Br(o){if(qn(o)!==o)throw Error(e(188))}function Ji(o){var s=o.alternate;if(!s){if(s=qn(o),s===null)throw Error(e(188));return s!==o?null:o}for(var u=o,m=s;;){var L=u.return;if(L===null)break;var S=L.alternate;if(S===null){if(m=L.return,m!==null){u=m;continue}break}if(L.child===S.child){for(S=L.child;S;){if(S===u)return Br(L),o;if(S===m)return Br(L),s;S=S.sibling}throw Error(e(188))}if(u.return!==m.return)u=L,m=S;else{for(var N=!1,K=L.child;K;){if(K===u){N=!0,u=L,m=S;break}if(K===m){N=!0,m=L,u=S;break}K=K.sibling}if(!N){for(K=S.child;K;){if(K===u){N=!0,u=S,m=L;break}if(K===m){N=!0,m=S,u=L;break}K=K.sibling}if(!N)throw Error(e(189))}}if(u.alternate!==m)throw Error(e(190))}if(u.tag!==3)throw Error(e(188));return u.stateNode.current===u?o:s}function hr(o){return o=Ji(o),o!==null?rr(o):null}function rr(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var s=rr(o);if(s!==null)return s;o=o.sibling}return null}var ti=t.unstable_scheduleCallback,Go=t.unstable_cancelCallback,qC=t.unstable_shouldYield,WC=t.unstable_requestPaint,We=t.unstable_now,GC=t.unstable_getCurrentPriorityLevel,$f=t.unstable_ImmediatePriority,Y0=t.unstable_UserBlockingPriority,zl=t.unstable_NormalPriority,VC=t.unstable_LowPriority,Z0=t.unstable_IdlePriority,$l=null,ei=null;function KC(o){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot($l,o,void 0,(o.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:ZC,HC=Math.log,YC=Math.LN2;function ZC(o){return o>>>=0,o===0?32:31-(HC(o)/YC|0)|0}var Ql=64,ql=4194304;function Va(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Wl(o,s){var u=o.pendingLanes;if(u===0)return 0;var m=0,L=o.suspendedLanes,S=o.pingedLanes,N=u&268435455;if(N!==0){var K=N&~L;K!==0?m=Va(K):(S&=N,S!==0&&(m=Va(S)))}else N=u&~L,N!==0?m=Va(N):S!==0&&(m=Va(S));if(m===0)return 0;if(s!==0&&s!==m&&(s&L)===0&&(L=m&-m,S=s&-s,L>=S||L===16&&(S&4194240)!==0))return s;if((m&4)!==0&&(m|=u&16),s=o.entangledLanes,s!==0)for(o=o.entanglements,s&=m;0<s;)u=31-kr(s),L=1<<u,m|=o[u],s&=~L;return m}function XC(o,s){switch(o){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JC(o,s){for(var u=o.suspendedLanes,m=o.pingedLanes,L=o.expirationTimes,S=o.pendingLanes;0<S;){var N=31-kr(S),K=1<<N,et=L[N];et===-1?((K&u)===0||(K&m)!==0)&&(L[N]=XC(K,s)):et<=s&&(o.expiredLanes|=K),S&=~K}}function Qf(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function X0(){var o=Ql;return Ql<<=1,(Ql&4194240)===0&&(Ql=64),o}function qf(o){for(var s=[],u=0;31>u;u++)s.push(o);return s}function Ka(o,s,u){o.pendingLanes|=s,s!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,s=31-kr(s),o[s]=u}function tI(o,s){var u=o.pendingLanes&~s;o.pendingLanes=s,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=s,o.mutableReadLanes&=s,o.entangledLanes&=s,s=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<u;){var L=31-kr(u),S=1<<L;s[L]=0,m[L]=-1,o[L]=-1,u&=~S}}function Wf(o,s){var u=o.entangledLanes|=s;for(o=o.entanglements;u;){var m=31-kr(u),L=1<<m;L&s|o[m]&s&&(o[m]|=s),u&=~L}}var ve=0;function J0(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var tm,Gf,em,nm,rm,Vf=!1,Gl=[],to=null,eo=null,no=null,Ha=new Map,Ya=new Map,ro=[],eI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function im(o,s){switch(o){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":Ha.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ya.delete(s.pointerId)}}function Za(o,s,u,m,L,S){return o===null||o.nativeEvent!==S?(o={blockedOn:s,domEventName:u,eventSystemFlags:m,nativeEvent:S,targetContainers:[L]},s!==null&&(s=dc(s),s!==null&&Gf(s)),o):(o.eventSystemFlags|=m,s=o.targetContainers,L!==null&&s.indexOf(L)===-1&&s.push(L),o)}function nI(o,s,u,m,L){switch(s){case"focusin":return to=Za(to,o,s,u,m,L),!0;case"dragenter":return eo=Za(eo,o,s,u,m,L),!0;case"mouseover":return no=Za(no,o,s,u,m,L),!0;case"pointerover":var S=L.pointerId;return Ha.set(S,Za(Ha.get(S)||null,o,s,u,m,L)),!0;case"gotpointercapture":return S=L.pointerId,Ya.set(S,Za(Ya.get(S)||null,o,s,u,m,L)),!0}return!1}function om(o){var s=Vo(o.target);if(s!==null){var u=qn(s);if(u!==null){if(s=u.tag,s===13){if(s=Or(u),s!==null){o.blockedOn=s,rm(o.priority,function(){em(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Vl(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var u=Hf(o.domEventName,o.eventSystemFlags,s[0],o.nativeEvent);if(u===null){u=o.nativeEvent;var m=new u.constructor(u.type,u);it=m,u.target.dispatchEvent(m),it=null}else return s=dc(u),s!==null&&Gf(s),o.blockedOn=u,!1;s.shift()}return!0}function sm(o,s,u){Vl(o)&&u.delete(s)}function rI(){Vf=!1,to!==null&&Vl(to)&&(to=null),eo!==null&&Vl(eo)&&(eo=null),no!==null&&Vl(no)&&(no=null),Ha.forEach(sm),Ya.forEach(sm)}function Xa(o,s){o.blockedOn===s&&(o.blockedOn=null,Vf||(Vf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,rI)))}function Ja(o){function s(L){return Xa(L,o)}if(0<Gl.length){Xa(Gl[0],o);for(var u=1;u<Gl.length;u++){var m=Gl[u];m.blockedOn===o&&(m.blockedOn=null)}}for(to!==null&&Xa(to,o),eo!==null&&Xa(eo,o),no!==null&&Xa(no,o),Ha.forEach(s),Ya.forEach(s),u=0;u<ro.length;u++)m=ro[u],m.blockedOn===o&&(m.blockedOn=null);for(;0<ro.length&&(u=ro[0],u.blockedOn===null);)om(u),u.blockedOn===null&&ro.shift()}var Ds=D.ReactCurrentBatchConfig,Kl=!0;function iI(o,s,u,m){var L=ve,S=Ds.transition;Ds.transition=null;try{ve=1,Kf(o,s,u,m)}finally{ve=L,Ds.transition=S}}function oI(o,s,u,m){var L=ve,S=Ds.transition;Ds.transition=null;try{ve=4,Kf(o,s,u,m)}finally{ve=L,Ds.transition=S}}function Kf(o,s,u,m){if(Kl){var L=Hf(o,s,u,m);if(L===null)fh(o,s,m,Hl,u),im(o,m);else if(nI(L,o,s,u,m))m.stopPropagation();else if(im(o,m),s&4&&-1<eI.indexOf(o)){for(;L!==null;){var S=dc(L);if(S!==null&&tm(S),S=Hf(o,s,u,m),S===null&&fh(o,s,m,Hl,u),S===L)break;L=S}L!==null&&m.stopPropagation()}else fh(o,s,m,null,u)}}var Hl=null;function Hf(o,s,u,m){if(Hl=null,o=gt(m),o=Vo(o),o!==null)if(s=qn(o),s===null)o=null;else if(u=s.tag,u===13){if(o=Or(s),o!==null)return o;o=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null);return Hl=o,null}function am(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GC()){case $f:return 1;case Y0:return 4;case zl:case VC:return 16;case Z0:return 536870912;default:return 16}default:return 16}}var io=null,Yf=null,Yl=null;function cm(){if(Yl)return Yl;var o,s=Yf,u=s.length,m,L="value"in io?io.value:io.textContent,S=L.length;for(o=0;o<u&&s[o]===L[o];o++);var N=u-o;for(m=1;m<=N&&s[u-m]===L[S-m];m++);return Yl=L.slice(o,1<m?1-m:void 0)}function Zl(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Xl(){return!0}function lm(){return!1}function ir(o){function s(u,m,L,S,N){this._reactName=u,this._targetInst=L,this.type=m,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(u=o[K],this[K]=u?u(S):S[K]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Xl:lm,this.isPropagationStopped=lm,this}return J(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),s}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zf=ir(Us),tc=J({},Us,{view:0,detail:0}),sI=ir(tc),Xf,Jf,ec,Jl=J({},tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ec&&(ec&&o.type==="mousemove"?(Xf=o.screenX-ec.screenX,Jf=o.screenY-ec.screenY):Jf=Xf=0,ec=o),Xf)},movementY:function(o){return"movementY"in o?o.movementY:Jf}}),um=ir(Jl),aI=J({},Jl,{dataTransfer:0}),cI=ir(aI),lI=J({},tc,{relatedTarget:0}),th=ir(lI),uI=J({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),dI=ir(uI),fI=J({},Us,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),hI=ir(fI),gI=J({},Us,{data:0}),dm=ir(gI),pI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_I={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yI(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=_I[o])?!!s[o]:!1}function eh(){return yI}var wI=J({},tc,{key:function(o){if(o.key){var s=pI[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=Zl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?mI[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eh,charCode:function(o){return o.type==="keypress"?Zl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Zl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),vI=ir(wI),bI=J({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fm=ir(bI),AI=J({},tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eh}),LI=ir(AI),CI=J({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),II=ir(CI),xI=J({},Jl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),EI=ir(xI),SI=[9,13,27,32],nh=c&&"CompositionEvent"in window,nc=null;c&&"documentMode"in document&&(nc=document.documentMode);var OI=c&&"TextEvent"in window&&!nc,hm=c&&(!nh||nc&&8<nc&&11>=nc),gm=" ",pm=!1;function mm(o,s){switch(o){case"keyup":return SI.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _m(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var zs=!1;function BI(o,s){switch(o){case"compositionend":return _m(s);case"keypress":return s.which!==32?null:(pm=!0,gm);case"textInput":return o=s.data,o===gm&&pm?null:o;default:return null}}function kI(o,s){if(zs)return o==="compositionend"||!nh&&mm(o,s)?(o=cm(),Yl=Yf=io=null,zs=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hm&&s.locale!=="ko"?null:s.data;default:return null}}var MI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ym(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!MI[o.type]:s==="textarea"}function wm(o,s,u,m){wt(m),s=iu(s,"onChange"),0<s.length&&(u=new Zf("onChange","change",null,u,m),o.push({event:u,listeners:s}))}var rc=null,ic=null;function FI(o){Nm(o,0)}function tu(o){var s=Gs(o);if(Z(s))return o}function PI(o,s){if(o==="change")return s}var vm=!1;if(c){var rh;if(c){var ih="oninput"in document;if(!ih){var bm=document.createElement("div");bm.setAttribute("oninput","return;"),ih=typeof bm.oninput=="function"}rh=ih}else rh=!1;vm=rh&&(!document.documentMode||9<document.documentMode)}function Am(){rc&&(rc.detachEvent("onpropertychange",Lm),ic=rc=null)}function Lm(o){if(o.propertyName==="value"&&tu(ic)){var s=[];wm(s,ic,o,gt(o)),Ht(FI,s)}}function TI(o,s,u){o==="focusin"?(Am(),rc=s,ic=u,rc.attachEvent("onpropertychange",Lm)):o==="focusout"&&Am()}function RI(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return tu(ic)}function NI(o,s){if(o==="click")return tu(s)}function jI(o,s){if(o==="input"||o==="change")return tu(s)}function DI(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var Mr=typeof Object.is=="function"?Object.is:DI;function oc(o,s){if(Mr(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var u=Object.keys(o),m=Object.keys(s);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var L=u[m];if(!g.call(s,L)||!Mr(o[L],s[L]))return!1}return!0}function Cm(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Im(o,s){var u=Cm(o);o=0;for(var m;u;){if(u.nodeType===3){if(m=o+u.textContent.length,o<=s&&m>=s)return{node:u,offset:s-o};o=m}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=Cm(u)}}function xm(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?xm(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function Em(){for(var o=window,s=bt();s instanceof o.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)o=s.contentWindow;else break;s=bt(o.document)}return s}function oh(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}function UI(o){var s=Em(),u=o.focusedElem,m=o.selectionRange;if(s!==u&&u&&u.ownerDocument&&xm(u.ownerDocument.documentElement,u)){if(m!==null&&oh(u)){if(s=m.start,o=m.end,o===void 0&&(o=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(o,u.value.length);else if(o=(s=u.ownerDocument||document)&&s.defaultView||window,o.getSelection){o=o.getSelection();var L=u.textContent.length,S=Math.min(m.start,L);m=m.end===void 0?S:Math.min(m.end,L),!o.extend&&S>m&&(L=m,m=S,S=L),L=Im(u,S);var N=Im(u,m);L&&N&&(o.rangeCount!==1||o.anchorNode!==L.node||o.anchorOffset!==L.offset||o.focusNode!==N.node||o.focusOffset!==N.offset)&&(s=s.createRange(),s.setStart(L.node,L.offset),o.removeAllRanges(),S>m?(o.addRange(s),o.extend(N.node,N.offset)):(s.setEnd(N.node,N.offset),o.addRange(s)))}}for(s=[],o=u;o=o.parentNode;)o.nodeType===1&&s.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)o=s[u],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var zI=c&&"documentMode"in document&&11>=document.documentMode,$s=null,sh=null,sc=null,ah=!1;function Sm(o,s,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ah||$s==null||$s!==bt(m)||(m=$s,"selectionStart"in m&&oh(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),sc&&oc(sc,m)||(sc=m,m=iu(sh,"onSelect"),0<m.length&&(s=new Zf("onSelect","select",null,s,u),o.push({event:s,listeners:m}),s.target=$s)))}function eu(o,s){var u={};return u[o.toLowerCase()]=s.toLowerCase(),u["Webkit"+o]="webkit"+s,u["Moz"+o]="moz"+s,u}var Qs={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},ch={},Om={};c&&(Om=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function nu(o){if(ch[o])return ch[o];if(!Qs[o])return o;var s=Qs[o],u;for(u in s)if(s.hasOwnProperty(u)&&u in Om)return ch[o]=s[u];return o}var Bm=nu("animationend"),km=nu("animationiteration"),Mm=nu("animationstart"),Fm=nu("transitionend"),Pm=new Map,Tm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(o,s){Pm.set(o,s),a(s,[o])}for(var lh=0;lh<Tm.length;lh++){var uh=Tm[lh],$I=uh.toLowerCase(),QI=uh[0].toUpperCase()+uh.slice(1);oo($I,"on"+QI)}oo(Bm,"onAnimationEnd"),oo(km,"onAnimationIteration"),oo(Mm,"onAnimationStart"),oo("dblclick","onDoubleClick"),oo("focusin","onFocus"),oo("focusout","onBlur"),oo(Fm,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qI=new Set("cancel close invalid load scroll toggle".split(" ").concat(ac));function Rm(o,s,u){var m=o.type||"unknown-event";o.currentTarget=u,Jr(m,s,void 0,o),o.currentTarget=null}function Nm(o,s){s=(s&4)!==0;for(var u=0;u<o.length;u++){var m=o[u],L=m.event;m=m.listeners;t:{var S=void 0;if(s)for(var N=m.length-1;0<=N;N--){var K=m[N],et=K.instance,pt=K.currentTarget;if(K=K.listener,et!==S&&L.isPropagationStopped())break t;Rm(L,K,pt),S=et}else for(N=0;N<m.length;N++){if(K=m[N],et=K.instance,pt=K.currentTarget,K=K.listener,et!==S&&L.isPropagationStopped())break t;Rm(L,K,pt),S=et}}}if(qe)throw o=pn,qe=!1,pn=null,o}function Oe(o,s){var u=s[yh];u===void 0&&(u=s[yh]=new Set);var m=o+"__bubble";u.has(m)||(jm(s,o,2,!1),u.add(m))}function dh(o,s,u){var m=0;s&&(m|=4),jm(u,o,m,s)}var ru="_reactListening"+Math.random().toString(36).slice(2);function cc(o){if(!o[ru]){o[ru]=!0,r.forEach(function(u){u!=="selectionchange"&&(qI.has(u)||dh(u,!1,o),dh(u,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[ru]||(s[ru]=!0,dh("selectionchange",!1,s))}}function jm(o,s,u,m){switch(am(s)){case 1:var L=iI;break;case 4:L=oI;break;default:L=Kf}u=L.bind(null,s,u,o),L=void 0,!ce||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(L=!0),m?L!==void 0?o.addEventListener(s,u,{capture:!0,passive:L}):o.addEventListener(s,u,!0):L!==void 0?o.addEventListener(s,u,{passive:L}):o.addEventListener(s,u,!1)}function fh(o,s,u,m,L){var S=m;if((s&1)===0&&(s&2)===0&&m!==null)t:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var K=m.stateNode.containerInfo;if(K===L||K.nodeType===8&&K.parentNode===L)break;if(N===4)for(N=m.return;N!==null;){var et=N.tag;if((et===3||et===4)&&(et=N.stateNode.containerInfo,et===L||et.nodeType===8&&et.parentNode===L))return;N=N.return}for(;K!==null;){if(N=Vo(K),N===null)return;if(et=N.tag,et===5||et===6){m=S=N;continue t}K=K.parentNode}}m=m.return}Ht(function(){var pt=S,xt=gt(u),Ot=[];t:{var It=Pm.get(o);if(It!==void 0){var Ut=Zf,Qt=o;switch(o){case"keypress":if(Zl(u)===0)break t;case"keydown":case"keyup":Ut=vI;break;case"focusin":Qt="focus",Ut=th;break;case"focusout":Qt="blur",Ut=th;break;case"beforeblur":case"afterblur":Ut=th;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ut=um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ut=cI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ut=LI;break;case Bm:case km:case Mm:Ut=dI;break;case Fm:Ut=II;break;case"scroll":Ut=sI;break;case"wheel":Ut=EI;break;case"copy":case"cut":case"paste":Ut=hI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ut=fm}var qt=(s&4)!==0,Ge=!qt&&o==="scroll",ft=qt?It!==null?It+"Capture":null:It;qt=[];for(var ot=pt,ht;ot!==null;){ht=ot;var kt=ht.stateNode;if(ht.tag===5&&kt!==null&&(ht=kt,ft!==null&&(kt=Yt(ot,ft),kt!=null&&qt.push(lc(ot,kt,ht)))),Ge)break;ot=ot.return}0<qt.length&&(It=new Ut(It,Qt,null,u,xt),Ot.push({event:It,listeners:qt}))}}if((s&7)===0){t:{if(It=o==="mouseover"||o==="pointerover",Ut=o==="mouseout"||o==="pointerout",It&&u!==it&&(Qt=u.relatedTarget||u.fromElement)&&(Vo(Qt)||Qt[bi]))break t;if((Ut||It)&&(It=xt.window===xt?xt:(It=xt.ownerDocument)?It.defaultView||It.parentWindow:window,Ut?(Qt=u.relatedTarget||u.toElement,Ut=pt,Qt=Qt?Vo(Qt):null,Qt!==null&&(Ge=qn(Qt),Qt!==Ge||Qt.tag!==5&&Qt.tag!==6)&&(Qt=null)):(Ut=null,Qt=pt),Ut!==Qt)){if(qt=um,kt="onMouseLeave",ft="onMouseEnter",ot="mouse",(o==="pointerout"||o==="pointerover")&&(qt=fm,kt="onPointerLeave",ft="onPointerEnter",ot="pointer"),Ge=Ut==null?It:Gs(Ut),ht=Qt==null?It:Gs(Qt),It=new qt(kt,ot+"leave",Ut,u,xt),It.target=Ge,It.relatedTarget=ht,kt=null,Vo(xt)===pt&&(qt=new qt(ft,ot+"enter",Qt,u,xt),qt.target=ht,qt.relatedTarget=Ge,kt=qt),Ge=kt,Ut&&Qt)e:{for(qt=Ut,ft=Qt,ot=0,ht=qt;ht;ht=qs(ht))ot++;for(ht=0,kt=ft;kt;kt=qs(kt))ht++;for(;0<ot-ht;)qt=qs(qt),ot--;for(;0<ht-ot;)ft=qs(ft),ht--;for(;ot--;){if(qt===ft||ft!==null&&qt===ft.alternate)break e;qt=qs(qt),ft=qs(ft)}qt=null}else qt=null;Ut!==null&&Dm(Ot,It,Ut,qt,!1),Qt!==null&&Ge!==null&&Dm(Ot,Ge,Qt,qt,!0)}}t:{if(It=pt?Gs(pt):window,Ut=It.nodeName&&It.nodeName.toLowerCase(),Ut==="select"||Ut==="input"&&It.type==="file")var Vt=PI;else if(ym(It))if(vm)Vt=jI;else{Vt=RI;var ne=TI}else(Ut=It.nodeName)&&Ut.toLowerCase()==="input"&&(It.type==="checkbox"||It.type==="radio")&&(Vt=NI);if(Vt&&(Vt=Vt(o,pt))){wm(Ot,Vt,u,xt);break t}ne&&ne(o,It,pt),o==="focusout"&&(ne=It._wrapperState)&&ne.controlled&&It.type==="number"&&oe(It,"number",It.value)}switch(ne=pt?Gs(pt):window,o){case"focusin":(ym(ne)||ne.contentEditable==="true")&&($s=ne,sh=pt,sc=null);break;case"focusout":sc=sh=$s=null;break;case"mousedown":ah=!0;break;case"contextmenu":case"mouseup":case"dragend":ah=!1,Sm(Ot,u,xt);break;case"selectionchange":if(zI)break;case"keydown":case"keyup":Sm(Ot,u,xt)}var re;if(nh)t:{switch(o){case"compositionstart":var le="onCompositionStart";break t;case"compositionend":le="onCompositionEnd";break t;case"compositionupdate":le="onCompositionUpdate";break t}le=void 0}else zs?mm(o,u)&&(le="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(le="onCompositionStart");le&&(hm&&u.locale!=="ko"&&(zs||le!=="onCompositionStart"?le==="onCompositionEnd"&&zs&&(re=cm()):(io=xt,Yf="value"in io?io.value:io.textContent,zs=!0)),ne=iu(pt,le),0<ne.length&&(le=new dm(le,o,null,u,xt),Ot.push({event:le,listeners:ne}),re?le.data=re:(re=_m(u),re!==null&&(le.data=re)))),(re=OI?BI(o,u):kI(o,u))&&(pt=iu(pt,"onBeforeInput"),0<pt.length&&(xt=new dm("onBeforeInput","beforeinput",null,u,xt),Ot.push({event:xt,listeners:pt}),xt.data=re))}Nm(Ot,s)})}function lc(o,s,u){return{instance:o,listener:s,currentTarget:u}}function iu(o,s){for(var u=s+"Capture",m=[];o!==null;){var L=o,S=L.stateNode;L.tag===5&&S!==null&&(L=S,S=Yt(o,u),S!=null&&m.unshift(lc(o,S,L)),S=Yt(o,s),S!=null&&m.push(lc(o,S,L))),o=o.return}return m}function qs(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Dm(o,s,u,m,L){for(var S=s._reactName,N=[];u!==null&&u!==m;){var K=u,et=K.alternate,pt=K.stateNode;if(et!==null&&et===m)break;K.tag===5&&pt!==null&&(K=pt,L?(et=Yt(u,S),et!=null&&N.unshift(lc(u,et,K))):L||(et=Yt(u,S),et!=null&&N.push(lc(u,et,K)))),u=u.return}N.length!==0&&o.push({event:s,listeners:N})}var WI=/\r\n?/g,GI=/\u0000|\uFFFD/g;function Um(o){return(typeof o=="string"?o:""+o).replace(WI,`
`).replace(GI,"")}function ou(o,s,u){if(s=Um(s),Um(o)!==s&&u)throw Error(e(425))}function su(){}var hh=null,gh=null;function ph(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mh=typeof setTimeout=="function"?setTimeout:void 0,VI=typeof clearTimeout=="function"?clearTimeout:void 0,zm=typeof Promise=="function"?Promise:void 0,KI=typeof queueMicrotask=="function"?queueMicrotask:typeof zm<"u"?function(o){return zm.resolve(null).then(o).catch(HI)}:mh;function HI(o){setTimeout(function(){throw o})}function _h(o,s){var u=s,m=0;do{var L=u.nextSibling;if(o.removeChild(u),L&&L.nodeType===8)if(u=L.data,u==="/$"){if(m===0){o.removeChild(L),Ja(s);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=L}while(u);Ja(s)}function so(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return o}function $m(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return o;s--}else u==="/$"&&s++}o=o.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),ni="__reactFiber$"+Ws,uc="__reactProps$"+Ws,bi="__reactContainer$"+Ws,yh="__reactEvents$"+Ws,YI="__reactListeners$"+Ws,ZI="__reactHandles$"+Ws;function Vo(o){var s=o[ni];if(s)return s;for(var u=o.parentNode;u;){if(s=u[bi]||u[ni]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(o=$m(o);o!==null;){if(u=o[ni])return u;o=$m(o)}return s}o=u,u=o.parentNode}return null}function dc(o){return o=o[ni]||o[bi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Gs(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(e(33))}function au(o){return o[uc]||null}var wh=[],Vs=-1;function ao(o){return{current:o}}function Be(o){0>Vs||(o.current=wh[Vs],wh[Vs]=null,Vs--)}function xe(o,s){Vs++,wh[Vs]=o.current,o.current=s}var co={},Ln=ao(co),Wn=ao(!1),Ko=co;function Ks(o,s){var u=o.type.contextTypes;if(!u)return co;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===s)return m.__reactInternalMemoizedMaskedChildContext;var L={},S;for(S in u)L[S]=s[S];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=s,o.__reactInternalMemoizedMaskedChildContext=L),L}function Gn(o){return o=o.childContextTypes,o!=null}function cu(){Be(Wn),Be(Ln)}function Qm(o,s,u){if(Ln.current!==co)throw Error(e(168));xe(Ln,s),xe(Wn,u)}function qm(o,s,u){var m=o.stateNode;if(s=s.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var L in m)if(!(L in s))throw Error(e(108,R(o)||"Unknown",L));return J({},u,m)}function lu(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||co,Ko=Ln.current,xe(Ln,o),xe(Wn,Wn.current),!0}function Wm(o,s,u){var m=o.stateNode;if(!m)throw Error(e(169));u?(o=qm(o,s,Ko),m.__reactInternalMemoizedMergedChildContext=o,Be(Wn),Be(Ln),xe(Ln,o)):Be(Wn),xe(Wn,u)}var Ai=null,uu=!1,vh=!1;function Gm(o){Ai===null?Ai=[o]:Ai.push(o)}function XI(o){uu=!0,Gm(o)}function lo(){if(!vh&&Ai!==null){vh=!0;var o=0,s=ve;try{var u=Ai;for(ve=1;o<u.length;o++){var m=u[o];do m=m(!0);while(m!==null)}Ai=null,uu=!1}catch(L){throw Ai!==null&&(Ai=Ai.slice(o+1)),ti($f,lo),L}finally{ve=s,vh=!1}}return null}var Hs=[],Ys=0,du=null,fu=0,gr=[],pr=0,Ho=null,Li=1,Ci="";function Yo(o,s){Hs[Ys++]=fu,Hs[Ys++]=du,du=o,fu=s}function Vm(o,s,u){gr[pr++]=Li,gr[pr++]=Ci,gr[pr++]=Ho,Ho=o;var m=Li;o=Ci;var L=32-kr(m)-1;m&=~(1<<L),u+=1;var S=32-kr(s)+L;if(30<S){var N=L-L%5;S=(m&(1<<N)-1).toString(32),m>>=N,L-=N,Li=1<<32-kr(s)+L|u<<L|m,Ci=S+o}else Li=1<<S|u<<L|m,Ci=o}function bh(o){o.return!==null&&(Yo(o,1),Vm(o,1,0))}function Ah(o){for(;o===du;)du=Hs[--Ys],Hs[Ys]=null,fu=Hs[--Ys],Hs[Ys]=null;for(;o===Ho;)Ho=gr[--pr],gr[pr]=null,Ci=gr[--pr],gr[pr]=null,Li=gr[--pr],gr[pr]=null}var or=null,sr=null,Te=!1,Fr=null;function Km(o,s){var u=wr(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=o,s=o.deletions,s===null?(o.deletions=[u],o.flags|=16):s.push(u)}function Hm(o,s){switch(o.tag){case 5:var u=o.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(o.stateNode=s,or=o,sr=so(s.firstChild),!0):!1;case 6:return s=o.pendingProps===""||s.nodeType!==3?null:s,s!==null?(o.stateNode=s,or=o,sr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=Ho!==null?{id:Li,overflow:Ci}:null,o.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=wr(18,null,null,0),u.stateNode=s,u.return=o,o.child=u,or=o,sr=null,!0):!1;default:return!1}}function Lh(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Ch(o){if(Te){var s=sr;if(s){var u=s;if(!Hm(o,s)){if(Lh(o))throw Error(e(418));s=so(u.nextSibling);var m=or;s&&Hm(o,s)?Km(m,u):(o.flags=o.flags&-4097|2,Te=!1,or=o)}}else{if(Lh(o))throw Error(e(418));o.flags=o.flags&-4097|2,Te=!1,or=o}}}function Ym(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;or=o}function hu(o){if(o!==or)return!1;if(!Te)return Ym(o),Te=!0,!1;var s;if((s=o.tag!==3)&&!(s=o.tag!==5)&&(s=o.type,s=s!=="head"&&s!=="body"&&!ph(o.type,o.memoizedProps)),s&&(s=sr)){if(Lh(o))throw Zm(),Error(e(418));for(;s;)Km(o,s),s=so(s.nextSibling)}if(Ym(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(e(317));t:{for(o=o.nextSibling,s=0;o;){if(o.nodeType===8){var u=o.data;if(u==="/$"){if(s===0){sr=so(o.nextSibling);break t}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}o=o.nextSibling}sr=null}}else sr=or?so(o.stateNode.nextSibling):null;return!0}function Zm(){for(var o=sr;o;)o=so(o.nextSibling)}function Zs(){sr=or=null,Te=!1}function Ih(o){Fr===null?Fr=[o]:Fr.push(o)}var JI=D.ReactCurrentBatchConfig;function fc(o,s,u){if(o=u.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(e(309));var m=u.stateNode}if(!m)throw Error(e(147,o));var L=m,S=""+o;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===S?s.ref:(s=function(N){var K=L.refs;N===null?delete K[S]:K[S]=N},s._stringRef=S,s)}if(typeof o!="string")throw Error(e(284));if(!u._owner)throw Error(e(290,o))}return o}function gu(o,s){throw o=Object.prototype.toString.call(s),Error(e(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o))}function Xm(o){var s=o._init;return s(o._payload)}function Jm(o){function s(ft,ot){if(o){var ht=ft.deletions;ht===null?(ft.deletions=[ot],ft.flags|=16):ht.push(ot)}}function u(ft,ot){if(!o)return null;for(;ot!==null;)s(ft,ot),ot=ot.sibling;return null}function m(ft,ot){for(ft=new Map;ot!==null;)ot.key!==null?ft.set(ot.key,ot):ft.set(ot.index,ot),ot=ot.sibling;return ft}function L(ft,ot){return ft=yo(ft,ot),ft.index=0,ft.sibling=null,ft}function S(ft,ot,ht){return ft.index=ht,o?(ht=ft.alternate,ht!==null?(ht=ht.index,ht<ot?(ft.flags|=2,ot):ht):(ft.flags|=2,ot)):(ft.flags|=1048576,ot)}function N(ft){return o&&ft.alternate===null&&(ft.flags|=2),ft}function K(ft,ot,ht,kt){return ot===null||ot.tag!==6?(ot=mg(ht,ft.mode,kt),ot.return=ft,ot):(ot=L(ot,ht),ot.return=ft,ot)}function et(ft,ot,ht,kt){var Vt=ht.type;return Vt===_?xt(ft,ot,ht.props.children,kt,ht.key):ot!==null&&(ot.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===ct&&Xm(Vt)===ot.type)?(kt=L(ot,ht.props),kt.ref=fc(ft,ot,ht),kt.return=ft,kt):(kt=ju(ht.type,ht.key,ht.props,null,ft.mode,kt),kt.ref=fc(ft,ot,ht),kt.return=ft,kt)}function pt(ft,ot,ht,kt){return ot===null||ot.tag!==4||ot.stateNode.containerInfo!==ht.containerInfo||ot.stateNode.implementation!==ht.implementation?(ot=_g(ht,ft.mode,kt),ot.return=ft,ot):(ot=L(ot,ht.children||[]),ot.return=ft,ot)}function xt(ft,ot,ht,kt,Vt){return ot===null||ot.tag!==7?(ot=is(ht,ft.mode,kt,Vt),ot.return=ft,ot):(ot=L(ot,ht),ot.return=ft,ot)}function Ot(ft,ot,ht){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return ot=mg(""+ot,ft.mode,ht),ot.return=ft,ot;if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case V:return ht=ju(ot.type,ot.key,ot.props,null,ft.mode,ht),ht.ref=fc(ft,null,ot),ht.return=ft,ht;case P:return ot=_g(ot,ft.mode,ht),ot.return=ft,ot;case ct:var kt=ot._init;return Ot(ft,kt(ot._payload),ht)}if(Rt(ot)||X(ot))return ot=is(ot,ft.mode,ht,null),ot.return=ft,ot;gu(ft,ot)}return null}function It(ft,ot,ht,kt){var Vt=ot!==null?ot.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number")return Vt!==null?null:K(ft,ot,""+ht,kt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case V:return ht.key===Vt?et(ft,ot,ht,kt):null;case P:return ht.key===Vt?pt(ft,ot,ht,kt):null;case ct:return Vt=ht._init,It(ft,ot,Vt(ht._payload),kt)}if(Rt(ht)||X(ht))return Vt!==null?null:xt(ft,ot,ht,kt,null);gu(ft,ht)}return null}function Ut(ft,ot,ht,kt,Vt){if(typeof kt=="string"&&kt!==""||typeof kt=="number")return ft=ft.get(ht)||null,K(ot,ft,""+kt,Vt);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case V:return ft=ft.get(kt.key===null?ht:kt.key)||null,et(ot,ft,kt,Vt);case P:return ft=ft.get(kt.key===null?ht:kt.key)||null,pt(ot,ft,kt,Vt);case ct:var ne=kt._init;return Ut(ft,ot,ht,ne(kt._payload),Vt)}if(Rt(kt)||X(kt))return ft=ft.get(ht)||null,xt(ot,ft,kt,Vt,null);gu(ot,kt)}return null}function Qt(ft,ot,ht,kt){for(var Vt=null,ne=null,re=ot,le=ot=0,hn=null;re!==null&&le<ht.length;le++){re.index>le?(hn=re,re=null):hn=re.sibling;var we=It(ft,re,ht[le],kt);if(we===null){re===null&&(re=hn);break}o&&re&&we.alternate===null&&s(ft,re),ot=S(we,ot,le),ne===null?Vt=we:ne.sibling=we,ne=we,re=hn}if(le===ht.length)return u(ft,re),Te&&Yo(ft,le),Vt;if(re===null){for(;le<ht.length;le++)re=Ot(ft,ht[le],kt),re!==null&&(ot=S(re,ot,le),ne===null?Vt=re:ne.sibling=re,ne=re);return Te&&Yo(ft,le),Vt}for(re=m(ft,re);le<ht.length;le++)hn=Ut(re,ft,le,ht[le],kt),hn!==null&&(o&&hn.alternate!==null&&re.delete(hn.key===null?le:hn.key),ot=S(hn,ot,le),ne===null?Vt=hn:ne.sibling=hn,ne=hn);return o&&re.forEach(function(wo){return s(ft,wo)}),Te&&Yo(ft,le),Vt}function qt(ft,ot,ht,kt){var Vt=X(ht);if(typeof Vt!="function")throw Error(e(150));if(ht=Vt.call(ht),ht==null)throw Error(e(151));for(var ne=Vt=null,re=ot,le=ot=0,hn=null,we=ht.next();re!==null&&!we.done;le++,we=ht.next()){re.index>le?(hn=re,re=null):hn=re.sibling;var wo=It(ft,re,we.value,kt);if(wo===null){re===null&&(re=hn);break}o&&re&&wo.alternate===null&&s(ft,re),ot=S(wo,ot,le),ne===null?Vt=wo:ne.sibling=wo,ne=wo,re=hn}if(we.done)return u(ft,re),Te&&Yo(ft,le),Vt;if(re===null){for(;!we.done;le++,we=ht.next())we=Ot(ft,we.value,kt),we!==null&&(ot=S(we,ot,le),ne===null?Vt=we:ne.sibling=we,ne=we);return Te&&Yo(ft,le),Vt}for(re=m(ft,re);!we.done;le++,we=ht.next())we=Ut(re,ft,le,we.value,kt),we!==null&&(o&&we.alternate!==null&&re.delete(we.key===null?le:we.key),ot=S(we,ot,le),ne===null?Vt=we:ne.sibling=we,ne=we);return o&&re.forEach(function(Mx){return s(ft,Mx)}),Te&&Yo(ft,le),Vt}function Ge(ft,ot,ht,kt){if(typeof ht=="object"&&ht!==null&&ht.type===_&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case V:t:{for(var Vt=ht.key,ne=ot;ne!==null;){if(ne.key===Vt){if(Vt=ht.type,Vt===_){if(ne.tag===7){u(ft,ne.sibling),ot=L(ne,ht.props.children),ot.return=ft,ft=ot;break t}}else if(ne.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===ct&&Xm(Vt)===ne.type){u(ft,ne.sibling),ot=L(ne,ht.props),ot.ref=fc(ft,ne,ht),ot.return=ft,ft=ot;break t}u(ft,ne);break}else s(ft,ne);ne=ne.sibling}ht.type===_?(ot=is(ht.props.children,ft.mode,kt,ht.key),ot.return=ft,ft=ot):(kt=ju(ht.type,ht.key,ht.props,null,ft.mode,kt),kt.ref=fc(ft,ot,ht),kt.return=ft,ft=kt)}return N(ft);case P:t:{for(ne=ht.key;ot!==null;){if(ot.key===ne)if(ot.tag===4&&ot.stateNode.containerInfo===ht.containerInfo&&ot.stateNode.implementation===ht.implementation){u(ft,ot.sibling),ot=L(ot,ht.children||[]),ot.return=ft,ft=ot;break t}else{u(ft,ot);break}else s(ft,ot);ot=ot.sibling}ot=_g(ht,ft.mode,kt),ot.return=ft,ft=ot}return N(ft);case ct:return ne=ht._init,Ge(ft,ot,ne(ht._payload),kt)}if(Rt(ht))return Qt(ft,ot,ht,kt);if(X(ht))return qt(ft,ot,ht,kt);gu(ft,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"?(ht=""+ht,ot!==null&&ot.tag===6?(u(ft,ot.sibling),ot=L(ot,ht),ot.return=ft,ft=ot):(u(ft,ot),ot=mg(ht,ft.mode,kt),ot.return=ft,ft=ot),N(ft)):u(ft,ot)}return Ge}var Xs=Jm(!0),t_=Jm(!1),pu=ao(null),mu=null,Js=null,xh=null;function Eh(){xh=Js=mu=null}function Sh(o){var s=pu.current;Be(pu),o._currentValue=s}function Oh(o,s,u){for(;o!==null;){var m=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),o===u)break;o=o.return}}function ta(o,s){mu=o,xh=Js=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&s)!==0&&(Vn=!0),o.firstContext=null)}function mr(o){var s=o._currentValue;if(xh!==o)if(o={context:o,memoizedValue:s,next:null},Js===null){if(mu===null)throw Error(e(308));Js=o,mu.dependencies={lanes:0,firstContext:o}}else Js=Js.next=o;return s}var Zo=null;function Bh(o){Zo===null?Zo=[o]:Zo.push(o)}function e_(o,s,u,m){var L=s.interleaved;return L===null?(u.next=u,Bh(s)):(u.next=L.next,L.next=u),s.interleaved=u,Ii(o,m)}function Ii(o,s){o.lanes|=s;var u=o.alternate;for(u!==null&&(u.lanes|=s),u=o,o=o.return;o!==null;)o.childLanes|=s,u=o.alternate,u!==null&&(u.childLanes|=s),u=o,o=o.return;return u.tag===3?u.stateNode:null}var uo=!1;function kh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n_(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function xi(o,s){return{eventTime:o,lane:s,tag:0,payload:null,callback:null,next:null}}function fo(o,s,u){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(_e&2)!==0){var L=m.pending;return L===null?s.next=s:(s.next=L.next,L.next=s),m.pending=s,Ii(o,u)}return L=m.interleaved,L===null?(s.next=s,Bh(m)):(s.next=L.next,L.next=s),m.interleaved=s,Ii(o,u)}function _u(o,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var m=s.lanes;m&=o.pendingLanes,u|=m,s.lanes=u,Wf(o,u)}}function r_(o,s){var u=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var L=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var N={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};S===null?L=S=N:S=S.next=N,u=u.next}while(u!==null);S===null?L=S=s:S=S.next=s}else L=S=s;u={baseState:m.baseState,firstBaseUpdate:L,lastBaseUpdate:S,shared:m.shared,effects:m.effects},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=s:o.next=s,u.lastBaseUpdate=s}function yu(o,s,u,m){var L=o.updateQueue;uo=!1;var S=L.firstBaseUpdate,N=L.lastBaseUpdate,K=L.shared.pending;if(K!==null){L.shared.pending=null;var et=K,pt=et.next;et.next=null,N===null?S=pt:N.next=pt,N=et;var xt=o.alternate;xt!==null&&(xt=xt.updateQueue,K=xt.lastBaseUpdate,K!==N&&(K===null?xt.firstBaseUpdate=pt:K.next=pt,xt.lastBaseUpdate=et))}if(S!==null){var Ot=L.baseState;N=0,xt=pt=et=null,K=S;do{var It=K.lane,Ut=K.eventTime;if((m&It)===It){xt!==null&&(xt=xt.next={eventTime:Ut,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});t:{var Qt=o,qt=K;switch(It=s,Ut=u,qt.tag){case 1:if(Qt=qt.payload,typeof Qt=="function"){Ot=Qt.call(Ut,Ot,It);break t}Ot=Qt;break t;case 3:Qt.flags=Qt.flags&-65537|128;case 0:if(Qt=qt.payload,It=typeof Qt=="function"?Qt.call(Ut,Ot,It):Qt,It==null)break t;Ot=J({},Ot,It);break t;case 2:uo=!0}}K.callback!==null&&K.lane!==0&&(o.flags|=64,It=L.effects,It===null?L.effects=[K]:It.push(K))}else Ut={eventTime:Ut,lane:It,tag:K.tag,payload:K.payload,callback:K.callback,next:null},xt===null?(pt=xt=Ut,et=Ot):xt=xt.next=Ut,N|=It;if(K=K.next,K===null){if(K=L.shared.pending,K===null)break;It=K,K=It.next,It.next=null,L.lastBaseUpdate=It,L.shared.pending=null}}while(!0);if(xt===null&&(et=Ot),L.baseState=et,L.firstBaseUpdate=pt,L.lastBaseUpdate=xt,s=L.shared.interleaved,s!==null){L=s;do N|=L.lane,L=L.next;while(L!==s)}else S===null&&(L.shared.lanes=0);ts|=N,o.lanes=N,o.memoizedState=Ot}}function i_(o,s,u){if(o=s.effects,s.effects=null,o!==null)for(s=0;s<o.length;s++){var m=o[s],L=m.callback;if(L!==null){if(m.callback=null,m=u,typeof L!="function")throw Error(e(191,L));L.call(m)}}}var hc={},ri=ao(hc),gc=ao(hc),pc=ao(hc);function Xo(o){if(o===hc)throw Error(e(174));return o}function Mh(o,s){switch(xe(pc,s),xe(gc,o),xe(ri,hc),o=s.nodeType,o){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Je(null,"");break;default:o=o===8?s.parentNode:s,s=o.namespaceURI||null,o=o.tagName,s=Je(s,o)}Be(ri),xe(ri,s)}function ea(){Be(ri),Be(gc),Be(pc)}function o_(o){Xo(pc.current);var s=Xo(ri.current),u=Je(s,o.type);s!==u&&(xe(gc,o),xe(ri,u))}function Fh(o){gc.current===o&&(Be(ri),Be(gc))}var Ne=ao(0);function wu(o){for(var s=o;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ph=[];function Th(){for(var o=0;o<Ph.length;o++)Ph[o]._workInProgressVersionPrimary=null;Ph.length=0}var vu=D.ReactCurrentDispatcher,Rh=D.ReactCurrentBatchConfig,Jo=0,je=null,tn=null,dn=null,bu=!1,mc=!1,_c=0,tx=0;function Cn(){throw Error(e(321))}function Nh(o,s){if(s===null)return!1;for(var u=0;u<s.length&&u<o.length;u++)if(!Mr(o[u],s[u]))return!1;return!0}function jh(o,s,u,m,L,S){if(Jo=S,je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,vu.current=o===null||o.memoizedState===null?ix:ox,o=u(m,L),mc){S=0;do{if(mc=!1,_c=0,25<=S)throw Error(e(301));S+=1,dn=tn=null,s.updateQueue=null,vu.current=sx,o=u(m,L)}while(mc)}if(vu.current=Cu,s=tn!==null&&tn.next!==null,Jo=0,dn=tn=je=null,bu=!1,s)throw Error(e(300));return o}function Dh(){var o=_c!==0;return _c=0,o}function ii(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?je.memoizedState=dn=o:dn=dn.next=o,dn}function _r(){if(tn===null){var o=je.alternate;o=o!==null?o.memoizedState:null}else o=tn.next;var s=dn===null?je.memoizedState:dn.next;if(s!==null)dn=s,tn=o;else{if(o===null)throw Error(e(310));tn=o,o={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},dn===null?je.memoizedState=dn=o:dn=dn.next=o}return dn}function yc(o,s){return typeof s=="function"?s(o):s}function Uh(o){var s=_r(),u=s.queue;if(u===null)throw Error(e(311));u.lastRenderedReducer=o;var m=tn,L=m.baseQueue,S=u.pending;if(S!==null){if(L!==null){var N=L.next;L.next=S.next,S.next=N}m.baseQueue=L=S,u.pending=null}if(L!==null){S=L.next,m=m.baseState;var K=N=null,et=null,pt=S;do{var xt=pt.lane;if((Jo&xt)===xt)et!==null&&(et=et.next={lane:0,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null}),m=pt.hasEagerState?pt.eagerState:o(m,pt.action);else{var Ot={lane:xt,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null};et===null?(K=et=Ot,N=m):et=et.next=Ot,je.lanes|=xt,ts|=xt}pt=pt.next}while(pt!==null&&pt!==S);et===null?N=m:et.next=K,Mr(m,s.memoizedState)||(Vn=!0),s.memoizedState=m,s.baseState=N,s.baseQueue=et,u.lastRenderedState=m}if(o=u.interleaved,o!==null){L=o;do S=L.lane,je.lanes|=S,ts|=S,L=L.next;while(L!==o)}else L===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function zh(o){var s=_r(),u=s.queue;if(u===null)throw Error(e(311));u.lastRenderedReducer=o;var m=u.dispatch,L=u.pending,S=s.memoizedState;if(L!==null){u.pending=null;var N=L=L.next;do S=o(S,N.action),N=N.next;while(N!==L);Mr(S,s.memoizedState)||(Vn=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),u.lastRenderedState=S}return[S,m]}function s_(){}function a_(o,s){var u=je,m=_r(),L=s(),S=!Mr(m.memoizedState,L);if(S&&(m.memoizedState=L,Vn=!0),m=m.queue,$h(u_.bind(null,u,m,o),[o]),m.getSnapshot!==s||S||dn!==null&&dn.memoizedState.tag&1){if(u.flags|=2048,wc(9,l_.bind(null,u,m,L,s),void 0,null),fn===null)throw Error(e(349));(Jo&30)!==0||c_(u,s,L)}return L}function c_(o,s,u){o.flags|=16384,o={getSnapshot:s,value:u},s=je.updateQueue,s===null?(s={lastEffect:null,stores:null},je.updateQueue=s,s.stores=[o]):(u=s.stores,u===null?s.stores=[o]:u.push(o))}function l_(o,s,u,m){s.value=u,s.getSnapshot=m,d_(s)&&f_(o)}function u_(o,s,u){return u(function(){d_(s)&&f_(o)})}function d_(o){var s=o.getSnapshot;o=o.value;try{var u=s();return!Mr(o,u)}catch{return!0}}function f_(o){var s=Ii(o,1);s!==null&&Nr(s,o,1,-1)}function h_(o){var s=ii();return typeof o=="function"&&(o=o()),s.memoizedState=s.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:o},s.queue=o,o=o.dispatch=rx.bind(null,je,o),[s.memoizedState,o]}function wc(o,s,u,m){return o={tag:o,create:s,destroy:u,deps:m,next:null},s=je.updateQueue,s===null?(s={lastEffect:null,stores:null},je.updateQueue=s,s.lastEffect=o.next=o):(u=s.lastEffect,u===null?s.lastEffect=o.next=o:(m=u.next,u.next=o,o.next=m,s.lastEffect=o)),o}function g_(){return _r().memoizedState}function Au(o,s,u,m){var L=ii();je.flags|=o,L.memoizedState=wc(1|s,u,void 0,m===void 0?null:m)}function Lu(o,s,u,m){var L=_r();m=m===void 0?null:m;var S=void 0;if(tn!==null){var N=tn.memoizedState;if(S=N.destroy,m!==null&&Nh(m,N.deps)){L.memoizedState=wc(s,u,S,m);return}}je.flags|=o,L.memoizedState=wc(1|s,u,S,m)}function p_(o,s){return Au(8390656,8,o,s)}function $h(o,s){return Lu(2048,8,o,s)}function m_(o,s){return Lu(4,2,o,s)}function __(o,s){return Lu(4,4,o,s)}function y_(o,s){if(typeof s=="function")return o=o(),s(o),function(){s(null)};if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function w_(o,s,u){return u=u!=null?u.concat([o]):null,Lu(4,4,y_.bind(null,s,o),u)}function Qh(){}function v_(o,s){var u=_r();s=s===void 0?null:s;var m=u.memoizedState;return m!==null&&s!==null&&Nh(s,m[1])?m[0]:(u.memoizedState=[o,s],o)}function b_(o,s){var u=_r();s=s===void 0?null:s;var m=u.memoizedState;return m!==null&&s!==null&&Nh(s,m[1])?m[0]:(o=o(),u.memoizedState=[o,s],o)}function A_(o,s,u){return(Jo&21)===0?(o.baseState&&(o.baseState=!1,Vn=!0),o.memoizedState=u):(Mr(u,s)||(u=X0(),je.lanes|=u,ts|=u,o.baseState=!0),s)}function ex(o,s){var u=ve;ve=u!==0&&4>u?u:4,o(!0);var m=Rh.transition;Rh.transition={};try{o(!1),s()}finally{ve=u,Rh.transition=m}}function L_(){return _r().memoizedState}function nx(o,s,u){var m=mo(o);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},C_(o))I_(s,u);else if(u=e_(o,s,u,m),u!==null){var L=Rn();Nr(u,o,m,L),x_(u,s,m)}}function rx(o,s,u){var m=mo(o),L={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(C_(o))I_(s,L);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var N=s.lastRenderedState,K=S(N,u);if(L.hasEagerState=!0,L.eagerState=K,Mr(K,N)){var et=s.interleaved;et===null?(L.next=L,Bh(s)):(L.next=et.next,et.next=L),s.interleaved=L;return}}catch{}finally{}u=e_(o,s,L,m),u!==null&&(L=Rn(),Nr(u,o,m,L),x_(u,s,m))}}function C_(o){var s=o.alternate;return o===je||s!==null&&s===je}function I_(o,s){mc=bu=!0;var u=o.pending;u===null?s.next=s:(s.next=u.next,u.next=s),o.pending=s}function x_(o,s,u){if((u&4194240)!==0){var m=s.lanes;m&=o.pendingLanes,u|=m,s.lanes=u,Wf(o,u)}}var Cu={readContext:mr,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},ix={readContext:mr,useCallback:function(o,s){return ii().memoizedState=[o,s===void 0?null:s],o},useContext:mr,useEffect:p_,useImperativeHandle:function(o,s,u){return u=u!=null?u.concat([o]):null,Au(4194308,4,y_.bind(null,s,o),u)},useLayoutEffect:function(o,s){return Au(4194308,4,o,s)},useInsertionEffect:function(o,s){return Au(4,2,o,s)},useMemo:function(o,s){var u=ii();return s=s===void 0?null:s,o=o(),u.memoizedState=[o,s],o},useReducer:function(o,s,u){var m=ii();return s=u!==void 0?u(s):s,m.memoizedState=m.baseState=s,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:s},m.queue=o,o=o.dispatch=nx.bind(null,je,o),[m.memoizedState,o]},useRef:function(o){var s=ii();return o={current:o},s.memoizedState=o},useState:h_,useDebugValue:Qh,useDeferredValue:function(o){return ii().memoizedState=o},useTransition:function(){var o=h_(!1),s=o[0];return o=ex.bind(null,o[1]),ii().memoizedState=o,[s,o]},useMutableSource:function(){},useSyncExternalStore:function(o,s,u){var m=je,L=ii();if(Te){if(u===void 0)throw Error(e(407));u=u()}else{if(u=s(),fn===null)throw Error(e(349));(Jo&30)!==0||c_(m,s,u)}L.memoizedState=u;var S={value:u,getSnapshot:s};return L.queue=S,p_(u_.bind(null,m,S,o),[o]),m.flags|=2048,wc(9,l_.bind(null,m,S,u,s),void 0,null),u},useId:function(){var o=ii(),s=fn.identifierPrefix;if(Te){var u=Ci,m=Li;u=(m&~(1<<32-kr(m)-1)).toString(32)+u,s=":"+s+"R"+u,u=_c++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=tx++,s=":"+s+"r"+u.toString(32)+":";return o.memoizedState=s},unstable_isNewReconciler:!1},ox={readContext:mr,useCallback:v_,useContext:mr,useEffect:$h,useImperativeHandle:w_,useInsertionEffect:m_,useLayoutEffect:__,useMemo:b_,useReducer:Uh,useRef:g_,useState:function(){return Uh(yc)},useDebugValue:Qh,useDeferredValue:function(o){var s=_r();return A_(s,tn.memoizedState,o)},useTransition:function(){var o=Uh(yc)[0],s=_r().memoizedState;return[o,s]},useMutableSource:s_,useSyncExternalStore:a_,useId:L_,unstable_isNewReconciler:!1},sx={readContext:mr,useCallback:v_,useContext:mr,useEffect:$h,useImperativeHandle:w_,useInsertionEffect:m_,useLayoutEffect:__,useMemo:b_,useReducer:zh,useRef:g_,useState:function(){return zh(yc)},useDebugValue:Qh,useDeferredValue:function(o){var s=_r();return tn===null?s.memoizedState=o:A_(s,tn.memoizedState,o)},useTransition:function(){var o=zh(yc)[0],s=_r().memoizedState;return[o,s]},useMutableSource:s_,useSyncExternalStore:a_,useId:L_,unstable_isNewReconciler:!1};function Pr(o,s){if(o&&o.defaultProps){s=J({},s),o=o.defaultProps;for(var u in o)s[u]===void 0&&(s[u]=o[u]);return s}return s}function qh(o,s,u,m){s=o.memoizedState,u=u(m,s),u=u==null?s:J({},s,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var Iu={isMounted:function(o){return(o=o._reactInternals)?qn(o)===o:!1},enqueueSetState:function(o,s,u){o=o._reactInternals;var m=Rn(),L=mo(o),S=xi(m,L);S.payload=s,u!=null&&(S.callback=u),s=fo(o,S,L),s!==null&&(Nr(s,o,L,m),_u(s,o,L))},enqueueReplaceState:function(o,s,u){o=o._reactInternals;var m=Rn(),L=mo(o),S=xi(m,L);S.tag=1,S.payload=s,u!=null&&(S.callback=u),s=fo(o,S,L),s!==null&&(Nr(s,o,L,m),_u(s,o,L))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var u=Rn(),m=mo(o),L=xi(u,m);L.tag=2,s!=null&&(L.callback=s),s=fo(o,L,m),s!==null&&(Nr(s,o,m,u),_u(s,o,m))}};function E_(o,s,u,m,L,S,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,S,N):s.prototype&&s.prototype.isPureReactComponent?!oc(u,m)||!oc(L,S):!0}function S_(o,s,u){var m=!1,L=co,S=s.contextType;return typeof S=="object"&&S!==null?S=mr(S):(L=Gn(s)?Ko:Ln.current,m=s.contextTypes,S=(m=m!=null)?Ks(o,L):co),s=new s(u,S),o.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Iu,o.stateNode=s,s._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=L,o.__reactInternalMemoizedMaskedChildContext=S),s}function O_(o,s,u,m){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,m),s.state!==o&&Iu.enqueueReplaceState(s,s.state,null)}function Wh(o,s,u,m){var L=o.stateNode;L.props=u,L.state=o.memoizedState,L.refs={},kh(o);var S=s.contextType;typeof S=="object"&&S!==null?L.context=mr(S):(S=Gn(s)?Ko:Ln.current,L.context=Ks(o,S)),L.state=o.memoizedState,S=s.getDerivedStateFromProps,typeof S=="function"&&(qh(o,s,S,u),L.state=o.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(s=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),s!==L.state&&Iu.enqueueReplaceState(L,L.state,null),yu(o,u,L,m),L.state=o.memoizedState),typeof L.componentDidMount=="function"&&(o.flags|=4194308)}function na(o,s){try{var u="",m=s;do u+=E(m),m=m.return;while(m);var L=u}catch(S){L=`
Error generating stack: `+S.message+`
`+S.stack}return{value:o,source:s,stack:L,digest:null}}function Gh(o,s,u){return{value:o,source:null,stack:u??null,digest:s??null}}function Vh(o,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var ax=typeof WeakMap=="function"?WeakMap:Map;function B_(o,s,u){u=xi(-1,u),u.tag=3,u.payload={element:null};var m=s.value;return u.callback=function(){Mu||(Mu=!0,cg=m),Vh(o,s)},u}function k_(o,s,u){u=xi(-1,u),u.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var L=s.value;u.payload=function(){return m(L)},u.callback=function(){Vh(o,s)}}var S=o.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(u.callback=function(){Vh(o,s),typeof m!="function"&&(go===null?go=new Set([this]):go.add(this));var N=s.stack;this.componentDidCatch(s.value,{componentStack:N!==null?N:""})}),u}function M_(o,s,u){var m=o.pingCache;if(m===null){m=o.pingCache=new ax;var L=new Set;m.set(s,L)}else L=m.get(s),L===void 0&&(L=new Set,m.set(s,L));L.has(u)||(L.add(u),o=bx.bind(null,o,s,u),s.then(o,o))}function F_(o){do{var s;if((s=o.tag===13)&&(s=o.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return o;o=o.return}while(o!==null);return null}function P_(o,s,u,m,L){return(o.mode&1)===0?(o===s?o.flags|=65536:(o.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=xi(-1,1),s.tag=2,fo(u,s,1))),u.lanes|=1),o):(o.flags|=65536,o.lanes=L,o)}var cx=D.ReactCurrentOwner,Vn=!1;function Tn(o,s,u,m){s.child=o===null?t_(s,null,u,m):Xs(s,o.child,u,m)}function T_(o,s,u,m,L){u=u.render;var S=s.ref;return ta(s,L),m=jh(o,s,u,m,S,L),u=Dh(),o!==null&&!Vn?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~L,Ei(o,s,L)):(Te&&u&&bh(s),s.flags|=1,Tn(o,s,m,L),s.child)}function R_(o,s,u,m,L){if(o===null){var S=u.type;return typeof S=="function"&&!pg(S)&&S.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=S,N_(o,s,S,m,L)):(o=ju(u.type,null,m,s,s.mode,L),o.ref=s.ref,o.return=s,s.child=o)}if(S=o.child,(o.lanes&L)===0){var N=S.memoizedProps;if(u=u.compare,u=u!==null?u:oc,u(N,m)&&o.ref===s.ref)return Ei(o,s,L)}return s.flags|=1,o=yo(S,m),o.ref=s.ref,o.return=s,s.child=o}function N_(o,s,u,m,L){if(o!==null){var S=o.memoizedProps;if(oc(S,m)&&o.ref===s.ref)if(Vn=!1,s.pendingProps=m=S,(o.lanes&L)!==0)(o.flags&131072)!==0&&(Vn=!0);else return s.lanes=o.lanes,Ei(o,s,L)}return Kh(o,s,u,m,L)}function j_(o,s,u){var m=s.pendingProps,L=m.children,S=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(ia,ar),ar|=u;else{if((u&1073741824)===0)return o=S!==null?S.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:o,cachePool:null,transitions:null},s.updateQueue=null,xe(ia,ar),ar|=o,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=S!==null?S.baseLanes:u,xe(ia,ar),ar|=m}else S!==null?(m=S.baseLanes|u,s.memoizedState=null):m=u,xe(ia,ar),ar|=m;return Tn(o,s,L,u),s.child}function D_(o,s){var u=s.ref;(o===null&&u!==null||o!==null&&o.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function Kh(o,s,u,m,L){var S=Gn(u)?Ko:Ln.current;return S=Ks(s,S),ta(s,L),u=jh(o,s,u,m,S,L),m=Dh(),o!==null&&!Vn?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~L,Ei(o,s,L)):(Te&&m&&bh(s),s.flags|=1,Tn(o,s,u,L),s.child)}function U_(o,s,u,m,L){if(Gn(u)){var S=!0;lu(s)}else S=!1;if(ta(s,L),s.stateNode===null)Eu(o,s),S_(s,u,m),Wh(s,u,m,L),m=!0;else if(o===null){var N=s.stateNode,K=s.memoizedProps;N.props=K;var et=N.context,pt=u.contextType;typeof pt=="object"&&pt!==null?pt=mr(pt):(pt=Gn(u)?Ko:Ln.current,pt=Ks(s,pt));var xt=u.getDerivedStateFromProps,Ot=typeof xt=="function"||typeof N.getSnapshotBeforeUpdate=="function";Ot||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(K!==m||et!==pt)&&O_(s,N,m,pt),uo=!1;var It=s.memoizedState;N.state=It,yu(s,m,N,L),et=s.memoizedState,K!==m||It!==et||Wn.current||uo?(typeof xt=="function"&&(qh(s,u,xt,m),et=s.memoizedState),(K=uo||E_(s,u,K,m,It,et,pt))?(Ot||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(s.flags|=4194308)):(typeof N.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=et),N.props=m,N.state=et,N.context=pt,m=K):(typeof N.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{N=s.stateNode,n_(o,s),K=s.memoizedProps,pt=s.type===s.elementType?K:Pr(s.type,K),N.props=pt,Ot=s.pendingProps,It=N.context,et=u.contextType,typeof et=="object"&&et!==null?et=mr(et):(et=Gn(u)?Ko:Ln.current,et=Ks(s,et));var Ut=u.getDerivedStateFromProps;(xt=typeof Ut=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(K!==Ot||It!==et)&&O_(s,N,m,et),uo=!1,It=s.memoizedState,N.state=It,yu(s,m,N,L);var Qt=s.memoizedState;K!==Ot||It!==Qt||Wn.current||uo?(typeof Ut=="function"&&(qh(s,u,Ut,m),Qt=s.memoizedState),(pt=uo||E_(s,u,pt,m,It,Qt,et)||!1)?(xt||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,Qt,et),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,Qt,et)),typeof N.componentDidUpdate=="function"&&(s.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof N.componentDidUpdate!="function"||K===o.memoizedProps&&It===o.memoizedState||(s.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&It===o.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=Qt),N.props=m,N.state=Qt,N.context=et,m=pt):(typeof N.componentDidUpdate!="function"||K===o.memoizedProps&&It===o.memoizedState||(s.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&It===o.memoizedState||(s.flags|=1024),m=!1)}return Hh(o,s,u,m,S,L)}function Hh(o,s,u,m,L,S){D_(o,s);var N=(s.flags&128)!==0;if(!m&&!N)return L&&Wm(s,u,!1),Ei(o,s,S);m=s.stateNode,cx.current=s;var K=N&&typeof u.getDerivedStateFromError!="function"?null:m.render();return s.flags|=1,o!==null&&N?(s.child=Xs(s,o.child,null,S),s.child=Xs(s,null,K,S)):Tn(o,s,K,S),s.memoizedState=m.state,L&&Wm(s,u,!0),s.child}function z_(o){var s=o.stateNode;s.pendingContext?Qm(o,s.pendingContext,s.pendingContext!==s.context):s.context&&Qm(o,s.context,!1),Mh(o,s.containerInfo)}function $_(o,s,u,m,L){return Zs(),Ih(L),s.flags|=256,Tn(o,s,u,m),s.child}var Yh={dehydrated:null,treeContext:null,retryLane:0};function Zh(o){return{baseLanes:o,cachePool:null,transitions:null}}function Q_(o,s,u){var m=s.pendingProps,L=Ne.current,S=!1,N=(s.flags&128)!==0,K;if((K=N)||(K=o!==null&&o.memoizedState===null?!1:(L&2)!==0),K?(S=!0,s.flags&=-129):(o===null||o.memoizedState!==null)&&(L|=1),xe(Ne,L&1),o===null)return Ch(s),o=s.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((s.mode&1)===0?s.lanes=1:o.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(N=m.children,o=m.fallback,S?(m=s.mode,S=s.child,N={mode:"hidden",children:N},(m&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=N):S=Du(N,m,0,null),o=is(o,m,u,null),S.return=s,o.return=s,S.sibling=o,s.child=S,s.child.memoizedState=Zh(u),s.memoizedState=Yh,o):Xh(s,N));if(L=o.memoizedState,L!==null&&(K=L.dehydrated,K!==null))return lx(o,s,N,m,K,L,u);if(S){S=m.fallback,N=s.mode,L=o.child,K=L.sibling;var et={mode:"hidden",children:m.children};return(N&1)===0&&s.child!==L?(m=s.child,m.childLanes=0,m.pendingProps=et,s.deletions=null):(m=yo(L,et),m.subtreeFlags=L.subtreeFlags&14680064),K!==null?S=yo(K,S):(S=is(S,N,u,null),S.flags|=2),S.return=s,m.return=s,m.sibling=S,s.child=m,m=S,S=s.child,N=o.child.memoizedState,N=N===null?Zh(u):{baseLanes:N.baseLanes|u,cachePool:null,transitions:N.transitions},S.memoizedState=N,S.childLanes=o.childLanes&~u,s.memoizedState=Yh,m}return S=o.child,o=S.sibling,m=yo(S,{mode:"visible",children:m.children}),(s.mode&1)===0&&(m.lanes=u),m.return=s,m.sibling=null,o!==null&&(u=s.deletions,u===null?(s.deletions=[o],s.flags|=16):u.push(o)),s.child=m,s.memoizedState=null,m}function Xh(o,s){return s=Du({mode:"visible",children:s},o.mode,0,null),s.return=o,o.child=s}function xu(o,s,u,m){return m!==null&&Ih(m),Xs(s,o.child,null,u),o=Xh(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function lx(o,s,u,m,L,S,N){if(u)return s.flags&256?(s.flags&=-257,m=Gh(Error(e(422))),xu(o,s,N,m)):s.memoizedState!==null?(s.child=o.child,s.flags|=128,null):(S=m.fallback,L=s.mode,m=Du({mode:"visible",children:m.children},L,0,null),S=is(S,L,N,null),S.flags|=2,m.return=s,S.return=s,m.sibling=S,s.child=m,(s.mode&1)!==0&&Xs(s,o.child,null,N),s.child.memoizedState=Zh(N),s.memoizedState=Yh,S);if((s.mode&1)===0)return xu(o,s,N,null);if(L.data==="$!"){if(m=L.nextSibling&&L.nextSibling.dataset,m)var K=m.dgst;return m=K,S=Error(e(419)),m=Gh(S,m,void 0),xu(o,s,N,m)}if(K=(N&o.childLanes)!==0,Vn||K){if(m=fn,m!==null){switch(N&-N){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}L=(L&(m.suspendedLanes|N))!==0?0:L,L!==0&&L!==S.retryLane&&(S.retryLane=L,Ii(o,L),Nr(m,o,L,-1))}return gg(),m=Gh(Error(e(421))),xu(o,s,N,m)}return L.data==="$?"?(s.flags|=128,s.child=o.child,s=Ax.bind(null,o),L._reactRetry=s,null):(o=S.treeContext,sr=so(L.nextSibling),or=s,Te=!0,Fr=null,o!==null&&(gr[pr++]=Li,gr[pr++]=Ci,gr[pr++]=Ho,Li=o.id,Ci=o.overflow,Ho=s),s=Xh(s,m.children),s.flags|=4096,s)}function q_(o,s,u){o.lanes|=s;var m=o.alternate;m!==null&&(m.lanes|=s),Oh(o.return,s,u)}function Jh(o,s,u,m,L){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:L}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=u,S.tailMode=L)}function W_(o,s,u){var m=s.pendingProps,L=m.revealOrder,S=m.tail;if(Tn(o,s,m.children,u),m=Ne.current,(m&2)!==0)m=m&1|2,s.flags|=128;else{if(o!==null&&(o.flags&128)!==0)t:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&q_(o,u,s);else if(o.tag===19)q_(o,u,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break t;for(;o.sibling===null;){if(o.return===null||o.return===s)break t;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(xe(Ne,m),(s.mode&1)===0)s.memoizedState=null;else switch(L){case"forwards":for(u=s.child,L=null;u!==null;)o=u.alternate,o!==null&&wu(o)===null&&(L=u),u=u.sibling;u=L,u===null?(L=s.child,s.child=null):(L=u.sibling,u.sibling=null),Jh(s,!1,L,u,S);break;case"backwards":for(u=null,L=s.child,s.child=null;L!==null;){if(o=L.alternate,o!==null&&wu(o)===null){s.child=L;break}o=L.sibling,L.sibling=u,u=L,L=o}Jh(s,!0,u,null,S);break;case"together":Jh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Eu(o,s){(s.mode&1)===0&&o!==null&&(o.alternate=null,s.alternate=null,s.flags|=2)}function Ei(o,s,u){if(o!==null&&(s.dependencies=o.dependencies),ts|=s.lanes,(u&s.childLanes)===0)return null;if(o!==null&&s.child!==o.child)throw Error(e(153));if(s.child!==null){for(o=s.child,u=yo(o,o.pendingProps),s.child=u,u.return=s;o.sibling!==null;)o=o.sibling,u=u.sibling=yo(o,o.pendingProps),u.return=s;u.sibling=null}return s.child}function ux(o,s,u){switch(s.tag){case 3:z_(s),Zs();break;case 5:o_(s);break;case 1:Gn(s.type)&&lu(s);break;case 4:Mh(s,s.stateNode.containerInfo);break;case 10:var m=s.type._context,L=s.memoizedProps.value;xe(pu,m._currentValue),m._currentValue=L;break;case 13:if(m=s.memoizedState,m!==null)return m.dehydrated!==null?(xe(Ne,Ne.current&1),s.flags|=128,null):(u&s.child.childLanes)!==0?Q_(o,s,u):(xe(Ne,Ne.current&1),o=Ei(o,s,u),o!==null?o.sibling:null);xe(Ne,Ne.current&1);break;case 19:if(m=(u&s.childLanes)!==0,(o.flags&128)!==0){if(m)return W_(o,s,u);s.flags|=128}if(L=s.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),xe(Ne,Ne.current),m)break;return null;case 22:case 23:return s.lanes=0,j_(o,s,u)}return Ei(o,s,u)}var G_,tg,V_,K_;G_=function(o,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)o.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},tg=function(){},V_=function(o,s,u,m){var L=o.memoizedProps;if(L!==m){o=s.stateNode,Xo(ri.current);var S=null;switch(u){case"input":L=mt(o,L),m=mt(o,m),S=[];break;case"select":L=J({},L,{value:void 0}),m=J({},m,{value:void 0}),S=[];break;case"textarea":L=Kt(o,L),m=Kt(o,m),S=[];break;default:typeof L.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=su)}st(u,m);var N;u=null;for(pt in L)if(!m.hasOwnProperty(pt)&&L.hasOwnProperty(pt)&&L[pt]!=null)if(pt==="style"){var K=L[pt];for(N in K)K.hasOwnProperty(N)&&(u||(u={}),u[N]="")}else pt!=="dangerouslySetInnerHTML"&&pt!=="children"&&pt!=="suppressContentEditableWarning"&&pt!=="suppressHydrationWarning"&&pt!=="autoFocus"&&(i.hasOwnProperty(pt)?S||(S=[]):(S=S||[]).push(pt,null));for(pt in m){var et=m[pt];if(K=L?.[pt],m.hasOwnProperty(pt)&&et!==K&&(et!=null||K!=null))if(pt==="style")if(K){for(N in K)!K.hasOwnProperty(N)||et&&et.hasOwnProperty(N)||(u||(u={}),u[N]="");for(N in et)et.hasOwnProperty(N)&&K[N]!==et[N]&&(u||(u={}),u[N]=et[N])}else u||(S||(S=[]),S.push(pt,u)),u=et;else pt==="dangerouslySetInnerHTML"?(et=et?et.__html:void 0,K=K?K.__html:void 0,et!=null&&K!==et&&(S=S||[]).push(pt,et)):pt==="children"?typeof et!="string"&&typeof et!="number"||(S=S||[]).push(pt,""+et):pt!=="suppressContentEditableWarning"&&pt!=="suppressHydrationWarning"&&(i.hasOwnProperty(pt)?(et!=null&&pt==="onScroll"&&Oe("scroll",o),S||K===et||(S=[])):(S=S||[]).push(pt,et))}u&&(S=S||[]).push("style",u);var pt=S;(s.updateQueue=pt)&&(s.flags|=4)}},K_=function(o,s,u,m){u!==m&&(s.flags|=4)};function vc(o,s){if(!Te)switch(o.tailMode){case"hidden":s=o.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function In(o){var s=o.alternate!==null&&o.alternate.child===o.child,u=0,m=0;if(s)for(var L=o.child;L!==null;)u|=L.lanes|L.childLanes,m|=L.subtreeFlags&14680064,m|=L.flags&14680064,L.return=o,L=L.sibling;else for(L=o.child;L!==null;)u|=L.lanes|L.childLanes,m|=L.subtreeFlags,m|=L.flags,L.return=o,L=L.sibling;return o.subtreeFlags|=m,o.childLanes=u,s}function dx(o,s,u){var m=s.pendingProps;switch(Ah(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(s),null;case 1:return Gn(s.type)&&cu(),In(s),null;case 3:return m=s.stateNode,ea(),Be(Wn),Be(Ln),Th(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(hu(s)?s.flags|=4:o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Fr!==null&&(dg(Fr),Fr=null))),tg(o,s),In(s),null;case 5:Fh(s);var L=Xo(pc.current);if(u=s.type,o!==null&&s.stateNode!=null)V_(o,s,u,m,L),o.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!m){if(s.stateNode===null)throw Error(e(166));return In(s),null}if(o=Xo(ri.current),hu(s)){m=s.stateNode,u=s.type;var S=s.memoizedProps;switch(m[ni]=s,m[uc]=S,o=(s.mode&1)!==0,u){case"dialog":Oe("cancel",m),Oe("close",m);break;case"iframe":case"object":case"embed":Oe("load",m);break;case"video":case"audio":for(L=0;L<ac.length;L++)Oe(ac[L],m);break;case"source":Oe("error",m);break;case"img":case"image":case"link":Oe("error",m),Oe("load",m);break;case"details":Oe("toggle",m);break;case"input":Et(m,S),Oe("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!S.multiple},Oe("invalid",m);break;case"textarea":de(m,S),Oe("invalid",m)}st(u,S),L=null;for(var N in S)if(S.hasOwnProperty(N)){var K=S[N];N==="children"?typeof K=="string"?m.textContent!==K&&(S.suppressHydrationWarning!==!0&&ou(m.textContent,K,o),L=["children",K]):typeof K=="number"&&m.textContent!==""+K&&(S.suppressHydrationWarning!==!0&&ou(m.textContent,K,o),L=["children",""+K]):i.hasOwnProperty(N)&&K!=null&&N==="onScroll"&&Oe("scroll",m)}switch(u){case"input":C(m),Wt(m,S,!0);break;case"textarea":C(m),un(m);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(m.onclick=su)}m=L,s.updateQueue=m,m!==null&&(s.flags|=4)}else{N=L.nodeType===9?L:L.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=De(u)),o==="http://www.w3.org/1999/xhtml"?u==="script"?(o=N.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=N.createElement(u,{is:m.is}):(o=N.createElement(u),u==="select"&&(N=o,m.multiple?N.multiple=!0:m.size&&(N.size=m.size))):o=N.createElementNS(o,u),o[ni]=s,o[uc]=m,G_(o,s,!1,!1),s.stateNode=o;t:{switch(N=dt(u,m),u){case"dialog":Oe("cancel",o),Oe("close",o),L=m;break;case"iframe":case"object":case"embed":Oe("load",o),L=m;break;case"video":case"audio":for(L=0;L<ac.length;L++)Oe(ac[L],o);L=m;break;case"source":Oe("error",o),L=m;break;case"img":case"image":case"link":Oe("error",o),Oe("load",o),L=m;break;case"details":Oe("toggle",o),L=m;break;case"input":Et(o,m),L=mt(o,m),Oe("invalid",o);break;case"option":L=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},L=J({},m,{value:void 0}),Oe("invalid",o);break;case"textarea":de(o,m),L=Kt(o,m),Oe("invalid",o);break;default:L=m}st(u,L),K=L;for(S in K)if(K.hasOwnProperty(S)){var et=K[S];S==="style"?b(o,et):S==="dangerouslySetInnerHTML"?(et=et?et.__html:void 0,et!=null&&Qe(o,et)):S==="children"?typeof et=="string"?(u!=="textarea"||et!=="")&&Ue(o,et):typeof et=="number"&&Ue(o,""+et):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?et!=null&&S==="onScroll"&&Oe("scroll",o):et!=null&&$(o,S,et,N))}switch(u){case"input":C(o),Wt(o,m,!1);break;case"textarea":C(o),un(o);break;case"option":m.value!=null&&o.setAttribute("value",""+p(m.value));break;case"select":o.multiple=!!m.multiple,S=m.value,S!=null?Pt(o,!!m.multiple,S,!1):m.defaultValue!=null&&Pt(o,!!m.multiple,m.defaultValue,!0);break;default:typeof L.onClick=="function"&&(o.onclick=su)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break t;case"img":m=!0;break t;default:m=!1}}m&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return In(s),null;case 6:if(o&&s.stateNode!=null)K_(o,s,o.memoizedProps,m);else{if(typeof m!="string"&&s.stateNode===null)throw Error(e(166));if(u=Xo(pc.current),Xo(ri.current),hu(s)){if(m=s.stateNode,u=s.memoizedProps,m[ni]=s,(S=m.nodeValue!==u)&&(o=or,o!==null))switch(o.tag){case 3:ou(m.nodeValue,u,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&ou(m.nodeValue,u,(o.mode&1)!==0)}S&&(s.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[ni]=s,s.stateNode=m}return In(s),null;case 13:if(Be(Ne),m=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Te&&sr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Zm(),Zs(),s.flags|=98560,S=!1;else if(S=hu(s),m!==null&&m.dehydrated!==null){if(o===null){if(!S)throw Error(e(318));if(S=s.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(e(317));S[ni]=s}else Zs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;In(s),S=!1}else Fr!==null&&(dg(Fr),Fr=null),S=!0;if(!S)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=u,s):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(s.child.flags|=8192,(s.mode&1)!==0&&(o===null||(Ne.current&1)!==0?en===0&&(en=3):gg())),s.updateQueue!==null&&(s.flags|=4),In(s),null);case 4:return ea(),tg(o,s),o===null&&cc(s.stateNode.containerInfo),In(s),null;case 10:return Sh(s.type._context),In(s),null;case 17:return Gn(s.type)&&cu(),In(s),null;case 19:if(Be(Ne),S=s.memoizedState,S===null)return In(s),null;if(m=(s.flags&128)!==0,N=S.rendering,N===null)if(m)vc(S,!1);else{if(en!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(N=wu(o),N!==null){for(s.flags|=128,vc(S,!1),m=N.updateQueue,m!==null&&(s.updateQueue=m,s.flags|=4),s.subtreeFlags=0,m=u,u=s.child;u!==null;)S=u,o=m,S.flags&=14680066,N=S.alternate,N===null?(S.childLanes=0,S.lanes=o,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=N.childLanes,S.lanes=N.lanes,S.child=N.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=N.memoizedProps,S.memoizedState=N.memoizedState,S.updateQueue=N.updateQueue,S.type=N.type,o=N.dependencies,S.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),u=u.sibling;return xe(Ne,Ne.current&1|2),s.child}o=o.sibling}S.tail!==null&&We()>oa&&(s.flags|=128,m=!0,vc(S,!1),s.lanes=4194304)}else{if(!m)if(o=wu(N),o!==null){if(s.flags|=128,m=!0,u=o.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),vc(S,!0),S.tail===null&&S.tailMode==="hidden"&&!N.alternate&&!Te)return In(s),null}else 2*We()-S.renderingStartTime>oa&&u!==1073741824&&(s.flags|=128,m=!0,vc(S,!1),s.lanes=4194304);S.isBackwards?(N.sibling=s.child,s.child=N):(u=S.last,u!==null?u.sibling=N:s.child=N,S.last=N)}return S.tail!==null?(s=S.tail,S.rendering=s,S.tail=s.sibling,S.renderingStartTime=We(),s.sibling=null,u=Ne.current,xe(Ne,m?u&1|2:u&1),s):(In(s),null);case 22:case 23:return hg(),m=s.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(s.flags|=8192),m&&(s.mode&1)!==0?(ar&1073741824)!==0&&(In(s),s.subtreeFlags&6&&(s.flags|=8192)):In(s),null;case 24:return null;case 25:return null}throw Error(e(156,s.tag))}function fx(o,s){switch(Ah(s),s.tag){case 1:return Gn(s.type)&&cu(),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return ea(),Be(Wn),Be(Ln),Th(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 5:return Fh(s),null;case 13:if(Be(Ne),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(e(340));Zs()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return Be(Ne),null;case 4:return ea(),null;case 10:return Sh(s.type._context),null;case 22:case 23:return hg(),null;case 24:return null;default:return null}}var Su=!1,xn=!1,hx=typeof WeakSet=="function"?WeakSet:Set,$t=null;function ra(o,s){var u=o.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){ze(o,s,m)}else u.current=null}function eg(o,s,u){try{u()}catch(m){ze(o,s,m)}}var H_=!1;function gx(o,s){if(hh=Kl,o=Em(),oh(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else t:{u=(u=o.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var L=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break t}var N=0,K=-1,et=-1,pt=0,xt=0,Ot=o,It=null;e:for(;;){for(var Ut;Ot!==u||L!==0&&Ot.nodeType!==3||(K=N+L),Ot!==S||m!==0&&Ot.nodeType!==3||(et=N+m),Ot.nodeType===3&&(N+=Ot.nodeValue.length),(Ut=Ot.firstChild)!==null;)It=Ot,Ot=Ut;for(;;){if(Ot===o)break e;if(It===u&&++pt===L&&(K=N),It===S&&++xt===m&&(et=N),(Ut=Ot.nextSibling)!==null)break;Ot=It,It=Ot.parentNode}Ot=Ut}u=K===-1||et===-1?null:{start:K,end:et}}else u=null}u=u||{start:0,end:0}}else u=null;for(gh={focusedElem:o,selectionRange:u},Kl=!1,$t=s;$t!==null;)if(s=$t,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,$t=o;else for(;$t!==null;){s=$t;try{var Qt=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Qt!==null){var qt=Qt.memoizedProps,Ge=Qt.memoizedState,ft=s.stateNode,ot=ft.getSnapshotBeforeUpdate(s.elementType===s.type?qt:Pr(s.type,qt),Ge);ft.__reactInternalSnapshotBeforeUpdate=ot}break;case 3:var ht=s.stateNode.containerInfo;ht.nodeType===1?ht.textContent="":ht.nodeType===9&&ht.documentElement&&ht.removeChild(ht.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(kt){ze(s,s.return,kt)}if(o=s.sibling,o!==null){o.return=s.return,$t=o;break}$t=s.return}return Qt=H_,H_=!1,Qt}function bc(o,s,u){var m=s.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var L=m=m.next;do{if((L.tag&o)===o){var S=L.destroy;L.destroy=void 0,S!==void 0&&eg(s,u,S)}L=L.next}while(L!==m)}}function Ou(o,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&o)===o){var m=u.create;u.destroy=m()}u=u.next}while(u!==s)}}function ng(o){var s=o.ref;if(s!==null){var u=o.stateNode;switch(o.tag){case 5:o=u;break;default:o=u}typeof s=="function"?s(o):s.current=o}}function Y_(o){var s=o.alternate;s!==null&&(o.alternate=null,Y_(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&(delete s[ni],delete s[uc],delete s[yh],delete s[YI],delete s[ZI])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Z_(o){return o.tag===5||o.tag===3||o.tag===4}function X_(o){t:for(;;){for(;o.sibling===null;){if(o.return===null||Z_(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue t;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function rg(o,s,u){var m=o.tag;if(m===5||m===6)o=o.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(o,s):u.insertBefore(o,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(o,u)):(s=u,s.appendChild(o)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=su));else if(m!==4&&(o=o.child,o!==null))for(rg(o,s,u),o=o.sibling;o!==null;)rg(o,s,u),o=o.sibling}function ig(o,s,u){var m=o.tag;if(m===5||m===6)o=o.stateNode,s?u.insertBefore(o,s):u.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(ig(o,s,u),o=o.sibling;o!==null;)ig(o,s,u),o=o.sibling}var mn=null,Tr=!1;function ho(o,s,u){for(u=u.child;u!==null;)J_(o,s,u),u=u.sibling}function J_(o,s,u){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount($l,u)}catch{}switch(u.tag){case 5:xn||ra(u,s);case 6:var m=mn,L=Tr;mn=null,ho(o,s,u),mn=m,Tr=L,mn!==null&&(Tr?(o=mn,u=u.stateNode,o.nodeType===8?o.parentNode.removeChild(u):o.removeChild(u)):mn.removeChild(u.stateNode));break;case 18:mn!==null&&(Tr?(o=mn,u=u.stateNode,o.nodeType===8?_h(o.parentNode,u):o.nodeType===1&&_h(o,u),Ja(o)):_h(mn,u.stateNode));break;case 4:m=mn,L=Tr,mn=u.stateNode.containerInfo,Tr=!0,ho(o,s,u),mn=m,Tr=L;break;case 0:case 11:case 14:case 15:if(!xn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){L=m=m.next;do{var S=L,N=S.destroy;S=S.tag,N!==void 0&&((S&2)!==0||(S&4)!==0)&&eg(u,s,N),L=L.next}while(L!==m)}ho(o,s,u);break;case 1:if(!xn&&(ra(u,s),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(K){ze(u,s,K)}ho(o,s,u);break;case 21:ho(o,s,u);break;case 22:u.mode&1?(xn=(m=xn)||u.memoizedState!==null,ho(o,s,u),xn=m):ho(o,s,u);break;default:ho(o,s,u)}}function ty(o){var s=o.updateQueue;if(s!==null){o.updateQueue=null;var u=o.stateNode;u===null&&(u=o.stateNode=new hx),s.forEach(function(m){var L=Lx.bind(null,o,m);u.has(m)||(u.add(m),m.then(L,L))})}}function Rr(o,s){var u=s.deletions;if(u!==null)for(var m=0;m<u.length;m++){var L=u[m];try{var S=o,N=s,K=N;t:for(;K!==null;){switch(K.tag){case 5:mn=K.stateNode,Tr=!1;break t;case 3:mn=K.stateNode.containerInfo,Tr=!0;break t;case 4:mn=K.stateNode.containerInfo,Tr=!0;break t}K=K.return}if(mn===null)throw Error(e(160));J_(S,N,L),mn=null,Tr=!1;var et=L.alternate;et!==null&&(et.return=null),L.return=null}catch(pt){ze(L,s,pt)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ey(s,o),s=s.sibling}function ey(o,s){var u=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Rr(s,o),oi(o),m&4){try{bc(3,o,o.return),Ou(3,o)}catch(qt){ze(o,o.return,qt)}try{bc(5,o,o.return)}catch(qt){ze(o,o.return,qt)}}break;case 1:Rr(s,o),oi(o),m&512&&u!==null&&ra(u,u.return);break;case 5:if(Rr(s,o),oi(o),m&512&&u!==null&&ra(u,u.return),o.flags&32){var L=o.stateNode;try{Ue(L,"")}catch(qt){ze(o,o.return,qt)}}if(m&4&&(L=o.stateNode,L!=null)){var S=o.memoizedProps,N=u!==null?u.memoizedProps:S,K=o.type,et=o.updateQueue;if(o.updateQueue=null,et!==null)try{K==="input"&&S.type==="radio"&&S.name!=null&&Zt(L,S),dt(K,N);var pt=dt(K,S);for(N=0;N<et.length;N+=2){var xt=et[N],Ot=et[N+1];xt==="style"?b(L,Ot):xt==="dangerouslySetInnerHTML"?Qe(L,Ot):xt==="children"?Ue(L,Ot):$(L,xt,Ot,pt)}switch(K){case"input":Tt(L,S);break;case"textarea":Ae(L,S);break;case"select":var It=L._wrapperState.wasMultiple;L._wrapperState.wasMultiple=!!S.multiple;var Ut=S.value;Ut!=null?Pt(L,!!S.multiple,Ut,!1):It!==!!S.multiple&&(S.defaultValue!=null?Pt(L,!!S.multiple,S.defaultValue,!0):Pt(L,!!S.multiple,S.multiple?[]:"",!1))}L[uc]=S}catch(qt){ze(o,o.return,qt)}}break;case 6:if(Rr(s,o),oi(o),m&4){if(o.stateNode===null)throw Error(e(162));L=o.stateNode,S=o.memoizedProps;try{L.nodeValue=S}catch(qt){ze(o,o.return,qt)}}break;case 3:if(Rr(s,o),oi(o),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Ja(s.containerInfo)}catch(qt){ze(o,o.return,qt)}break;case 4:Rr(s,o),oi(o);break;case 13:Rr(s,o),oi(o),L=o.child,L.flags&8192&&(S=L.memoizedState!==null,L.stateNode.isHidden=S,!S||L.alternate!==null&&L.alternate.memoizedState!==null||(ag=We())),m&4&&ty(o);break;case 22:if(xt=u!==null&&u.memoizedState!==null,o.mode&1?(xn=(pt=xn)||xt,Rr(s,o),xn=pt):Rr(s,o),oi(o),m&8192){if(pt=o.memoizedState!==null,(o.stateNode.isHidden=pt)&&!xt&&(o.mode&1)!==0)for($t=o,xt=o.child;xt!==null;){for(Ot=$t=xt;$t!==null;){switch(It=$t,Ut=It.child,It.tag){case 0:case 11:case 14:case 15:bc(4,It,It.return);break;case 1:ra(It,It.return);var Qt=It.stateNode;if(typeof Qt.componentWillUnmount=="function"){m=It,u=It.return;try{s=m,Qt.props=s.memoizedProps,Qt.state=s.memoizedState,Qt.componentWillUnmount()}catch(qt){ze(m,u,qt)}}break;case 5:ra(It,It.return);break;case 22:if(It.memoizedState!==null){iy(Ot);continue}}Ut!==null?(Ut.return=It,$t=Ut):iy(Ot)}xt=xt.sibling}t:for(xt=null,Ot=o;;){if(Ot.tag===5){if(xt===null){xt=Ot;try{L=Ot.stateNode,pt?(S=L.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(K=Ot.stateNode,et=Ot.memoizedProps.style,N=et!=null&&et.hasOwnProperty("display")?et.display:null,K.style.display=_t("display",N))}catch(qt){ze(o,o.return,qt)}}}else if(Ot.tag===6){if(xt===null)try{Ot.stateNode.nodeValue=pt?"":Ot.memoizedProps}catch(qt){ze(o,o.return,qt)}}else if((Ot.tag!==22&&Ot.tag!==23||Ot.memoizedState===null||Ot===o)&&Ot.child!==null){Ot.child.return=Ot,Ot=Ot.child;continue}if(Ot===o)break t;for(;Ot.sibling===null;){if(Ot.return===null||Ot.return===o)break t;xt===Ot&&(xt=null),Ot=Ot.return}xt===Ot&&(xt=null),Ot.sibling.return=Ot.return,Ot=Ot.sibling}}break;case 19:Rr(s,o),oi(o),m&4&&ty(o);break;case 21:break;default:Rr(s,o),oi(o)}}function oi(o){var s=o.flags;if(s&2){try{t:{for(var u=o.return;u!==null;){if(Z_(u)){var m=u;break t}u=u.return}throw Error(e(160))}switch(m.tag){case 5:var L=m.stateNode;m.flags&32&&(Ue(L,""),m.flags&=-33);var S=X_(o);ig(o,S,L);break;case 3:case 4:var N=m.stateNode.containerInfo,K=X_(o);rg(o,K,N);break;default:throw Error(e(161))}}catch(et){ze(o,o.return,et)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function px(o,s,u){$t=o,ny(o)}function ny(o,s,u){for(var m=(o.mode&1)!==0;$t!==null;){var L=$t,S=L.child;if(L.tag===22&&m){var N=L.memoizedState!==null||Su;if(!N){var K=L.alternate,et=K!==null&&K.memoizedState!==null||xn;K=Su;var pt=xn;if(Su=N,(xn=et)&&!pt)for($t=L;$t!==null;)N=$t,et=N.child,N.tag===22&&N.memoizedState!==null?oy(L):et!==null?(et.return=N,$t=et):oy(L);for(;S!==null;)$t=S,ny(S),S=S.sibling;$t=L,Su=K,xn=pt}ry(o)}else(L.subtreeFlags&8772)!==0&&S!==null?(S.return=L,$t=S):ry(o)}}function ry(o){for(;$t!==null;){var s=$t;if((s.flags&8772)!==0){var u=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:xn||Ou(5,s);break;case 1:var m=s.stateNode;if(s.flags&4&&!xn)if(u===null)m.componentDidMount();else{var L=s.elementType===s.type?u.memoizedProps:Pr(s.type,u.memoizedProps);m.componentDidUpdate(L,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var S=s.updateQueue;S!==null&&i_(s,S,m);break;case 3:var N=s.updateQueue;if(N!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}i_(s,N,u)}break;case 5:var K=s.stateNode;if(u===null&&s.flags&4){u=K;var et=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":et.autoFocus&&u.focus();break;case"img":et.src&&(u.src=et.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var pt=s.alternate;if(pt!==null){var xt=pt.memoizedState;if(xt!==null){var Ot=xt.dehydrated;Ot!==null&&Ja(Ot)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}xn||s.flags&512&&ng(s)}catch(It){ze(s,s.return,It)}}if(s===o){$t=null;break}if(u=s.sibling,u!==null){u.return=s.return,$t=u;break}$t=s.return}}function iy(o){for(;$t!==null;){var s=$t;if(s===o){$t=null;break}var u=s.sibling;if(u!==null){u.return=s.return,$t=u;break}$t=s.return}}function oy(o){for(;$t!==null;){var s=$t;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{Ou(4,s)}catch(et){ze(s,u,et)}break;case 1:var m=s.stateNode;if(typeof m.componentDidMount=="function"){var L=s.return;try{m.componentDidMount()}catch(et){ze(s,L,et)}}var S=s.return;try{ng(s)}catch(et){ze(s,S,et)}break;case 5:var N=s.return;try{ng(s)}catch(et){ze(s,N,et)}}}catch(et){ze(s,s.return,et)}if(s===o){$t=null;break}var K=s.sibling;if(K!==null){K.return=s.return,$t=K;break}$t=s.return}}var mx=Math.ceil,Bu=D.ReactCurrentDispatcher,og=D.ReactCurrentOwner,yr=D.ReactCurrentBatchConfig,_e=0,fn=null,He=null,_n=0,ar=0,ia=ao(0),en=0,Ac=null,ts=0,ku=0,sg=0,Lc=null,Kn=null,ag=0,oa=1/0,Si=null,Mu=!1,cg=null,go=null,Fu=!1,po=null,Pu=0,Cc=0,lg=null,Tu=-1,Ru=0;function Rn(){return(_e&6)!==0?We():Tu!==-1?Tu:Tu=We()}function mo(o){return(o.mode&1)===0?1:(_e&2)!==0&&_n!==0?_n&-_n:JI.transition!==null?(Ru===0&&(Ru=X0()),Ru):(o=ve,o!==0||(o=window.event,o=o===void 0?16:am(o.type)),o)}function Nr(o,s,u,m){if(50<Cc)throw Cc=0,lg=null,Error(e(185));Ka(o,u,m),((_e&2)===0||o!==fn)&&(o===fn&&((_e&2)===0&&(ku|=u),en===4&&_o(o,_n)),Hn(o,m),u===1&&_e===0&&(s.mode&1)===0&&(oa=We()+500,uu&&lo()))}function Hn(o,s){var u=o.callbackNode;JC(o,s);var m=Wl(o,o===fn?_n:0);if(m===0)u!==null&&Go(u),o.callbackNode=null,o.callbackPriority=0;else if(s=m&-m,o.callbackPriority!==s){if(u!=null&&Go(u),s===1)o.tag===0?XI(ay.bind(null,o)):Gm(ay.bind(null,o)),KI(function(){(_e&6)===0&&lo()}),u=null;else{switch(J0(m)){case 1:u=$f;break;case 4:u=Y0;break;case 16:u=zl;break;case 536870912:u=Z0;break;default:u=zl}u=py(u,sy.bind(null,o))}o.callbackPriority=s,o.callbackNode=u}}function sy(o,s){if(Tu=-1,Ru=0,(_e&6)!==0)throw Error(e(327));var u=o.callbackNode;if(sa()&&o.callbackNode!==u)return null;var m=Wl(o,o===fn?_n:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||s)s=Nu(o,m);else{s=m;var L=_e;_e|=2;var S=ly();(fn!==o||_n!==s)&&(Si=null,oa=We()+500,ns(o,s));do try{wx();break}catch(K){cy(o,K)}while(!0);Eh(),Bu.current=S,_e=L,He!==null?s=0:(fn=null,_n=0,s=en)}if(s!==0){if(s===2&&(L=Qf(o),L!==0&&(m=L,s=ug(o,L))),s===1)throw u=Ac,ns(o,0),_o(o,m),Hn(o,We()),u;if(s===6)_o(o,m);else{if(L=o.current.alternate,(m&30)===0&&!_x(L)&&(s=Nu(o,m),s===2&&(S=Qf(o),S!==0&&(m=S,s=ug(o,S))),s===1))throw u=Ac,ns(o,0),_o(o,m),Hn(o,We()),u;switch(o.finishedWork=L,o.finishedLanes=m,s){case 0:case 1:throw Error(e(345));case 2:rs(o,Kn,Si);break;case 3:if(_o(o,m),(m&130023424)===m&&(s=ag+500-We(),10<s)){if(Wl(o,0)!==0)break;if(L=o.suspendedLanes,(L&m)!==m){Rn(),o.pingedLanes|=o.suspendedLanes&L;break}o.timeoutHandle=mh(rs.bind(null,o,Kn,Si),s);break}rs(o,Kn,Si);break;case 4:if(_o(o,m),(m&4194240)===m)break;for(s=o.eventTimes,L=-1;0<m;){var N=31-kr(m);S=1<<N,N=s[N],N>L&&(L=N),m&=~S}if(m=L,m=We()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*mx(m/1960))-m,10<m){o.timeoutHandle=mh(rs.bind(null,o,Kn,Si),m);break}rs(o,Kn,Si);break;case 5:rs(o,Kn,Si);break;default:throw Error(e(329))}}}return Hn(o,We()),o.callbackNode===u?sy.bind(null,o):null}function ug(o,s){var u=Lc;return o.current.memoizedState.isDehydrated&&(ns(o,s).flags|=256),o=Nu(o,s),o!==2&&(s=Kn,Kn=u,s!==null&&dg(s)),o}function dg(o){Kn===null?Kn=o:Kn.push.apply(Kn,o)}function _x(o){for(var s=o;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var L=u[m],S=L.getSnapshot;L=L.value;try{if(!Mr(S(),L))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _o(o,s){for(s&=~sg,s&=~ku,o.suspendedLanes|=s,o.pingedLanes&=~s,o=o.expirationTimes;0<s;){var u=31-kr(s),m=1<<u;o[u]=-1,s&=~m}}function ay(o){if((_e&6)!==0)throw Error(e(327));sa();var s=Wl(o,0);if((s&1)===0)return Hn(o,We()),null;var u=Nu(o,s);if(o.tag!==0&&u===2){var m=Qf(o);m!==0&&(s=m,u=ug(o,m))}if(u===1)throw u=Ac,ns(o,0),_o(o,s),Hn(o,We()),u;if(u===6)throw Error(e(345));return o.finishedWork=o.current.alternate,o.finishedLanes=s,rs(o,Kn,Si),Hn(o,We()),null}function fg(o,s){var u=_e;_e|=1;try{return o(s)}finally{_e=u,_e===0&&(oa=We()+500,uu&&lo())}}function es(o){po!==null&&po.tag===0&&(_e&6)===0&&sa();var s=_e;_e|=1;var u=yr.transition,m=ve;try{if(yr.transition=null,ve=1,o)return o()}finally{ve=m,yr.transition=u,_e=s,(_e&6)===0&&lo()}}function hg(){ar=ia.current,Be(ia)}function ns(o,s){o.finishedWork=null,o.finishedLanes=0;var u=o.timeoutHandle;if(u!==-1&&(o.timeoutHandle=-1,VI(u)),He!==null)for(u=He.return;u!==null;){var m=u;switch(Ah(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&cu();break;case 3:ea(),Be(Wn),Be(Ln),Th();break;case 5:Fh(m);break;case 4:ea();break;case 13:Be(Ne);break;case 19:Be(Ne);break;case 10:Sh(m.type._context);break;case 22:case 23:hg()}u=u.return}if(fn=o,He=o=yo(o.current,null),_n=ar=s,en=0,Ac=null,sg=ku=ts=0,Kn=Lc=null,Zo!==null){for(s=0;s<Zo.length;s++)if(u=Zo[s],m=u.interleaved,m!==null){u.interleaved=null;var L=m.next,S=u.pending;if(S!==null){var N=S.next;S.next=L,m.next=N}u.pending=m}Zo=null}return o}function cy(o,s){do{var u=He;try{if(Eh(),vu.current=Cu,bu){for(var m=je.memoizedState;m!==null;){var L=m.queue;L!==null&&(L.pending=null),m=m.next}bu=!1}if(Jo=0,dn=tn=je=null,mc=!1,_c=0,og.current=null,u===null||u.return===null){en=1,Ac=s,He=null;break}t:{var S=o,N=u.return,K=u,et=s;if(s=_n,K.flags|=32768,et!==null&&typeof et=="object"&&typeof et.then=="function"){var pt=et,xt=K,Ot=xt.tag;if((xt.mode&1)===0&&(Ot===0||Ot===11||Ot===15)){var It=xt.alternate;It?(xt.updateQueue=It.updateQueue,xt.memoizedState=It.memoizedState,xt.lanes=It.lanes):(xt.updateQueue=null,xt.memoizedState=null)}var Ut=F_(N);if(Ut!==null){Ut.flags&=-257,P_(Ut,N,K,S,s),Ut.mode&1&&M_(S,pt,s),s=Ut,et=pt;var Qt=s.updateQueue;if(Qt===null){var qt=new Set;qt.add(et),s.updateQueue=qt}else Qt.add(et);break t}else{if((s&1)===0){M_(S,pt,s),gg();break t}et=Error(e(426))}}else if(Te&&K.mode&1){var Ge=F_(N);if(Ge!==null){(Ge.flags&65536)===0&&(Ge.flags|=256),P_(Ge,N,K,S,s),Ih(na(et,K));break t}}S=et=na(et,K),en!==4&&(en=2),Lc===null?Lc=[S]:Lc.push(S),S=N;do{switch(S.tag){case 3:S.flags|=65536,s&=-s,S.lanes|=s;var ft=B_(S,et,s);r_(S,ft);break t;case 1:K=et;var ot=S.type,ht=S.stateNode;if((S.flags&128)===0&&(typeof ot.getDerivedStateFromError=="function"||ht!==null&&typeof ht.componentDidCatch=="function"&&(go===null||!go.has(ht)))){S.flags|=65536,s&=-s,S.lanes|=s;var kt=k_(S,K,s);r_(S,kt);break t}}S=S.return}while(S!==null)}dy(u)}catch(Vt){s=Vt,He===u&&u!==null&&(He=u=u.return);continue}break}while(!0)}function ly(){var o=Bu.current;return Bu.current=Cu,o===null?Cu:o}function gg(){(en===0||en===3||en===2)&&(en=4),fn===null||(ts&268435455)===0&&(ku&268435455)===0||_o(fn,_n)}function Nu(o,s){var u=_e;_e|=2;var m=ly();(fn!==o||_n!==s)&&(Si=null,ns(o,s));do try{yx();break}catch(L){cy(o,L)}while(!0);if(Eh(),_e=u,Bu.current=m,He!==null)throw Error(e(261));return fn=null,_n=0,en}function yx(){for(;He!==null;)uy(He)}function wx(){for(;He!==null&&!qC();)uy(He)}function uy(o){var s=gy(o.alternate,o,ar);o.memoizedProps=o.pendingProps,s===null?dy(o):He=s,og.current=null}function dy(o){var s=o;do{var u=s.alternate;if(o=s.return,(s.flags&32768)===0){if(u=dx(u,s,ar),u!==null){He=u;return}}else{if(u=fx(u,s),u!==null){u.flags&=32767,He=u;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{en=6,He=null;return}}if(s=s.sibling,s!==null){He=s;return}He=s=o}while(s!==null);en===0&&(en=5)}function rs(o,s,u){var m=ve,L=yr.transition;try{yr.transition=null,ve=1,vx(o,s,u,m)}finally{yr.transition=L,ve=m}return null}function vx(o,s,u,m){do sa();while(po!==null);if((_e&6)!==0)throw Error(e(327));u=o.finishedWork;var L=o.finishedLanes;if(u===null)return null;if(o.finishedWork=null,o.finishedLanes=0,u===o.current)throw Error(e(177));o.callbackNode=null,o.callbackPriority=0;var S=u.lanes|u.childLanes;if(tI(o,S),o===fn&&(He=fn=null,_n=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Fu||(Fu=!0,py(zl,function(){return sa(),null})),S=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||S){S=yr.transition,yr.transition=null;var N=ve;ve=1;var K=_e;_e|=4,og.current=null,gx(o,u),ey(u,o),UI(gh),Kl=!!hh,gh=hh=null,o.current=u,px(u),WC(),_e=K,ve=N,yr.transition=S}else o.current=u;if(Fu&&(Fu=!1,po=o,Pu=L),S=o.pendingLanes,S===0&&(go=null),KC(u.stateNode),Hn(o,We()),s!==null)for(m=o.onRecoverableError,u=0;u<s.length;u++)L=s[u],m(L.value,{componentStack:L.stack,digest:L.digest});if(Mu)throw Mu=!1,o=cg,cg=null,o;return(Pu&1)!==0&&o.tag!==0&&sa(),S=o.pendingLanes,(S&1)!==0?o===lg?Cc++:(Cc=0,lg=o):Cc=0,lo(),null}function sa(){if(po!==null){var o=J0(Pu),s=yr.transition,u=ve;try{if(yr.transition=null,ve=16>o?16:o,po===null)var m=!1;else{if(o=po,po=null,Pu=0,(_e&6)!==0)throw Error(e(331));var L=_e;for(_e|=4,$t=o.current;$t!==null;){var S=$t,N=S.child;if(($t.flags&16)!==0){var K=S.deletions;if(K!==null){for(var et=0;et<K.length;et++){var pt=K[et];for($t=pt;$t!==null;){var xt=$t;switch(xt.tag){case 0:case 11:case 15:bc(8,xt,S)}var Ot=xt.child;if(Ot!==null)Ot.return=xt,$t=Ot;else for(;$t!==null;){xt=$t;var It=xt.sibling,Ut=xt.return;if(Y_(xt),xt===pt){$t=null;break}if(It!==null){It.return=Ut,$t=It;break}$t=Ut}}}var Qt=S.alternate;if(Qt!==null){var qt=Qt.child;if(qt!==null){Qt.child=null;do{var Ge=qt.sibling;qt.sibling=null,qt=Ge}while(qt!==null)}}$t=S}}if((S.subtreeFlags&2064)!==0&&N!==null)N.return=S,$t=N;else t:for(;$t!==null;){if(S=$t,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:bc(9,S,S.return)}var ft=S.sibling;if(ft!==null){ft.return=S.return,$t=ft;break t}$t=S.return}}var ot=o.current;for($t=ot;$t!==null;){N=$t;var ht=N.child;if((N.subtreeFlags&2064)!==0&&ht!==null)ht.return=N,$t=ht;else t:for(N=ot;$t!==null;){if(K=$t,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Ou(9,K)}}catch(Vt){ze(K,K.return,Vt)}if(K===N){$t=null;break t}var kt=K.sibling;if(kt!==null){kt.return=K.return,$t=kt;break t}$t=K.return}}if(_e=L,lo(),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot($l,o)}catch{}m=!0}return m}finally{ve=u,yr.transition=s}}return!1}function fy(o,s,u){s=na(u,s),s=B_(o,s,1),o=fo(o,s,1),s=Rn(),o!==null&&(Ka(o,1,s),Hn(o,s))}function ze(o,s,u){if(o.tag===3)fy(o,o,u);else for(;s!==null;){if(s.tag===3){fy(s,o,u);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(go===null||!go.has(m))){o=na(u,o),o=k_(s,o,1),s=fo(s,o,1),o=Rn(),s!==null&&(Ka(s,1,o),Hn(s,o));break}}s=s.return}}function bx(o,s,u){var m=o.pingCache;m!==null&&m.delete(s),s=Rn(),o.pingedLanes|=o.suspendedLanes&u,fn===o&&(_n&u)===u&&(en===4||en===3&&(_n&130023424)===_n&&500>We()-ag?ns(o,0):sg|=u),Hn(o,s)}function hy(o,s){s===0&&((o.mode&1)===0?s=1:(s=ql,ql<<=1,(ql&130023424)===0&&(ql=4194304)));var u=Rn();o=Ii(o,s),o!==null&&(Ka(o,s,u),Hn(o,u))}function Ax(o){var s=o.memoizedState,u=0;s!==null&&(u=s.retryLane),hy(o,u)}function Lx(o,s){var u=0;switch(o.tag){case 13:var m=o.stateNode,L=o.memoizedState;L!==null&&(u=L.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(e(314))}m!==null&&m.delete(s),hy(o,u)}var gy;gy=function(o,s,u){if(o!==null)if(o.memoizedProps!==s.pendingProps||Wn.current)Vn=!0;else{if((o.lanes&u)===0&&(s.flags&128)===0)return Vn=!1,ux(o,s,u);Vn=(o.flags&131072)!==0}else Vn=!1,Te&&(s.flags&1048576)!==0&&Vm(s,fu,s.index);switch(s.lanes=0,s.tag){case 2:var m=s.type;Eu(o,s),o=s.pendingProps;var L=Ks(s,Ln.current);ta(s,u),L=jh(null,s,m,o,L,u);var S=Dh();return s.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Gn(m)?(S=!0,lu(s)):S=!1,s.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,kh(s),L.updater=Iu,s.stateNode=L,L._reactInternals=s,Wh(s,m,o,u),s=Hh(null,s,m,!0,S,u)):(s.tag=0,Te&&S&&bh(s),Tn(null,s,L,u),s=s.child),s;case 16:m=s.elementType;t:{switch(Eu(o,s),o=s.pendingProps,L=m._init,m=L(m._payload),s.type=m,L=s.tag=Ix(m),o=Pr(m,o),L){case 0:s=Kh(null,s,m,o,u);break t;case 1:s=U_(null,s,m,o,u);break t;case 11:s=T_(null,s,m,o,u);break t;case 14:s=R_(null,s,m,Pr(m.type,o),u);break t}throw Error(e(306,m,""))}return s;case 0:return m=s.type,L=s.pendingProps,L=s.elementType===m?L:Pr(m,L),Kh(o,s,m,L,u);case 1:return m=s.type,L=s.pendingProps,L=s.elementType===m?L:Pr(m,L),U_(o,s,m,L,u);case 3:t:{if(z_(s),o===null)throw Error(e(387));m=s.pendingProps,S=s.memoizedState,L=S.element,n_(o,s),yu(s,m,null,u);var N=s.memoizedState;if(m=N.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){L=na(Error(e(423)),s),s=$_(o,s,m,u,L);break t}else if(m!==L){L=na(Error(e(424)),s),s=$_(o,s,m,u,L);break t}else for(sr=so(s.stateNode.containerInfo.firstChild),or=s,Te=!0,Fr=null,u=t_(s,null,m,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Zs(),m===L){s=Ei(o,s,u);break t}Tn(o,s,m,u)}s=s.child}return s;case 5:return o_(s),o===null&&Ch(s),m=s.type,L=s.pendingProps,S=o!==null?o.memoizedProps:null,N=L.children,ph(m,L)?N=null:S!==null&&ph(m,S)&&(s.flags|=32),D_(o,s),Tn(o,s,N,u),s.child;case 6:return o===null&&Ch(s),null;case 13:return Q_(o,s,u);case 4:return Mh(s,s.stateNode.containerInfo),m=s.pendingProps,o===null?s.child=Xs(s,null,m,u):Tn(o,s,m,u),s.child;case 11:return m=s.type,L=s.pendingProps,L=s.elementType===m?L:Pr(m,L),T_(o,s,m,L,u);case 7:return Tn(o,s,s.pendingProps,u),s.child;case 8:return Tn(o,s,s.pendingProps.children,u),s.child;case 12:return Tn(o,s,s.pendingProps.children,u),s.child;case 10:t:{if(m=s.type._context,L=s.pendingProps,S=s.memoizedProps,N=L.value,xe(pu,m._currentValue),m._currentValue=N,S!==null)if(Mr(S.value,N)){if(S.children===L.children&&!Wn.current){s=Ei(o,s,u);break t}}else for(S=s.child,S!==null&&(S.return=s);S!==null;){var K=S.dependencies;if(K!==null){N=S.child;for(var et=K.firstContext;et!==null;){if(et.context===m){if(S.tag===1){et=xi(-1,u&-u),et.tag=2;var pt=S.updateQueue;if(pt!==null){pt=pt.shared;var xt=pt.pending;xt===null?et.next=et:(et.next=xt.next,xt.next=et),pt.pending=et}}S.lanes|=u,et=S.alternate,et!==null&&(et.lanes|=u),Oh(S.return,u,s),K.lanes|=u;break}et=et.next}}else if(S.tag===10)N=S.type===s.type?null:S.child;else if(S.tag===18){if(N=S.return,N===null)throw Error(e(341));N.lanes|=u,K=N.alternate,K!==null&&(K.lanes|=u),Oh(N,u,s),N=S.sibling}else N=S.child;if(N!==null)N.return=S;else for(N=S;N!==null;){if(N===s){N=null;break}if(S=N.sibling,S!==null){S.return=N.return,N=S;break}N=N.return}S=N}Tn(o,s,L.children,u),s=s.child}return s;case 9:return L=s.type,m=s.pendingProps.children,ta(s,u),L=mr(L),m=m(L),s.flags|=1,Tn(o,s,m,u),s.child;case 14:return m=s.type,L=Pr(m,s.pendingProps),L=Pr(m.type,L),R_(o,s,m,L,u);case 15:return N_(o,s,s.type,s.pendingProps,u);case 17:return m=s.type,L=s.pendingProps,L=s.elementType===m?L:Pr(m,L),Eu(o,s),s.tag=1,Gn(m)?(o=!0,lu(s)):o=!1,ta(s,u),S_(s,m,L),Wh(s,m,L,u),Hh(null,s,m,!0,o,u);case 19:return W_(o,s,u);case 22:return j_(o,s,u)}throw Error(e(156,s.tag))};function py(o,s){return ti(o,s)}function Cx(o,s,u,m){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(o,s,u,m){return new Cx(o,s,u,m)}function pg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ix(o){if(typeof o=="function")return pg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Q)return 11;if(o===tt)return 14}return 2}function yo(o,s){var u=o.alternate;return u===null?(u=wr(o.tag,s,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=s,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&14680064,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,s=o.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u}function ju(o,s,u,m,L,S){var N=2;if(m=o,typeof o=="function")pg(o)&&(N=1);else if(typeof o=="string")N=5;else t:switch(o){case _:return is(u.children,L,S,s);case I:N=8,L|=8;break;case nt:return o=wr(12,u,s,L|2),o.elementType=nt,o.lanes=S,o;case k:return o=wr(13,u,s,L),o.elementType=k,o.lanes=S,o;case W:return o=wr(19,u,s,L),o.elementType=W,o.lanes=S,o;case ut:return Du(u,L,S,s);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case rt:N=10;break t;case H:N=9;break t;case Q:N=11;break t;case tt:N=14;break t;case ct:N=16,m=null;break t}throw Error(e(130,o==null?o:typeof o,""))}return s=wr(N,u,s,L),s.elementType=o,s.type=m,s.lanes=S,s}function is(o,s,u,m){return o=wr(7,o,m,s),o.lanes=u,o}function Du(o,s,u,m){return o=wr(22,o,m,s),o.elementType=ut,o.lanes=u,o.stateNode={isHidden:!1},o}function mg(o,s,u){return o=wr(6,o,null,s),o.lanes=u,o}function _g(o,s,u){return s=wr(4,o.children!==null?o.children:[],o.key,s),s.lanes=u,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}function xx(o,s,u,m,L){this.tag=s,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qf(0),this.expirationTimes=qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qf(0),this.identifierPrefix=m,this.onRecoverableError=L,this.mutableSourceEagerHydrationData=null}function yg(o,s,u,m,L,S,N,K,et){return o=new xx(o,s,u,K,et),s===1?(s=1,S===!0&&(s|=8)):s=0,S=wr(3,null,null,s),o.current=S,S.stateNode=o,S.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(S),o}function Ex(o,s,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:m==null?null:""+m,children:o,containerInfo:s,implementation:u}}function my(o){if(!o)return co;o=o._reactInternals;t:{if(qn(o)!==o||o.tag!==1)throw Error(e(170));var s=o;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Gn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(e(171))}if(o.tag===1){var u=o.type;if(Gn(u))return qm(o,u,s)}return s}function _y(o,s,u,m,L,S,N,K,et){return o=yg(u,m,!0,o,L,S,N,K,et),o.context=my(null),u=o.current,m=Rn(),L=mo(u),S=xi(m,L),S.callback=s??null,fo(u,S,L),o.current.lanes=L,Ka(o,L,m),Hn(o,m),o}function Uu(o,s,u,m){var L=s.current,S=Rn(),N=mo(L);return u=my(u),s.context===null?s.context=u:s.pendingContext=u,s=xi(S,N),s.payload={element:o},m=m===void 0?null:m,m!==null&&(s.callback=m),o=fo(L,s,N),o!==null&&(Nr(o,L,N,S),_u(o,L,N)),N}function zu(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function yy(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<s?u:s}}function wg(o,s){yy(o,s),(o=o.alternate)&&yy(o,s)}function Sx(){return null}var wy=typeof reportError=="function"?reportError:function(o){console.error(o)};function vg(o){this._internalRoot=o}$u.prototype.render=vg.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(e(409));Uu(o,s,null,null)},$u.prototype.unmount=vg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;es(function(){Uu(null,o,null,null)}),s[bi]=null}};function $u(o){this._internalRoot=o}$u.prototype.unstable_scheduleHydration=function(o){if(o){var s=nm();o={blockedOn:null,target:o,priority:s};for(var u=0;u<ro.length&&s!==0&&s<ro[u].priority;u++);ro.splice(u,0,o),u===0&&om(o)}};function bg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Qu(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function vy(){}function Ox(o,s,u,m,L){if(L){if(typeof m=="function"){var S=m;m=function(){var pt=zu(N);S.call(pt)}}var N=_y(s,m,o,0,null,!1,!1,"",vy);return o._reactRootContainer=N,o[bi]=N.current,cc(o.nodeType===8?o.parentNode:o),es(),N}for(;L=o.lastChild;)o.removeChild(L);if(typeof m=="function"){var K=m;m=function(){var pt=zu(et);K.call(pt)}}var et=yg(o,0,!1,null,null,!1,!1,"",vy);return o._reactRootContainer=et,o[bi]=et.current,cc(o.nodeType===8?o.parentNode:o),es(function(){Uu(s,et,u,m)}),et}function qu(o,s,u,m,L){var S=u._reactRootContainer;if(S){var N=S;if(typeof L=="function"){var K=L;L=function(){var et=zu(N);K.call(et)}}Uu(s,N,o,L)}else N=Ox(u,s,o,L,m);return zu(N)}tm=function(o){switch(o.tag){case 3:var s=o.stateNode;if(s.current.memoizedState.isDehydrated){var u=Va(s.pendingLanes);u!==0&&(Wf(s,u|1),Hn(s,We()),(_e&6)===0&&(oa=We()+500,lo()))}break;case 13:es(function(){var m=Ii(o,1);if(m!==null){var L=Rn();Nr(m,o,1,L)}}),wg(o,1)}},Gf=function(o){if(o.tag===13){var s=Ii(o,134217728);if(s!==null){var u=Rn();Nr(s,o,134217728,u)}wg(o,134217728)}},em=function(o){if(o.tag===13){var s=mo(o),u=Ii(o,s);if(u!==null){var m=Rn();Nr(u,o,s,m)}wg(o,s)}},nm=function(){return ve},rm=function(o,s){var u=ve;try{return ve=o,s()}finally{ve=u}},at=function(o,s,u){switch(s){case"input":if(Tt(o,u),s=u.name,u.type==="radio"&&s!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var m=u[s];if(m!==o&&m.form===o.form){var L=au(m);if(!L)throw Error(e(90));Z(m),Tt(m,L)}}}break;case"textarea":Ae(o,u);break;case"select":s=u.value,s!=null&&Pt(o,!!u.multiple,s,!1)}},zt=fg,jt=es;var Bx={usingClientEntryPoint:!1,Events:[dc,Gs,au,wt,Lt,fg]},Ic={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kx={bundleType:Ic.bundleType,version:Ic.version,rendererPackageName:Ic.rendererPackageName,rendererConfig:Ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=hr(o),o===null?null:o.stateNode},findFiberByHostInstance:Ic.findFiberByHostInstance||Sx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{$l=Wu.inject(kx),ei=Wu}catch{}}return Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bx,Yn.createPortal=function(o,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bg(s))throw Error(e(200));return Ex(o,s,null,u)},Yn.createRoot=function(o,s){if(!bg(o))throw Error(e(299));var u=!1,m="",L=wy;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onRecoverableError!==void 0&&(L=s.onRecoverableError)),s=yg(o,1,!1,null,null,u,!1,m,L),o[bi]=s.current,cc(o.nodeType===8?o.parentNode:o),new vg(s)},Yn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(e(188)):(o=Object.keys(o).join(","),Error(e(268,o)));return o=hr(s),o=o===null?null:o.stateNode,o},Yn.flushSync=function(o){return es(o)},Yn.hydrate=function(o,s,u){if(!Qu(s))throw Error(e(200));return qu(null,o,s,!0,u)},Yn.hydrateRoot=function(o,s,u){if(!bg(o))throw Error(e(405));var m=u!=null&&u.hydratedSources||null,L=!1,S="",N=wy;if(u!=null&&(u.unstable_strictMode===!0&&(L=!0),u.identifierPrefix!==void 0&&(S=u.identifierPrefix),u.onRecoverableError!==void 0&&(N=u.onRecoverableError)),s=_y(s,null,o,1,u??null,L,!1,S,N),o[bi]=s.current,cc(o),m)for(o=0;o<m.length;o++)u=m[o],L=u._getVersion,L=L(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,L]:s.mutableSourceEagerHydrationData.push(u,L);return new $u(s)},Yn.render=function(o,s,u){if(!Qu(s))throw Error(e(200));return qu(null,o,s,!1,u)},Yn.unmountComponentAtNode=function(o){if(!Qu(o))throw Error(e(40));return o._reactRootContainer?(es(function(){qu(null,null,o,!1,function(){o._reactRootContainer=null,o[bi]=null})}),!0):!1},Yn.unstable_batchedUpdates=fg,Yn.unstable_renderSubtreeIntoContainer=function(o,s,u,m){if(!Qu(u))throw Error(e(200));if(o==null||o._reactInternals===void 0)throw Error(e(38));return qu(o,s,u,!1,m)},Yn.version="18.3.1-next-f1338f8080-20240426",Yn}var Sy;function uw(){if(Sy)return Cg.exports;Sy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Cg.exports=Dx(),Cg.exports}var Oy;function Ux(){if(Oy)return Gu;Oy=1;var n=uw();return Gu.createRoot=n.createRoot,Gu.hydrateRoot=n.hydrateRoot,Gu}var zx=Ux();const $x={darkMode:!0,toggleDarkMode:()=>{}},dw=z.createContext($x),fw=()=>z.useContext(dw),hw=z.createContext(void 0),gw=()=>{const n=z.useContext(hw);if(!n)throw new Error("useNavigation must be used within a NavigationProvider");return n};function he(n,t,{checkForDefaultPrevented:e=!0}={}){return function(i){if(n?.(i),e===!1||!i.defaultPrevented)return t?.(i)}}function By(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function Cl(...n){return t=>{let e=!1;const r=n.map(i=>{const a=By(i,t);return!e&&typeof a=="function"&&(e=!0),a});if(e)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():By(n[i],null)}}}}function vn(...n){return z.useCallback(Cl(...n),n)}function Qx(n,t){const e=z.createContext(t),r=a=>{const{children:l,...c}=a,g=z.useMemo(()=>c,Object.values(c));return j.jsx(e.Provider,{value:g,children:l})};r.displayName=n+"Provider";function i(a){const l=z.useContext(e);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,i]}function ja(n,t=[]){let e=[];function r(a,l){const c=z.createContext(l),g=e.length;e=[...e,l];const f=y=>{const{scope:v,children:w,...F}=y,B=v?.[n]?.[g]||c,x=z.useMemo(()=>F,Object.values(F));return j.jsx(B.Provider,{value:x,children:w})};f.displayName=a+"Provider";function d(y,v){const w=v?.[n]?.[g]||c,F=z.useContext(w);if(F)return F;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[f,d]}const i=()=>{const a=e.map(l=>z.createContext(l));return function(c){const g=c?.[n]||a;return z.useMemo(()=>({[`__scope${n}`]:{...c,[n]:g}}),[c,g])}};return i.scopeName=n,[r,qx(i,...t)]}function qx(...n){const t=n[0];if(n.length===1)return t;const e=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:g,scopeName:f})=>{const y=g(a)[`__scope${f}`];return{...c,...y}},{});return z.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return e.scopeName=t.scopeName,e}var Do=globalThis?.document?z.useLayoutEffect:()=>{},Wx=I2[" useId ".trim().toString()]||(()=>{}),Gx=0;function Ia(n){const[t,e]=z.useState(Wx());return Do(()=>{e(r=>r??String(Gx++))},[n]),n||(t?`radix-${t}`:"")}var Vx=I2[" useInsertionEffect ".trim().toString()]||Do;function x2({prop:n,defaultProp:t,onChange:e=()=>{},caller:r}){const[i,a,l]=Kx({defaultProp:t,onChange:e}),c=n!==void 0,g=c?n:i;{const d=z.useRef(n!==void 0);z.useEffect(()=>{const y=d.current;y!==c&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=c},[c,r])}const f=z.useCallback(d=>{if(c){const y=Hx(d)?d(n):d;y!==n&&l.current?.(y)}else a(d)},[c,n,a,l]);return[g,f]}function Kx({defaultProp:n,onChange:t}){const[e,r]=z.useState(n),i=z.useRef(e),a=z.useRef(t);return Vx(()=>{a.current=t},[t]),z.useEffect(()=>{i.current!==e&&(a.current?.(e),i.current=e)},[e,i]),[e,r,a]}function Hx(n){return typeof n=="function"}var E2=uw();const Yx=pf(E2);function ol(n){const t=Zx(n),e=z.forwardRef((r,i)=>{const{children:a,...l}=r,c=z.Children.toArray(a),g=c.find(Jx);if(g){const f=g.props.children,d=c.map(y=>y===g?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:y);return j.jsx(t,{...l,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,d):null})}return j.jsx(t,{...l,ref:i,children:a})});return e.displayName=`${n}.Slot`,e}function Zx(n){const t=z.forwardRef((e,r)=>{const{children:i,...a}=e;if(z.isValidElement(i)){const l=eE(i),c=tE(a,i.props);return i.type!==z.Fragment&&(c.ref=r?Cl(r,l):l),z.cloneElement(i,c)}return z.Children.count(i)>1?z.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var Xx=Symbol("radix.slottable");function Jx(n){return z.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Xx}function tE(n,t){const e={...t};for(const r in t){const i=n[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?e[r]=(...c)=>{const g=a(...c);return i(...c),g}:i&&(e[r]=i):r==="style"?e[r]={...i,...a}:r==="className"&&(e[r]=[i,a].filter(Boolean).join(" "))}return{...n,...e}}function eE(n){let t=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=Object.getOwnPropertyDescriptor(n,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}var nE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=nE.reduce((n,t)=>{const e=ol(`Primitive.${t}`),r=z.forwardRef((i,a)=>{const{asChild:l,...c}=i,g=l?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),j.jsx(g,{...c,ref:a})});return r.displayName=`Primitive.${t}`,{...n,[t]:r}},{});function pw(n,t){n&&E2.flushSync(()=>n.dispatchEvent(t))}function Wi(n){const t=z.useRef(n);return z.useEffect(()=>{t.current=n}),z.useMemo(()=>(...e)=>t.current?.(...e),[])}function rE(n,t=globalThis?.document){const e=Wi(n);z.useEffect(()=>{const r=i=>{i.key==="Escape"&&e(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[e,t])}var iE="DismissableLayer",_p="dismissableLayer.update",oE="dismissableLayer.pointerDownOutside",sE="dismissableLayer.focusOutside",ky,mw=z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),S2=z.forwardRef((n,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...g}=n,f=z.useContext(mw),[d,y]=z.useState(null),v=d?.ownerDocument??globalThis?.document,[,w]=z.useState({}),F=vn(t,_=>y(_)),B=Array.from(f.layers),[x]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),M=B.indexOf(x),O=d?B.indexOf(d):-1,$=f.layersWithOutsidePointerEventsDisabled.size>0,D=O>=M,V=lE(_=>{const I=_.target,nt=[...f.branches].some(rt=>rt.contains(I));!D||nt||(i?.(_),l?.(_),_.defaultPrevented||c?.())},v),P=uE(_=>{const I=_.target;[...f.branches].some(rt=>rt.contains(I))||(a?.(_),l?.(_),_.defaultPrevented||c?.())},v);return rE(_=>{O===f.layers.size-1&&(r?.(_),!_.defaultPrevented&&c&&(_.preventDefault(),c()))},v),z.useEffect(()=>{if(d)return e&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(ky=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(d)),f.layers.add(d),My(),()=>{e&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=ky)}},[d,v,e,f]),z.useEffect(()=>()=>{d&&(f.layers.delete(d),f.layersWithOutsidePointerEventsDisabled.delete(d),My())},[d,f]),z.useEffect(()=>{const _=()=>w({});return document.addEventListener(_p,_),()=>document.removeEventListener(_p,_)},[]),j.jsx(Xe.div,{...g,ref:F,style:{pointerEvents:$?D?"auto":"none":void 0,...n.style},onFocusCapture:he(n.onFocusCapture,P.onFocusCapture),onBlurCapture:he(n.onBlurCapture,P.onBlurCapture),onPointerDownCapture:he(n.onPointerDownCapture,V.onPointerDownCapture)})});S2.displayName=iE;var aE="DismissableLayerBranch",cE=z.forwardRef((n,t)=>{const e=z.useContext(mw),r=z.useRef(null),i=vn(t,r);return z.useEffect(()=>{const a=r.current;if(a)return e.branches.add(a),()=>{e.branches.delete(a)}},[e.branches]),j.jsx(Xe.div,{...n,ref:i})});cE.displayName=aE;function lE(n,t=globalThis?.document){const e=Wi(n),r=z.useRef(!1),i=z.useRef(()=>{});return z.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let g=function(){_w(oE,e,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=g,t.addEventListener("click",i.current,{once:!0})):g()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,e]),{onPointerDownCapture:()=>r.current=!0}}function uE(n,t=globalThis?.document){const e=Wi(n),r=z.useRef(!1);return z.useEffect(()=>{const i=a=>{a.target&&!r.current&&_w(sE,e,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,e]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function My(){const n=new CustomEvent(_p);document.dispatchEvent(n)}function _w(n,t,e,{discrete:r}){const i=e.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:e});t&&i.addEventListener(n,t,{once:!0}),r?pw(i,a):i.dispatchEvent(a)}var Eg="focusScope.autoFocusOnMount",Sg="focusScope.autoFocusOnUnmount",Fy={bubbles:!1,cancelable:!0},dE="FocusScope",O2=z.forwardRef((n,t)=>{const{loop:e=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=n,[c,g]=z.useState(null),f=Wi(i),d=Wi(a),y=z.useRef(null),v=vn(t,B=>g(B)),w=z.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;z.useEffect(()=>{if(r){let B=function($){if(w.paused||!c)return;const D=$.target;c.contains(D)?y.current=D:Eo(y.current,{select:!0})},x=function($){if(w.paused||!c)return;const D=$.relatedTarget;D!==null&&(c.contains(D)||Eo(y.current,{select:!0}))},M=function($){if(document.activeElement===document.body)for(const V of $)V.removedNodes.length>0&&Eo(c)};document.addEventListener("focusin",B),document.addEventListener("focusout",x);const O=new MutationObserver(M);return c&&O.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",B),document.removeEventListener("focusout",x),O.disconnect()}}},[r,c,w.paused]),z.useEffect(()=>{if(c){Ty.add(w);const B=document.activeElement;if(!c.contains(B)){const M=new CustomEvent(Eg,Fy);c.addEventListener(Eg,f),c.dispatchEvent(M),M.defaultPrevented||(fE(_E(yw(c)),{select:!0}),document.activeElement===B&&Eo(c))}return()=>{c.removeEventListener(Eg,f),setTimeout(()=>{const M=new CustomEvent(Sg,Fy);c.addEventListener(Sg,d),c.dispatchEvent(M),M.defaultPrevented||Eo(B??document.body,{select:!0}),c.removeEventListener(Sg,d),Ty.remove(w)},0)}}},[c,f,d,w]);const F=z.useCallback(B=>{if(!e&&!r||w.paused)return;const x=B.key==="Tab"&&!B.altKey&&!B.ctrlKey&&!B.metaKey,M=document.activeElement;if(x&&M){const O=B.currentTarget,[$,D]=hE(O);$&&D?!B.shiftKey&&M===D?(B.preventDefault(),e&&Eo($,{select:!0})):B.shiftKey&&M===$&&(B.preventDefault(),e&&Eo(D,{select:!0})):M===O&&B.preventDefault()}},[e,r,w.paused]);return j.jsx(Xe.div,{tabIndex:-1,...l,ref:v,onKeyDown:F})});O2.displayName=dE;function fE(n,{select:t=!1}={}){const e=document.activeElement;for(const r of n)if(Eo(r,{select:t}),document.activeElement!==e)return}function hE(n){const t=yw(n),e=Py(t,n),r=Py(t.reverse(),n);return[e,r]}function yw(n){const t=[],e=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function Py(n,t){for(const e of n)if(!gE(e,{upTo:t}))return e}function gE(n,{upTo:t}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(t!==void 0&&n===t)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function pE(n){return n instanceof HTMLInputElement&&"select"in n}function Eo(n,{select:t=!1}={}){if(n&&n.focus){const e=document.activeElement;n.focus({preventScroll:!0}),n!==e&&pE(n)&&t&&n.select()}}var Ty=mE();function mE(){let n=[];return{add(t){const e=n[0];t!==e&&e?.pause(),n=Ry(n,t),n.unshift(t)},remove(t){n=Ry(n,t),n[0]?.resume()}}}function Ry(n,t){const e=[...n],r=e.indexOf(t);return r!==-1&&e.splice(r,1),e}function _E(n){return n.filter(t=>t.tagName!=="A")}var yE="Portal",B2=z.forwardRef((n,t)=>{const{container:e,...r}=n,[i,a]=z.useState(!1);Do(()=>a(!0),[]);const l=e||i&&globalThis?.document?.body;return l?Yx.createPortal(j.jsx(Xe.div,{...r,ref:t}),l):null});B2.displayName=yE;function wE(n,t){return z.useReducer((e,r)=>t[e][r]??e,n)}var qo=n=>{const{present:t,children:e}=n,r=vE(t),i=typeof e=="function"?e({present:r.isPresent}):z.Children.only(e),a=vn(r.ref,bE(i));return typeof e=="function"||r.isPresent?z.cloneElement(i,{ref:a}):null};qo.displayName="Presence";function vE(n){const[t,e]=z.useState(),r=z.useRef(null),i=z.useRef(n),a=z.useRef("none"),l=n?"mounted":"unmounted",[c,g]=wE(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return z.useEffect(()=>{const f=Vu(r.current);a.current=c==="mounted"?f:"none"},[c]),Do(()=>{const f=r.current,d=i.current;if(d!==n){const v=a.current,w=Vu(f);n?g("MOUNT"):w==="none"||f?.display==="none"?g("UNMOUNT"):g(d&&v!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,g]),Do(()=>{if(t){let f;const d=t.ownerDocument.defaultView??window,y=w=>{const B=Vu(r.current).includes(CSS.escape(w.animationName));if(w.target===t&&B&&(g("ANIMATION_END"),!i.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",f=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},v=w=>{w.target===t&&(a.current=Vu(r.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",y),t.addEventListener("animationend",y),()=>{d.clearTimeout(f),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",y),t.removeEventListener("animationend",y)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:z.useCallback(f=>{r.current=f?getComputedStyle(f):null,e(f)},[])}}function Vu(n){return n?.animationName||"none"}function bE(n){let t=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=Object.getOwnPropertyDescriptor(n,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}var Og=0;function ww(){z.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Ny()),document.body.insertAdjacentElement("beforeend",n[1]??Ny()),Og++,()=>{Og===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Og--}},[])}function Ny(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var fi=function(){return fi=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},fi.apply(this,arguments)};function vw(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e}function AE(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return n.concat(a||Array.prototype.slice.call(t))}var ad="right-scroll-bar-position",cd="width-before-scroll-bar",LE="with-scroll-bars-hidden",CE="--removed-body-scroll-bar-size";function Bg(n,t){return typeof n=="function"?n(t):n&&(n.current=t),n}function IE(n,t){var e=z.useState(function(){return{value:n,callback:t,facade:{get current(){return e.value},set current(r){var i=e.value;i!==r&&(e.value=r,e.callback(r,i))}}}})[0];return e.callback=t,e.facade}var xE=typeof window<"u"?z.useLayoutEffect:z.useEffect,jy=new WeakMap;function EE(n,t){var e=IE(null,function(r){return n.forEach(function(i){return Bg(i,r)})});return xE(function(){var r=jy.get(e);if(r){var i=new Set(r),a=new Set(n),l=e.current;i.forEach(function(c){a.has(c)||Bg(c,null)}),a.forEach(function(c){i.has(c)||Bg(c,l)})}jy.set(e,n)},[n]),e}function SE(n){return n}function OE(n,t){t===void 0&&(t=SE);var e=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:n},useMedium:function(a){var l=t(a,r);return e.push(l),function(){e=e.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(r=!0;e.length;){var l=e;e=[],l.forEach(a)}e={push:function(c){return a(c)},filter:function(){return e}}},assignMedium:function(a){r=!0;var l=[];if(e.length){var c=e;e=[],c.forEach(a),l=e}var g=function(){var d=l;l=[],d.forEach(a)},f=function(){return Promise.resolve().then(g)};f(),e={push:function(d){l.push(d),f()},filter:function(d){return l=l.filter(d),e}}}};return i}function BE(n){n===void 0&&(n={});var t=OE(null);return t.options=fi({async:!0,ssr:!1},n),t}var bw=function(n){var t=n.sideCar,e=vw(n,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return z.createElement(r,fi({},e))};bw.isSideCarExport=!0;function kE(n,t){return n.useMedium(t),bw}var Aw=BE(),kg=function(){},mf=z.forwardRef(function(n,t){var e=z.useRef(null),r=z.useState({onScrollCapture:kg,onWheelCapture:kg,onTouchMoveCapture:kg}),i=r[0],a=r[1],l=n.forwardProps,c=n.children,g=n.className,f=n.removeScrollBar,d=n.enabled,y=n.shards,v=n.sideCar,w=n.noRelative,F=n.noIsolation,B=n.inert,x=n.allowPinchZoom,M=n.as,O=M===void 0?"div":M,$=n.gapMode,D=vw(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),V=v,P=EE([e,t]),_=fi(fi({},D),i);return z.createElement(z.Fragment,null,d&&z.createElement(V,{sideCar:Aw,removeScrollBar:f,shards:y,noRelative:w,noIsolation:F,inert:B,setCallbacks:a,allowPinchZoom:!!x,lockRef:e,gapMode:$}),l?z.cloneElement(z.Children.only(c),fi(fi({},_),{ref:P})):z.createElement(O,fi({},_,{className:g,ref:P}),c))});mf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mf.classNames={fullWidth:cd,zeroRight:ad};var ME=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function FE(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var t=ME();return t&&n.setAttribute("nonce",t),n}function PE(n,t){n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}function TE(n){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(n)}var RE=function(){var n=0,t=null;return{add:function(e){n==0&&(t=FE())&&(PE(t,e),TE(t)),n++},remove:function(){n--,!n&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},NE=function(){var n=RE();return function(t,e){z.useEffect(function(){return n.add(t),function(){n.remove()}},[t&&e])}},Lw=function(){var n=NE(),t=function(e){var r=e.styles,i=e.dynamic;return n(r,i),null};return t},jE={left:0,top:0,right:0,gap:0},Mg=function(n){return parseInt(n||"",10)||0},DE=function(n){var t=window.getComputedStyle(document.body),e=t[n==="padding"?"paddingLeft":"marginLeft"],r=t[n==="padding"?"paddingTop":"marginTop"],i=t[n==="padding"?"paddingRight":"marginRight"];return[Mg(e),Mg(r),Mg(i)]},UE=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return jE;var t=DE(n),e=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-e+t[2]-t[0])}},zE=Lw(),xa="data-scroll-locked",$E=function(n,t,e,r){var i=n.left,a=n.top,l=n.right,c=n.gap;return e===void 0&&(e="margin"),`
  .`.concat(LE,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(xa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),e==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),e==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ad,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(cd,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(ad," .").concat(ad,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cd," .").concat(cd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xa,`] {
    `).concat(CE,": ").concat(c,`px;
  }
`)},Dy=function(){var n=parseInt(document.body.getAttribute(xa)||"0",10);return isFinite(n)?n:0},QE=function(){z.useEffect(function(){return document.body.setAttribute(xa,(Dy()+1).toString()),function(){var n=Dy()-1;n<=0?document.body.removeAttribute(xa):document.body.setAttribute(xa,n.toString())}},[])},qE=function(n){var t=n.noRelative,e=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;QE();var a=z.useMemo(function(){return UE(i)},[i]);return z.createElement(zE,{styles:$E(a,!t,i,e?"":"!important")})},yp=!1;if(typeof window<"u")try{var Ku=Object.defineProperty({},"passive",{get:function(){return yp=!0,!0}});window.addEventListener("test",Ku,Ku),window.removeEventListener("test",Ku,Ku)}catch{yp=!1}var aa=yp?{passive:!1}:!1,WE=function(n){return n.tagName==="TEXTAREA"},Cw=function(n,t){if(!(n instanceof Element))return!1;var e=window.getComputedStyle(n);return e[t]!=="hidden"&&!(e.overflowY===e.overflowX&&!WE(n)&&e[t]==="visible")},GE=function(n){return Cw(n,"overflowY")},VE=function(n){return Cw(n,"overflowX")},Uy=function(n,t){var e=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Iw(n,r);if(i){var a=xw(n,r),l=a[1],c=a[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==e.body);return!1},KE=function(n){var t=n.scrollTop,e=n.scrollHeight,r=n.clientHeight;return[t,e,r]},HE=function(n){var t=n.scrollLeft,e=n.scrollWidth,r=n.clientWidth;return[t,e,r]},Iw=function(n,t){return n==="v"?GE(t):VE(t)},xw=function(n,t){return n==="v"?KE(t):HE(t)},YE=function(n,t){return n==="h"&&t==="rtl"?-1:1},ZE=function(n,t,e,r,i){var a=YE(n,window.getComputedStyle(t).direction),l=a*r,c=e.target,g=t.contains(c),f=!1,d=l>0,y=0,v=0;do{if(!c)break;var w=xw(n,c),F=w[0],B=w[1],x=w[2],M=B-x-a*F;(F||M)&&Iw(n,c)&&(y+=M,v+=F);var O=c.parentNode;c=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!g&&c!==document.body||g&&(t.contains(c)||t===c));return(d&&Math.abs(y)<1||!d&&Math.abs(v)<1)&&(f=!0),f},Hu=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},zy=function(n){return[n.deltaX,n.deltaY]},$y=function(n){return n&&"current"in n?n.current:n},XE=function(n,t){return n[0]===t[0]&&n[1]===t[1]},JE=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},tS=0,ca=[];function eS(n){var t=z.useRef([]),e=z.useRef([0,0]),r=z.useRef(),i=z.useState(tS++)[0],a=z.useState(Lw)[0],l=z.useRef(n);z.useEffect(function(){l.current=n},[n]),z.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var B=AE([n.lockRef.current],(n.shards||[]).map($y),!0).filter(Boolean);return B.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),B.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var c=z.useCallback(function(B,x){if("touches"in B&&B.touches.length===2||B.type==="wheel"&&B.ctrlKey)return!l.current.allowPinchZoom;var M=Hu(B),O=e.current,$="deltaX"in B?B.deltaX:O[0]-M[0],D="deltaY"in B?B.deltaY:O[1]-M[1],V,P=B.target,_=Math.abs($)>Math.abs(D)?"h":"v";if("touches"in B&&_==="h"&&P.type==="range")return!1;var I=Uy(_,P);if(!I)return!0;if(I?V=_:(V=_==="v"?"h":"v",I=Uy(_,P)),!I)return!1;if(!r.current&&"changedTouches"in B&&($||D)&&(r.current=V),!V)return!0;var nt=r.current||V;return ZE(nt,x,B,nt==="h"?$:D)},[]),g=z.useCallback(function(B){var x=B;if(!(!ca.length||ca[ca.length-1]!==a)){var M="deltaY"in x?zy(x):Hu(x),O=t.current.filter(function(V){return V.name===x.type&&(V.target===x.target||x.target===V.shadowParent)&&XE(V.delta,M)})[0];if(O&&O.should){x.cancelable&&x.preventDefault();return}if(!O){var $=(l.current.shards||[]).map($y).filter(Boolean).filter(function(V){return V.contains(x.target)}),D=$.length>0?c(x,$[0]):!l.current.noIsolation;D&&x.cancelable&&x.preventDefault()}}},[]),f=z.useCallback(function(B,x,M,O){var $={name:B,delta:x,target:M,should:O,shadowParent:nS(M)};t.current.push($),setTimeout(function(){t.current=t.current.filter(function(D){return D!==$})},1)},[]),d=z.useCallback(function(B){e.current=Hu(B),r.current=void 0},[]),y=z.useCallback(function(B){f(B.type,zy(B),B.target,c(B,n.lockRef.current))},[]),v=z.useCallback(function(B){f(B.type,Hu(B),B.target,c(B,n.lockRef.current))},[]);z.useEffect(function(){return ca.push(a),n.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",g,aa),document.addEventListener("touchmove",g,aa),document.addEventListener("touchstart",d,aa),function(){ca=ca.filter(function(B){return B!==a}),document.removeEventListener("wheel",g,aa),document.removeEventListener("touchmove",g,aa),document.removeEventListener("touchstart",d,aa)}},[]);var w=n.removeScrollBar,F=n.inert;return z.createElement(z.Fragment,null,F?z.createElement(a,{styles:JE(i)}):null,w?z.createElement(qE,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function nS(n){for(var t=null;n!==null;)n instanceof ShadowRoot&&(t=n.host,n=n.host),n=n.parentNode;return t}const rS=kE(Aw,eS);var k2=z.forwardRef(function(n,t){return z.createElement(mf,fi({},n,{ref:t,sideCar:rS}))});k2.classNames=mf.classNames;var iS=function(n){if(typeof document>"u")return null;var t=Array.isArray(n)?n[0]:n;return t.ownerDocument.body},la=new WeakMap,Yu=new WeakMap,Zu={},Fg=0,Ew=function(n){return n&&(n.host||Ew(n.parentNode))},oS=function(n,t){return t.map(function(e){if(n.contains(e))return e;var r=Ew(e);return r&&n.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",n,". Doing nothing"),null)}).filter(function(e){return!!e})},sS=function(n,t,e,r){var i=oS(t,Array.isArray(n)?n:[n]);Zu[e]||(Zu[e]=new WeakMap);var a=Zu[e],l=[],c=new Set,g=new Set(i),f=function(y){!y||c.has(y)||(c.add(y),f(y.parentNode))};i.forEach(f);var d=function(y){!y||g.has(y)||Array.prototype.forEach.call(y.children,function(v){if(c.has(v))d(v);else try{var w=v.getAttribute(r),F=w!==null&&w!=="false",B=(la.get(v)||0)+1,x=(a.get(v)||0)+1;la.set(v,B),a.set(v,x),l.push(v),B===1&&F&&Yu.set(v,!0),x===1&&v.setAttribute(e,"true"),F||v.setAttribute(r,"true")}catch(M){console.error("aria-hidden: cannot operate on ",v,M)}})};return d(t),c.clear(),Fg++,function(){l.forEach(function(y){var v=la.get(y)-1,w=a.get(y)-1;la.set(y,v),a.set(y,w),v||(Yu.has(y)||y.removeAttribute(r),Yu.delete(y)),w||y.removeAttribute(e)}),Fg--,Fg||(la=new WeakMap,la=new WeakMap,Yu=new WeakMap,Zu={})}},Sw=function(n,t,e){e===void 0&&(e="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=iS(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),sS(r,i,e,"aria-hidden")):function(){return null}},_f="Dialog",[Ow]=ja(_f),[aS,Yr]=Ow(_f),Bw=n=>{const{__scopeDialog:t,children:e,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=n,c=z.useRef(null),g=z.useRef(null),[f,d]=x2({prop:r,defaultProp:i??!1,onChange:a,caller:_f});return j.jsx(aS,{scope:t,triggerRef:c,contentRef:g,contentId:Ia(),titleId:Ia(),descriptionId:Ia(),open:f,onOpenChange:d,onOpenToggle:z.useCallback(()=>d(y=>!y),[d]),modal:l,children:e})};Bw.displayName=_f;var kw="DialogTrigger",Mw=z.forwardRef((n,t)=>{const{__scopeDialog:e,...r}=n,i=Yr(kw,e),a=vn(t,i.triggerRef);return j.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":P2(i.open),...r,ref:a,onClick:he(n.onClick,i.onOpenToggle)})});Mw.displayName=kw;var M2="DialogPortal",[cS,Fw]=Ow(M2,{forceMount:void 0}),Pw=n=>{const{__scopeDialog:t,forceMount:e,children:r,container:i}=n,a=Yr(M2,t);return j.jsx(cS,{scope:t,forceMount:e,children:z.Children.map(r,l=>j.jsx(qo,{present:e||a.open,children:j.jsx(B2,{asChild:!0,container:i,children:l})}))})};Pw.displayName=M2;var Nd="DialogOverlay",Tw=z.forwardRef((n,t)=>{const e=Fw(Nd,n.__scopeDialog),{forceMount:r=e.forceMount,...i}=n,a=Yr(Nd,n.__scopeDialog);return a.modal?j.jsx(qo,{present:r||a.open,children:j.jsx(uS,{...i,ref:t})}):null});Tw.displayName=Nd;var lS=ol("DialogOverlay.RemoveScroll"),uS=z.forwardRef((n,t)=>{const{__scopeDialog:e,...r}=n,i=Yr(Nd,e);return j.jsx(k2,{as:lS,allowPinchZoom:!0,shards:[i.contentRef],children:j.jsx(Xe.div,{"data-state":P2(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Is="DialogContent",Rw=z.forwardRef((n,t)=>{const e=Fw(Is,n.__scopeDialog),{forceMount:r=e.forceMount,...i}=n,a=Yr(Is,n.__scopeDialog);return j.jsx(qo,{present:r||a.open,children:a.modal?j.jsx(dS,{...i,ref:t}):j.jsx(fS,{...i,ref:t})})});Rw.displayName=Is;var dS=z.forwardRef((n,t)=>{const e=Yr(Is,n.__scopeDialog),r=z.useRef(null),i=vn(t,e.contentRef,r);return z.useEffect(()=>{const a=r.current;if(a)return Sw(a)},[]),j.jsx(Nw,{...n,ref:i,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(n.onCloseAutoFocus,a=>{a.preventDefault(),e.triggerRef.current?.focus()}),onPointerDownOutside:he(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:he(n.onFocusOutside,a=>a.preventDefault())})}),fS=z.forwardRef((n,t)=>{const e=Yr(Is,n.__scopeDialog),r=z.useRef(!1),i=z.useRef(!1);return j.jsx(Nw,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{n.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||e.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{n.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;e.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Nw=z.forwardRef((n,t)=>{const{__scopeDialog:e,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=n,c=Yr(Is,e),g=z.useRef(null),f=vn(t,g);return ww(),j.jsxs(j.Fragment,{children:[j.jsx(O2,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:j.jsx(S2,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":P2(c.open),...l,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),j.jsxs(j.Fragment,{children:[j.jsx(gS,{titleId:c.titleId}),j.jsx(mS,{contentRef:g,descriptionId:c.descriptionId})]})]})}),F2="DialogTitle",jw=z.forwardRef((n,t)=>{const{__scopeDialog:e,...r}=n,i=Yr(F2,e);return j.jsx(Xe.h2,{id:i.titleId,...r,ref:t})});jw.displayName=F2;var Dw="DialogDescription",hS=z.forwardRef((n,t)=>{const{__scopeDialog:e,...r}=n,i=Yr(Dw,e);return j.jsx(Xe.p,{id:i.descriptionId,...r,ref:t})});hS.displayName=Dw;var Uw="DialogClose",zw=z.forwardRef((n,t)=>{const{__scopeDialog:e,...r}=n,i=Yr(Uw,e);return j.jsx(Xe.button,{type:"button",...r,ref:t,onClick:he(n.onClick,()=>i.onOpenChange(!1))})});zw.displayName=Uw;function P2(n){return n?"open":"closed"}var $w="DialogTitleWarning",[hN,Qw]=Qx($w,{contentName:Is,titleName:F2,docsSlug:"dialog"}),gS=({titleId:n})=>{const t=Qw($w),e=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return z.useEffect(()=>{n&&(document.getElementById(n)||console.error(e))},[e,n]),null},pS="DialogDescriptionWarning",mS=({contentRef:n,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Qw(pS).contentName}}.`;return z.useEffect(()=>{const i=n.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,n,t]),null},_S=Bw,yS=Mw,wS=Pw,vS=Tw,bS=Rw,AS=jw,LS=zw;function qw(n){var t,e,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(t=0;t<i;t++)n[t]&&(e=qw(n[t]))&&(r&&(r+=" "),r+=e)}else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Gi(){for(var n,t,e=0,r="",i=arguments.length;e<i;e++)(n=arguments[e])&&(t=qw(n))&&(r&&(r+=" "),r+=t);return r}const CS="";function Ww(n){if(n.length<=6)return n;const t=n.startsWith("0x")?2:0;return`0x${n.slice(t,t+4)}${CS}${n.slice(-4)}`}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function T2(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Gw(n,t){return Array.isArray(t)?t.length===0?!0:n?t.every(e=>typeof e=="string"):t.every(e=>Number.isSafeInteger(e)):!1}function IS(n){if(typeof n!="function")throw new Error("function expected");return!0}function sl(n,t){if(typeof t!="string")throw new Error(`${n}: string expected`);return!0}function yf(n){if(!Number.isSafeInteger(n))throw new Error(`invalid integer: ${n}`)}function jd(n){if(!Array.isArray(n))throw new Error("array expected")}function Vw(n,t){if(!Gw(!0,t))throw new Error(`${n}: array of strings expected`)}function R2(n,t){if(!Gw(!1,t))throw new Error(`${n}: array of numbers expected`)}function Kw(...n){const t=a=>a,e=(a,l)=>c=>a(l(c)),r=n.map(a=>a.encode).reduceRight(e,t),i=n.map(a=>a.decode).reduce(e,t);return{encode:r,decode:i}}function Hw(n){const t=typeof n=="string"?n.split(""):n,e=t.length;Vw("alphabet",t);const r=new Map(t.map((i,a)=>[i,a]));return{encode:i=>(jd(i),i.map(a=>{if(!Number.isSafeInteger(a)||a<0||a>=e)throw new Error(`alphabet.encode: digit index outside alphabet "${a}". Allowed: ${n}`);return t[a]})),decode:i=>(jd(i),i.map(a=>{sl("alphabet.decode",a);const l=r.get(a);if(l===void 0)throw new Error(`Unknown letter: "${a}". Allowed: ${n}`);return l}))}}function Yw(n=""){return sl("join",n),{encode:t=>(Vw("join.decode",t),t.join(n)),decode:t=>(sl("join.decode",t),t.split(n))}}function Qy(n,t,e){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(e<2)throw new Error(`convertRadix: invalid to=${e}, base cannot be less than 2`);if(jd(n),!n.length)return[];let r=0;const i=[],a=Array.from(n,c=>{if(yf(c),c<0||c>=t)throw new Error(`invalid integer: ${c}`);return c}),l=a.length;for(;;){let c=0,g=!0;for(let f=r;f<l;f++){const d=a[f],y=t*c,v=y+d;if(!Number.isSafeInteger(v)||y/t!==c||v-d!==y)throw new Error("convertRadix: carry overflow");const w=v/e;c=v%e;const F=Math.floor(w);if(a[f]=F,!Number.isSafeInteger(F)||F*e+c!==v)throw new Error("convertRadix: carry overflow");if(g)F?g=!1:r=f;else continue}if(i.push(c),g)break}for(let c=0;c<n.length-1&&n[c]===0;c++)i.push(0);return i.reverse()}const Zw=(n,t)=>t===0?n:Zw(t,n%t),Dd=(n,t)=>n+(t-Zw(n,t)),ld=(()=>{let n=[];for(let t=0;t<40;t++)n.push(2**t);return n})();function wp(n,t,e,r){if(jd(n),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(e<=0||e>32)throw new Error(`convertRadix2: wrong to=${e}`);if(Dd(t,e)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${e} carryBits=${Dd(t,e)}`);let i=0,a=0;const l=ld[t],c=ld[e]-1,g=[];for(const f of n){if(yf(f),f>=l)throw new Error(`convertRadix2: invalid data word=${f} from=${t}`);if(i=i<<t|f,a+t>32)throw new Error(`convertRadix2: carry overflow pos=${a} from=${t}`);for(a+=t;a>=e;a-=e)g.push((i>>a-e&c)>>>0);const d=ld[a];if(d===void 0)throw new Error("invalid carry");i&=d-1}if(i=i<<e-a&c,!r&&a>=t)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&a>0&&g.push(i>>>0),g}function xS(n){yf(n);const t=2**8;return{encode:e=>{if(!T2(e))throw new Error("radix.encode input should be Uint8Array");return Qy(Array.from(e),t,n)},decode:e=>(R2("radix.decode",e),Uint8Array.from(Qy(e,n,t)))}}function ES(n,t=!1){if(yf(n),n<=0||n>32)throw new Error("radix2: bits should be in (0..32]");if(Dd(8,n)>32||Dd(n,8)>32)throw new Error("radix2: carry overflow");return{encode:e=>{if(!T2(e))throw new Error("radix2.encode input should be Uint8Array");return wp(Array.from(e),8,n,!t)},decode:e=>(R2("radix2.decode",e),Uint8Array.from(wp(e,n,8,t)))}}function qy(n){return IS(n),function(...t){try{return n.apply(null,t)}catch{}}}const SS=n=>Kw(xS(58),Hw(n),Yw("")),Xw=SS("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),vp=Kw(Hw("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Yw("")),Wy=[996825010,642813549,513874426,1027748829,705979059];function Ec(n){const t=n>>25;let e=(n&33554431)<<5;for(let r=0;r<Wy.length;r++)(t>>r&1)===1&&(e^=Wy[r]);return e}function Gy(n,t,e=1){const r=n.length;let i=1;for(let a=0;a<r;a++){const l=n.charCodeAt(a);if(l<33||l>126)throw new Error(`Invalid prefix (${n})`);i=Ec(i)^l>>5}i=Ec(i);for(let a=0;a<r;a++)i=Ec(i)^n.charCodeAt(a)&31;for(let a of t)i=Ec(i)^a;for(let a=0;a<6;a++)i=Ec(i);return i^=e,vp.encode(wp([i%ld[30]],30,5,!1))}function OS(n){const t=n==="bech32"?1:734539939,e=ES(5),r=e.decode,i=e.encode,a=qy(r);function l(y,v,w=90){sl("bech32.encode prefix",y),T2(v)&&(v=Array.from(v)),R2("bech32.encode",v);const F=y.length;if(F===0)throw new TypeError(`Invalid prefix length ${F}`);const B=F+7+v.length;if(w!==!1&&B>w)throw new TypeError(`Length ${B} exceeds limit ${w}`);const x=y.toLowerCase(),M=Gy(x,v,t);return`${x}1${vp.encode(v)}${M}`}function c(y,v=90){sl("bech32.decode input",y);const w=y.length;if(w<8||v!==!1&&w>v)throw new TypeError(`invalid string length: ${w} (${y}). Expected (8..${v})`);const F=y.toLowerCase();if(y!==F&&y!==y.toUpperCase())throw new Error("String must be lowercase or uppercase");const B=F.lastIndexOf("1");if(B===0||B===-1)throw new Error('Letter "1" must be present between prefix and data only');const x=F.slice(0,B),M=F.slice(B+1);if(M.length<6)throw new Error("Data must be at least 6 characters long");const O=vp.decode(M).slice(0,-6),$=Gy(x,O,t);if(!M.endsWith($))throw new Error(`Invalid checksum in ${y}: expected "${$}"`);return{prefix:x,words:O}}const g=qy(c);function f(y){const{prefix:v,words:w}=c(y,!1);return{prefix:v,words:w,bytes:r(w)}}function d(y,v){return l(y,i(v))}return{encode:l,decode:c,encodeFromBytes:d,decodeToBytes:f,decodeUnsafe:g,fromWords:r,fromWordsUnsafe:a,toWords:i}}const Ud=OS("bech32"),wf=n=>Xw.encode(n),al=n=>Xw.decode(n);function kn(n){return Uint8Array.from(atob(n),t=>t.charCodeAt(0))}const Pg=8192;function Se(n){if(n.length<Pg)return btoa(String.fromCharCode(...n));let t="";for(var e=0;e<n.length;e+=Pg){const r=n.slice(e,e+Pg);t+=String.fromCharCode(...r)}return btoa(t)}function N2(n){const t=n.startsWith("0x")?n.slice(2):n,e=t.length%2===0?t:`0${t}`,r=e.match(/[0-9a-fA-F]{2}/g)?.map(i=>parseInt(i,16))??[];if(r.length!==e.length/2)throw new Error(`Invalid hex string ${n}`);return Uint8Array.from(r)}function xs(n){return n.reduce((t,e)=>t+e.toString(16).padStart(2,"0"),"")}function vf(n,t){return Array.from({length:Math.ceil(n.length/t)},(e,r)=>n.slice(r*t,(r+1)*t))}function BS(){let n,t;return{promise:new Promise((r,i)=>{n=r,t=i}),resolve:n,reject:t}}class Jw{constructor(t,e){if(typeof t!="function")throw new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: ${t}.`);this._batchLoadFn=t,this._maxBatchSize=PS(e),this._batchScheduleFn=TS(e),this._cacheKeyFn=RS(e),this._cacheMap=NS(e),this._batch=null,this.name=jS(e)}load(t){if(t==null)throw new TypeError(`The loader.load() function must be called with a value, but got: ${String(t)}.`);const e=MS(this),r=this._cacheMap;let i;if(r){i=this._cacheKeyFn(t);const l=r.get(i);if(l){const c=e.cacheHits||(e.cacheHits=[]);return new Promise(g=>{c.push(()=>{g(l)})})}}e.keys.push(t);const a=new Promise((l,c)=>{e.callbacks.push({resolve:l,reject:c})});return r&&r.set(i,a),a}loadMany(t){if(!tv(t))throw new TypeError(`The loader.loadMany() function must be called with Array<key>, but got: ${t}.`);const e=[];for(let r=0;r<t.length;r++)e.push(this.load(t[r]).catch(i=>i));return Promise.all(e)}clear(t){const e=this._cacheMap;if(e){const r=this._cacheKeyFn(t);e.delete(r)}return this}clearAll(){const t=this._cacheMap;return t&&t.clear(),this}prime(t,e){const r=this._cacheMap;if(r){const i=this._cacheKeyFn(t);if(r.get(i)===void 0){let a;e instanceof Error?(a=Promise.reject(e),a.catch(()=>{})):a=Promise.resolve(e),r.set(i,a)}}return this}}const kS=typeof process=="object"&&typeof process.nextTick=="function"?function(n){Tg||(Tg=Promise.resolve()),Tg.then(()=>{process.nextTick(n)})}:typeof setImmediate=="function"?function(n){setImmediate(n)}:function(n){setTimeout(n)};let Tg;function MS(n){const t=n._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<n._maxBatchSize)return t;const e={hasDispatched:!1,keys:[],callbacks:[]};return n._batch=e,n._batchScheduleFn(()=>{FS(n,e)}),e}function FS(n,t){if(t.hasDispatched=!0,t.keys.length===0){bp(t);return}let e;try{e=n._batchLoadFn(t.keys)}catch(r){return Rg(n,t,new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: ${String(r)}.`))}if(!e||typeof e.then!="function")return Rg(n,t,new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: ${String(e)}.`));Promise.resolve(e).then(r=>{if(!tv(r))throw new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: ${String(r)}.`);if(r.length!==t.keys.length)throw new TypeError(`DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.

Keys:
${String(t.keys)}

Values:
${String(r)}`);bp(t);for(let i=0;i<t.callbacks.length;i++){const a=r[i];a instanceof Error?t.callbacks[i].reject(a):t.callbacks[i].resolve(a)}}).catch(r=>{Rg(n,t,r)})}function Rg(n,t,e){bp(t);for(let r=0;r<t.keys.length;r++)n.clear(t.keys[r]),t.callbacks[r].reject(e)}function bp(n){if(n.cacheHits)for(let t=0;t<n.cacheHits.length;t++)n.cacheHits[t]()}function PS(n){if(!(!n||n.batch!==!1))return 1;const e=n&&n.maxBatchSize;if(e===void 0)return 1/0;if(typeof e!="number"||e<1)throw new TypeError(`maxBatchSize must be a positive number: ${e}`);return e}function TS(n){const t=n&&n.batchScheduleFn;if(t===void 0)return kS;if(typeof t!="function")throw new TypeError(`batchScheduleFn must be a function: ${t}`);return t}function RS(n){const t=n&&n.cacheKeyFn;if(t===void 0)return e=>e;if(typeof t!="function")throw new TypeError(`cacheKeyFn must be a function: ${t}`);return t}function NS(n){if(!(!n||n.cache!==!1))return null;const e=n&&n.cacheMap;if(e===void 0)return new Map;if(e!==null){const i=["get","set","delete","clear"].filter(a=>e&&typeof e[a]!="function");if(i.length!==0)throw new TypeError("Custom cacheMap missing methods: "+i.join(", "))}return e}function jS(n){return n&&n.name?n.name:null}function tv(n){return typeof n=="object"&&n!==null&&"length"in n&&typeof n.length=="number"&&(n.length===0||n.length>0&&Object.prototype.hasOwnProperty.call(n,n.length-1))}function zd(n){let t=BigInt(n);const e=[];let r=0;if(t===0n)return[0];for(;t>0;)e[r]=Number(t&0x7fn),t>>=7n,t>0n&&(e[r]|=128),r+=1;return e}function DS(n){let t=0n,e=0n,r=0;for(;;){if(r>=n.length)throw new Error("ULEB decode error: buffer overflow");const i=n[r];if(r+=1,t+=BigInt(i&127)<<e,(i&128)===0)break;e+=7n}if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("ULEB decode error: value exceeds MAX_SAFE_INTEGER");return{value:Number(t),length:r}}class US{constructor(t){this.bytePosition=0,this.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength)}shift(t){return this.bytePosition+=t,this}read8(){const t=this.dataView.getUint8(this.bytePosition);return this.shift(1),t}read16(){const t=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),t}read32(){const t=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),t}read64(){const t=this.read32(),r=this.read32().toString(16)+t.toString(16).padStart(8,"0");return BigInt("0x"+r).toString(10)}read128(){const t=BigInt(this.read64()),r=BigInt(this.read64()).toString(16)+t.toString(16).padStart(16,"0");return BigInt("0x"+r).toString(10)}read256(){const t=BigInt(this.read128()),r=BigInt(this.read128()).toString(16)+t.toString(16).padStart(32,"0");return BigInt("0x"+r).toString(10)}readBytes(t){const e=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,e,t);return this.shift(t),r}readULEB(){const t=this.bytePosition+this.dataView.byteOffset,e=new Uint8Array(this.dataView.buffer,t),{value:r,length:i}=DS(e);return this.shift(i),r}readVec(t){const e=this.readULEB(),r=[];for(let i=0;i<e;i++)r.push(t(this,i,e));return r}}function zS(n,t){switch(t){case"base58":return wf(n);case"base64":return Se(n);case"hex":return xs(n);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function ev(n,t=["<",">"]){const[e,r]=t,i=[];let a="",l=0;for(let c=0;c<n.length;c++){const g=n[c];if(g===e&&l++,g===r&&l--,l===0&&g===","){i.push(a.trim()),a="";continue}a+=g}return i.push(a.trim()),i}class $S{constructor({initialSize:t=1024,maxSize:e=1/0,allocateSize:r=1024}={}){this.bytePosition=0,this.size=t,this.maxSize=e,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(t))}ensureSizeOrGrow(t){const e=this.bytePosition+t;if(e>this.size){const r=Math.min(this.maxSize,Math.max(this.size+e,this.size+this.allocateSize));if(e>r)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${e}`);this.size=r;const i=new ArrayBuffer(this.size);new Uint8Array(i).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(i)}}shift(t){return this.bytePosition+=t,this}write8(t){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(t)),this.shift(1)}writeBytes(t){this.ensureSizeOrGrow(t.length);for(let e=0;e<t.length;e++)this.dataView.setUint8(this.bytePosition+e,t[e]);return this.shift(t.length)}write16(t){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(t),!0),this.shift(2)}write32(t){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(t),!0),this.shift(4)}write64(t){return Ng(BigInt(t),8).forEach(e=>this.write8(e)),this}write128(t){return Ng(BigInt(t),16).forEach(e=>this.write8(e)),this}write256(t){return Ng(BigInt(t),32).forEach(e=>this.write8(e)),this}writeULEB(t){return zd(t).forEach(e=>this.write8(e)),this}writeVec(t,e){return this.writeULEB(t.length),Array.from(t).forEach((r,i)=>e(this,r,i,t.length)),this}*[Symbol.iterator](){for(let t=0;t<this.bytePosition;t++)yield this.dataView.getUint8(t);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(t){return zS(this.toBytes(),t)}}function Ng(n,t){const e=new Uint8Array(t);let r=0;for(;n>0;)e[r]=Number(n%BigInt(256)),n=n/BigInt(256),r+=1;return e}var nv=n=>{throw TypeError(n)},rv=(n,t,e)=>t.has(n)||nv("Cannot "+e),zr=(n,t,e)=>(rv(n,t,"read from private field"),e?e.call(n):t.get(n)),$d=(n,t,e)=>t.has(n)?nv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),Qd=(n,t,e,r)=>(rv(n,t,"write to private field"),t.set(n,e),e),pa,Rc,ud,So;const QS=class iv{constructor(t){$d(this,pa),$d(this,Rc),this.name=t.name,this.read=t.read,this.serializedSize=t.serializedSize??(()=>null),Qd(this,pa,t.write),Qd(this,Rc,t.serialize??((e,r)=>{const i=new $S({initialSize:this.serializedSize(e)??void 0,...r});return zr(this,pa).call(this,e,i),i.toBytes()})),this.validate=t.validate??(()=>{})}write(t,e){this.validate(t),zr(this,pa).call(this,t,e)}serialize(t,e){return this.validate(t),new qS(this,zr(this,Rc).call(this,t,e))}parse(t){const e=new US(t);return this.read(e)}fromHex(t){return this.parse(N2(t))}fromBase58(t){return this.parse(al(t))}fromBase64(t){return this.parse(kn(t))}transform({name:t,input:e,output:r,validate:i}){return new iv({name:t??this.name,read:a=>r?r(this.read(a)):this.read(a),write:(a,l)=>zr(this,pa).call(this,e?e(a):a,l),serializedSize:a=>this.serializedSize(e?e(a):a),serialize:(a,l)=>zr(this,Rc).call(this,e?e(a):a,l),validate:a=>{i?.(a),this.validate(e?e(a):a)}})}};pa=new WeakMap;Rc=new WeakMap;let wi=QS;const ov=Symbol.for("@mysten/serialized-bcs");function j2(n){return!!n&&typeof n=="object"&&n[ov]===!0}class qS{constructor(t,e){$d(this,ud),$d(this,So),Qd(this,ud,t),Qd(this,So,e)}get[ov](){return!0}toBytes(){return zr(this,So)}toHex(){return xs(zr(this,So))}toBase64(){return Se(zr(this,So))}toBase58(){return wf(zr(this,So))}parse(){return zr(this,ud).parse(zr(this,So))}}ud=new WeakMap;So=new WeakMap;function qd({size:n,...t}){return new wi({...t,serializedSize:()=>n})}function jg({readMethod:n,writeMethod:t,...e}){return qd({...e,read:r=>r[n](),write:(r,i)=>i[t](r),validate:r=>{if(r<0||r>e.maxValue)throw new TypeError(`Invalid ${e.name} value: ${r}. Expected value in range 0-${e.maxValue}`);e.validate?.(r)}})}function Dg({readMethod:n,writeMethod:t,...e}){return qd({...e,read:r=>r[n](),write:(r,i)=>i[t](BigInt(r)),validate:r=>{const i=BigInt(r);if(i<0||i>e.maxValue)throw new TypeError(`Invalid ${e.name} value: ${i}. Expected value in range 0-${e.maxValue}`);e.validate?.(i)}})}function WS({serialize:n,...t}){const e=new wi({...t,serialize:n,write:(r,i)=>{for(const a of e.serialize(r).toBytes())i.write8(a)}});return e}function GS({toBytes:n,fromBytes:t,...e}){return new wi({...e,read:r=>{const i=r.readULEB(),a=r.readBytes(i);return t(a)},write:(r,i)=>{const a=n(r);i.writeULEB(a.length);for(let l=0;l<a.length;l++)i.write8(a[l])},serialize:r=>{const i=n(r),a=zd(i.length),l=new Uint8Array(a.length+i.length);return l.set(a,0),l.set(i,a.length),l},validate:r=>{if(typeof r!="string")throw new TypeError(`Invalid ${e.name} value: ${r}. Expected string`);e.validate?.(r)}})}function VS(n){let t=null;function e(){return t||(t=n()),t}return new wi({name:"lazy",read:r=>e().read(r),serializedSize:r=>e().serializedSize(r),write:(r,i)=>e().write(r,i),serialize:(r,i)=>e().serialize(r,i).toBytes()})}class KS extends wi{constructor({name:t,fields:e,...r}){const i=Object.entries(e);super({name:t,serializedSize:a=>{let l=0;for(const[c,g]of i){const f=g.serializedSize(a[c]);if(f==null)return null;l+=f}return l},read:a=>{const l={};for(const[c,g]of i)l[c]=g.read(a);return l},write:(a,l)=>{for(const[c,g]of i)g.write(a[c],l)},...r,validate:a=>{if(r?.validate?.(a),typeof a!="object"||a==null)throw new TypeError(`Expected object, found ${typeof a}`)}})}}class HS extends wi{constructor({fields:t,...e}){const r=Object.entries(t);super({read:i=>{const a=i.readULEB(),l=r[a];if(!l)throw new TypeError(`Unknown value ${a} for enum ${e.name}`);const[c,g]=l;return{[c]:g?.read(i)??!0,$kind:c}},write:(i,a)=>{const[l,c]=Object.entries(i).filter(([g])=>Object.hasOwn(t,g))[0];for(let g=0;g<r.length;g++){const[f,d]=r[g];if(f===l){a.writeULEB(g),d?.write(c,a);return}}},...e,validate:i=>{if(e?.validate?.(i),typeof i!="object"||i==null)throw new TypeError(`Expected object, found ${typeof i}`);const a=Object.keys(i).filter(c=>i[c]!==void 0&&Object.hasOwn(t,c));if(a.length!==1)throw new TypeError(`Expected object with one key, but found ${a.length} for type ${e.name}}`);const[l]=a;if(!Object.hasOwn(t,l))throw new TypeError(`Invalid enum variant ${l}`)}})}}class YS extends wi{constructor({fields:t,name:e,...r}){super({name:e??`(${t.map(i=>i.name).join(", ")})`,serializedSize:i=>{let a=0;for(let l=0;l<t.length;l++){const c=t[l].serializedSize(i[l]);if(c==null)return null;a+=c}return a},read:i=>{const a=[];for(const l of t)a.push(l.read(i));return a},write:(i,a)=>{for(let l=0;l<t.length;l++)t[l].write(i[l],a)},...r,validate:i=>{if(r?.validate?.(i),!Array.isArray(i))throw new TypeError(`Expected array, found ${typeof i}`);if(i.length!==t.length)throw new TypeError(`Expected array of length ${t.length}, found ${i.length}`)}})}}function ZS(n,t,e){return new wi({read:r=>{const i=new Array(n);for(let a=0;a<n;a++)i[a]=t.read(r);return i},write:(r,i)=>{for(const a of r)t.write(a,i)},...e,name:e?.name??`${t.name}[${n}]`,validate:r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==n)throw new TypeError(`Expected array of length ${n}, found ${r.length}`)}})}function XS(n){return Y.enum(`Option<${n.name}>`,{None:null,Some:n}).transform({input:t=>t==null?{None:!0}:{Some:t},output:t=>t.$kind==="Some"?t.Some:null})}function JS(n,t){return new wi({read:e=>{const r=e.readULEB(),i=new Array(r);for(let a=0;a<r;a++)i[a]=n.read(e);return i},write:(e,r)=>{r.writeULEB(e.length);for(const i of e)n.write(i,r)},...t,name:t?.name??`vector<${n.name}>`,validate:e=>{if(t?.validate?.(e),!e||typeof e!="object"||!("length"in e))throw new TypeError(`Expected array, found ${typeof e}`)}})}function t4(n,t){return Y.vector(Y.tuple([n,t])).transform({name:`Map<${n.name}, ${t.name}>`,input:e=>[...e.entries()],output:e=>{const r=new Map;for(const[i,a]of e)r.set(i,a);return r}})}const Y={u8(n){return jg({readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...n,name:n?.name??"u8"})},u16(n){return jg({readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...n,name:n?.name??"u16"})},u32(n){return jg({readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...n,name:n?.name??"u32"})},u64(n){return Dg({readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...n,name:n?.name??"u64"})},u128(n){return Dg({readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...n,name:n?.name??"u128"})},u256(n){return Dg({readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...n,name:n?.name??"u256"})},bool(n){return qd({size:1,read:t=>t.read8()===1,write:(t,e)=>e.write8(t?1:0),...n,name:n?.name??"bool",validate:t=>{if(n?.validate?.(t),typeof t!="boolean")throw new TypeError(`Expected boolean, found ${typeof t}`)}})},uleb128(n){return WS({read:t=>t.readULEB(),serialize:t=>Uint8Array.from(zd(t)),...n,name:n?.name??"uleb128"})},bytes(n,t){return qd({size:n,read:e=>e.readBytes(n),write:(e,r)=>{r.writeBytes(new Uint8Array(e))},...t,name:t?.name??`bytes[${n}]`,validate:e=>{if(t?.validate?.(e),!e||typeof e!="object"||!("length"in e))throw new TypeError(`Expected array, found ${typeof e}`);if(e.length!==n)throw new TypeError(`Expected array of length ${n}, found ${e.length}`)}})},byteVector(n){return new wi({read:t=>{const e=t.readULEB();return t.readBytes(e)},write:(t,e)=>{const r=new Uint8Array(t);e.writeULEB(r.length),e.writeBytes(r)},...n,name:n?.name??"vector<u8>",serializedSize:t=>{const e="length"in t?t.length:null;return e==null?null:zd(e).length+e},validate:t=>{if(n?.validate?.(t),!t||typeof t!="object"||!("length"in t))throw new TypeError(`Expected array, found ${typeof t}`)}})},string(n){return GS({toBytes:t=>new TextEncoder().encode(t),fromBytes:t=>new TextDecoder().decode(t),...n,name:n?.name??"string"})},fixedArray:ZS,option:XS,vector:JS,tuple(n,t){return new YS({fields:n,...t})},struct(n,t,e){return new KS({name:n,fields:t,...e})},enum(n,t,e){return new HS({name:n,fields:t,...e})},map:t4,lazy(n){return VS(n)}},sv=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,av=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i,e4=235;function n4(n){return n.length>e4?!1:n.includes("@")?sv.test(n):av.test(n)}function r4(n,t="at"){const e=n.toLowerCase();let r;if(e.includes("@")){if(!sv.test(e))throw new Error(`Invalid SuiNS name ${n}`);const[i,a]=e.split("@");r=[...i?i.split("."):[],a]}else{if(!av.test(e))throw new Error(`Invalid SuiNS name ${n}`);r=e.split(".").slice(0,-1)}return t==="dot"?`${r.join(".")}.sui`:`${r.slice(0,-1).join(".")}@${r[r.length-1]}`}const i4=/^([a-z0-9]+(?:-[a-z0-9]+)*)$/,o4=/^\d+$/,s4=64,cv="/",cr=n=>{const t=n.split(cv);if(t.length<2||t.length>3)return!1;const[e,r,i]=t;return i!==void 0&&!o4.test(i)||!n4(e)?!1:i4.test(r)&&r.length<s4},a4=n=>{const t=n.split(/::|<|>|,/);for(const e of t)if(e.includes(cv)&&!cr(e))return!1;return!0},c4=32;function Vy(n){try{return al(n).length===c4}catch{return!1}}const Il=32;function $r(n){return u4(n)&&d4(n)===Il}function Xu(n){return $r(n)}function l4(n){return n.includes("::")?Es(n):n}function Es(n){const[t,e]=n.split("::"),r=cr(t),i=n.slice(t.length+e.length+4),a=i.includes("<")?i.slice(0,i.indexOf("<")):i,l=i.includes("<")?ev(i.slice(i.indexOf("<")+1,i.lastIndexOf(">"))).map(c=>l4(c.trim())):[];return{address:r?t:me(t),module:e,name:a,typeParams:l}}function Wd(n){const{address:t,module:e,name:r,typeParams:i}=typeof n=="string"?Es(n):n,a=i?.length>0?`<${i.map(l=>typeof l=="string"?l:Wd(l)).join(",")}>`:"";return`${t}::${e}::${r}${a}`}function me(n,t=!1){let e=n.toLowerCase();return!t&&e.startsWith("0x")&&(e=e.slice(2)),`0x${e.padStart(Il*2,"0")}`}function gi(n,t=!1){return me(n,t)}function u4(n){return/^(0x|0X)?[a-fA-F0-9]+$/.test(n)&&n.length%2===0}function d4(n){return/^(0x|0X)/.test(n)?(n.length-2)/2:n.length/2}BigInt(1e9);const f4="0x1",lv="0x2";gi("0x6");const h4=`${lv}::sui::SUI`;gi("0x5");gi("0x8");const ua=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function uv(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function $i(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function Zr(n,...t){if(!uv(n))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(n.length))throw new Error("Uint8Array expected of length "+t+", got length="+n.length)}function dv(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");$i(n.outputLen),$i(n.blockLen)}function ka(n,t=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(t&&n.finished)throw new Error("Hash#digest() has already been called")}function fv(n,t){Zr(n);const e=t.outputLen;if(n.length<e)throw new Error("digestInto() expects output buffer of length at least "+e)}function Gd(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function Uo(...n){for(let t=0;t<n.length;t++)n[t].fill(0)}function dd(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}const hv=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function gv(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}const Pi=hv?n=>n:n=>gv(n);function g4(n){for(let t=0;t<n.length;t++)n[t]=gv(n[t]);return n}const da=hv?n=>n:g4,pv=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",p4=Array.from({length:256},(n,t)=>t.toString(16).padStart(2,"0"));function bf(n){if(Zr(n),pv)return n.toHex();let t="";for(let e=0;e<n.length;e++)t+=p4[n[e]];return t}const Oi={_0:48,_9:57,A:65,F:70,a:97,f:102};function Ky(n){if(n>=Oi._0&&n<=Oi._9)return n-Oi._0;if(n>=Oi.A&&n<=Oi.F)return n-(Oi.A-10);if(n>=Oi.a&&n<=Oi.f)return n-(Oi.a-10)}function mv(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(pv)return Uint8Array.fromHex(n);const t=n.length,e=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(e);for(let i=0,a=0;i<e;i++,a+=2){const l=Ky(n.charCodeAt(a)),c=Ky(n.charCodeAt(a+1));if(l===void 0||c===void 0){const g=n[a]+n[a+1];throw new Error('hex string expected, got non-hex character "'+g+'" at index '+a)}r[i]=l*16+c}return r}function _v(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function No(n){return typeof n=="string"&&(n=_v(n)),Zr(n),n}function Hy(n){return typeof n=="string"&&(n=_v(n)),Zr(n),n}function Yy(...n){let t=0;for(let r=0;r<n.length;r++){const i=n[r];Zr(i),t+=i.length}const e=new Uint8Array(t);for(let r=0,i=0;r<n.length;r++){const a=n[r];e.set(a,i),i+=a.length}return e}function m4(n,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(n,t)}class D2{}function _4(n){const t=r=>n().update(No(r)).digest(),e=n();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>n(),t}function y4(n){const t=(r,i)=>n(i).update(No(r)).digest(),e=n({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=r=>n(r),t}function w4(n=32){if(ua&&typeof ua.getRandomValues=="function")return ua.getRandomValues(new Uint8Array(n));if(ua&&typeof ua.randomBytes=="function")return Uint8Array.from(ua.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}const v4=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);function b4(n,t,e,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(t,e,r);const i=BigInt(32),a=BigInt(4294967295),l=Number(e>>i&a),c=Number(e&a),g=r?4:0,f=r?0:4;n.setUint32(t+g,l,r),n.setUint32(t+f,c,r)}class A4 extends D2{constructor(t,e,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=dd(this.buffer)}update(t){ka(this),t=No(t),Zr(t);const{view:e,buffer:r,blockLen:i}=this,a=t.length;for(let l=0;l<a;){const c=Math.min(i-this.pos,a-l);if(c===i){const g=dd(t);for(;i<=a-l;l+=i)this.process(g,l);continue}r.set(t.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===i&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){ka(this),fv(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:i,isLE:a}=this;let{pos:l}=this;e[l++]=128,Uo(this.buffer.subarray(l)),this.padOffset>i-l&&(this.process(r,0),l=0);for(let y=l;y<i;y++)e[y]=0;b4(r,i-8,BigInt(this.length*8),a),this.process(r,0);const c=dd(t),g=this.outputLen;if(g%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=g/4,d=this.get();if(f>d.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<f;y++)c.setUint32(4*y,d[y],a)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:i,finished:a,destroyed:l,pos:c}=this;return t.destroyed=l,t.finished=a,t.length=i,t.pos=c,i%e&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const En=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Ju=BigInt(2**32-1),Zy=BigInt(32);function yv(n,t=!1){return t?{h:Number(n&Ju),l:Number(n>>Zy&Ju)}:{h:Number(n>>Zy&Ju)|0,l:Number(n&Ju)|0}}function L4(n,t=!1){const e=n.length;let r=new Uint32Array(e),i=new Uint32Array(e);for(let a=0;a<e;a++){const{h:l,l:c}=yv(n[a],t);[r[a],i[a]]=[l,c]}return[r,i]}const Xy=(n,t,e)=>n>>>e,Jy=(n,t,e)=>n<<32-e|t>>>e,ko=(n,t,e)=>n>>>e|t<<32-e,Mo=(n,t,e)=>n<<32-e|t>>>e,Nc=(n,t,e)=>n<<64-e|t>>>e-32,jc=(n,t,e)=>n>>>e-32|t<<64-e,C4=(n,t)=>t,I4=(n,t)=>n;function Dr(n,t,e,r){const i=(t>>>0)+(r>>>0);return{h:n+e+(i/2**32|0)|0,l:i|0}}const U2=(n,t,e)=>(n>>>0)+(t>>>0)+(e>>>0),z2=(n,t,e,r)=>t+e+r+(n/2**32|0)|0,x4=(n,t,e,r)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0),E4=(n,t,e,r,i)=>t+e+r+i+(n/2**32|0)|0,S4=(n,t,e,r,i)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0)+(i>>>0),O4=(n,t,e,r,i,a)=>t+e+r+i+a+(n/2**32|0)|0,nn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Nt=new Uint32Array(32);function vo(n,t,e,r,i,a){const l=i[a],c=i[a+1];let g=Nt[2*n],f=Nt[2*n+1],d=Nt[2*t],y=Nt[2*t+1],v=Nt[2*e],w=Nt[2*e+1],F=Nt[2*r],B=Nt[2*r+1],x=U2(g,d,l);f=z2(x,f,y,c),g=x|0,{Dh:B,Dl:F}={Dh:B^f,Dl:F^g},{Dh:B,Dl:F}={Dh:C4(B,F),Dl:I4(B)},{h:w,l:v}=Dr(w,v,B,F),{Bh:y,Bl:d}={Bh:y^w,Bl:d^v},{Bh:y,Bl:d}={Bh:ko(y,d,24),Bl:Mo(y,d,24)},Nt[2*n]=g,Nt[2*n+1]=f,Nt[2*t]=d,Nt[2*t+1]=y,Nt[2*e]=v,Nt[2*e+1]=w,Nt[2*r]=F,Nt[2*r+1]=B}function bo(n,t,e,r,i,a){const l=i[a],c=i[a+1];let g=Nt[2*n],f=Nt[2*n+1],d=Nt[2*t],y=Nt[2*t+1],v=Nt[2*e],w=Nt[2*e+1],F=Nt[2*r],B=Nt[2*r+1],x=U2(g,d,l);f=z2(x,f,y,c),g=x|0,{Dh:B,Dl:F}={Dh:B^f,Dl:F^g},{Dh:B,Dl:F}={Dh:ko(B,F,16),Dl:Mo(B,F,16)},{h:w,l:v}=Dr(w,v,B,F),{Bh:y,Bl:d}={Bh:y^w,Bl:d^v},{Bh:y,Bl:d}={Bh:Nc(y,d,63),Bl:jc(y,d,63)},Nt[2*n]=g,Nt[2*n+1]=f,Nt[2*t]=d,Nt[2*t+1]=y,Nt[2*e]=v,Nt[2*e+1]=w,Nt[2*r]=F,Nt[2*r+1]=B}function B4(n,t={},e,r,i){if($i(e),n<0||n>e)throw new Error("outputLen bigger than keyLen");const{key:a,salt:l,personalization:c}=t;if(a!==void 0&&(a.length<1||a.length>e))throw new Error("key length must be undefined or 1.."+e);if(l!==void 0&&l.length!==r)throw new Error("salt must be undefined or "+r);if(c!==void 0&&c.length!==i)throw new Error("personalization must be undefined or "+i)}class k4 extends D2{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,$i(t),$i(e),this.blockLen=t,this.outputLen=e,this.buffer=new Uint8Array(t),this.buffer32=Gd(this.buffer)}update(t){ka(this),t=No(t),Zr(t);const{blockLen:e,buffer:r,buffer32:i}=this,a=t.length,l=t.byteOffset,c=t.buffer;for(let g=0;g<a;){this.pos===e&&(da(i),this.compress(i,0,!1),da(i),this.pos=0);const f=Math.min(e-this.pos,a-g),d=l+g;if(f===e&&!(d%4)&&g+f<a){const y=new Uint32Array(c,d,Math.floor((a-g)/4));da(y);for(let v=0;g+e<a;v+=i.length,g+=e)this.length+=e,this.compress(y,v,!1);da(y);continue}r.set(t.subarray(g,g+f),this.pos),this.pos+=f,this.length+=f,g+=f}return this}digestInto(t){ka(this),fv(t,this);const{pos:e,buffer32:r}=this;this.finished=!0,Uo(this.buffer.subarray(e)),da(r),this.compress(r,0,!0),da(r);const i=Gd(t);this.get().forEach((a,l)=>i[l]=Pi(a))}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){const{buffer:e,length:r,finished:i,destroyed:a,outputLen:l,pos:c}=this;return t||(t=new this.constructor({dkLen:l})),t.set(...this.get()),t.buffer.set(e),t.destroyed=a,t.finished=i,t.length=r,t.pos=c,t.outputLen=l,t}clone(){return this._cloneInto()}}class M4 extends k4{constructor(t={}){const e=t.dkLen===void 0?64:t.dkLen;super(128,e),this.v0l=nn[0]|0,this.v0h=nn[1]|0,this.v1l=nn[2]|0,this.v1h=nn[3]|0,this.v2l=nn[4]|0,this.v2h=nn[5]|0,this.v3l=nn[6]|0,this.v3h=nn[7]|0,this.v4l=nn[8]|0,this.v4h=nn[9]|0,this.v5l=nn[10]|0,this.v5h=nn[11]|0,this.v6l=nn[12]|0,this.v6h=nn[13]|0,this.v7l=nn[14]|0,this.v7h=nn[15]|0,B4(e,t,64,16,16);let{key:r,personalization:i,salt:a}=t,l=0;if(r!==void 0&&(r=No(r),l=r.length),this.v0l^=this.outputLen|l<<8|65536|1<<24,a!==void 0){a=No(a);const c=Gd(a);this.v4l^=Pi(c[0]),this.v4h^=Pi(c[1]),this.v5l^=Pi(c[2]),this.v5h^=Pi(c[3])}if(i!==void 0){i=No(i);const c=Gd(i);this.v6l^=Pi(c[0]),this.v6h^=Pi(c[1]),this.v7l^=Pi(c[2]),this.v7h^=Pi(c[3])}if(r!==void 0){const c=new Uint8Array(this.blockLen);c.set(r),this.update(c)}}get(){let{v0l:t,v0h:e,v1l:r,v1h:i,v2l:a,v2h:l,v3l:c,v3h:g,v4l:f,v4h:d,v5l:y,v5h:v,v6l:w,v6h:F,v7l:B,v7h:x}=this;return[t,e,r,i,a,l,c,g,f,d,y,v,w,F,B,x]}set(t,e,r,i,a,l,c,g,f,d,y,v,w,F,B,x){this.v0l=t|0,this.v0h=e|0,this.v1l=r|0,this.v1h=i|0,this.v2l=a|0,this.v2h=l|0,this.v3l=c|0,this.v3h=g|0,this.v4l=f|0,this.v4h=d|0,this.v5l=y|0,this.v5h=v|0,this.v6l=w|0,this.v6h=F|0,this.v7l=B|0,this.v7h=x|0}compress(t,e,r){this.get().forEach((g,f)=>Nt[f]=g),Nt.set(nn,16);let{h:i,l:a}=yv(BigInt(this.length));Nt[24]=nn[8]^a,Nt[25]=nn[9]^i,r&&(Nt[28]=~Nt[28],Nt[29]=~Nt[29]);let l=0;const c=v4;for(let g=0;g<12;g++)vo(0,4,8,12,t,e+2*c[l++]),bo(0,4,8,12,t,e+2*c[l++]),vo(1,5,9,13,t,e+2*c[l++]),bo(1,5,9,13,t,e+2*c[l++]),vo(2,6,10,14,t,e+2*c[l++]),bo(2,6,10,14,t,e+2*c[l++]),vo(3,7,11,15,t,e+2*c[l++]),bo(3,7,11,15,t,e+2*c[l++]),vo(0,5,10,15,t,e+2*c[l++]),bo(0,5,10,15,t,e+2*c[l++]),vo(1,6,11,12,t,e+2*c[l++]),bo(1,6,11,12,t,e+2*c[l++]),vo(2,7,8,13,t,e+2*c[l++]),bo(2,7,8,13,t,e+2*c[l++]),vo(3,4,9,14,t,e+2*c[l++]),bo(3,4,9,14,t,e+2*c[l++]);this.v0l^=Nt[0]^Nt[16],this.v0h^=Nt[1]^Nt[17],this.v1l^=Nt[2]^Nt[18],this.v1h^=Nt[3]^Nt[19],this.v2l^=Nt[4]^Nt[20],this.v2h^=Nt[5]^Nt[21],this.v3l^=Nt[6]^Nt[22],this.v3h^=Nt[7]^Nt[23],this.v4l^=Nt[8]^Nt[24],this.v4h^=Nt[9]^Nt[25],this.v5l^=Nt[10]^Nt[26],this.v5h^=Nt[11]^Nt[27],this.v6l^=Nt[12]^Nt[28],this.v6h^=Nt[13]^Nt[29],this.v7l^=Nt[14]^Nt[30],this.v7h^=Nt[15]^Nt[31],Uo(Nt)}destroy(){this.destroyed=!0,Uo(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const F4=y4(n=>new M4(n)),cl=F4,P4=/^vector<(.+)>$/,T4=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class qr{static parseFromStr(t,e=!1){if(t==="address")return{address:null};if(t==="bool")return{bool:null};if(t==="u8")return{u8:null};if(t==="u16")return{u16:null};if(t==="u32")return{u32:null};if(t==="u64")return{u64:null};if(t==="u128")return{u128:null};if(t==="u256")return{u256:null};if(t==="signer")return{signer:null};const r=t.match(P4);if(r)return{vector:qr.parseFromStr(r[1],e)};const i=t.match(T4);if(i)return{struct:{address:e?me(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:qr.parseStructTypeArgs(i[5],e)}};throw new Error(`Encountered unexpected token when parsing type args for ${t}`)}static parseStructTypeArgs(t,e=!1){return ev(t).map(r=>qr.parseFromStr(r,e))}static tagToString(t){if("bool"in t)return"bool";if("u8"in t)return"u8";if("u16"in t)return"u16";if("u32"in t)return"u32";if("u64"in t)return"u64";if("u128"in t)return"u128";if("u256"in t)return"u256";if("address"in t)return"address";if("signer"in t)return"signer";if("vector"in t)return`vector<${qr.tagToString(t.vector)}>`;if("struct"in t){const e=t.struct,r=e.typeParams.map(qr.tagToString).join(", ");return`${e.address}::${e.module}::${e.name}${r?`<${r}>`:""}`}throw new Error("Invalid TypeTag")}}function R4(n){return Y.u64({name:"unsafe_u64",...n}).transform({input:t=>t,output:t=>Number(t)})}function N4(n){return Y.enum("Option",{None:null,Some:n})}const Pe=Y.bytes(Il).transform({validate:n=>{const t=typeof n=="string"?n:xs(n);if(!t||!$r(me(t)))throw new Error(`Invalid Sui address ${t}`)},input:n=>typeof n=="string"?N2(me(n)):n,output:n=>me(xs(n))}),Gr=Y.byteVector().transform({name:"ObjectDigest",input:n=>al(n),output:n=>wf(new Uint8Array(n)),validate:n=>{if(al(n).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),br=Y.struct("SuiObjectRef",{objectId:Pe,version:Y.u64(),digest:Gr}),wv=Y.struct("SharedObjectRef",{objectId:Pe,initialSharedVersion:Y.u64(),mutable:Y.bool()}),vv=Y.enum("ObjectArg",{ImmOrOwnedObject:br,SharedObject:wv,Receiving:br}),ps=Y.enum("Owner",{AddressOwner:Pe,ObjectOwner:Pe,Shared:Y.struct("Shared",{initialSharedVersion:Y.u64()}),Immutable:null,ConsensusAddressOwner:Y.struct("ConsensusAddressOwner",{owner:Pe,startVersion:Y.u64()})}),bv=Y.enum("CallArg",{Pure:Y.struct("Pure",{bytes:Y.byteVector().transform({input:n=>typeof n=="string"?kn(n):n,output:n=>Se(new Uint8Array(n))})}),Object:vv}),$2=Y.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:Y.lazy(()=>$2),struct:Y.lazy(()=>Ev),u16:null,u32:null,u256:null}),Q2=$2.transform({input:n=>typeof n=="string"?qr.parseFromStr(n,!0):n,output:n=>qr.tagToString(n)}),ui=Y.enum("Argument",{GasCoin:null,Input:Y.u16(),Result:Y.u16(),NestedResult:Y.tuple([Y.u16(),Y.u16()])}),Av=Y.struct("ProgrammableMoveCall",{package:Pe,module:Y.string(),function:Y.string(),typeArguments:Y.vector(Q2),arguments:Y.vector(ui)}),Lv=Y.enum("Command",{MoveCall:Av,TransferObjects:Y.struct("TransferObjects",{objects:Y.vector(ui),address:ui}),SplitCoins:Y.struct("SplitCoins",{coin:ui,amounts:Y.vector(ui)}),MergeCoins:Y.struct("MergeCoins",{destination:ui,sources:Y.vector(ui)}),Publish:Y.struct("Publish",{modules:Y.vector(Y.byteVector().transform({input:n=>typeof n=="string"?kn(n):n,output:n=>Se(new Uint8Array(n))})),dependencies:Y.vector(Pe)}),MakeMoveVec:Y.struct("MakeMoveVec",{type:N4(Q2).transform({input:n=>n===null?{None:!0}:{Some:n},output:n=>n.Some??null}),elements:Y.vector(ui)}),Upgrade:Y.struct("Upgrade",{modules:Y.vector(Y.byteVector().transform({input:n=>typeof n=="string"?kn(n):n,output:n=>Se(new Uint8Array(n))})),dependencies:Y.vector(Pe),package:Pe,ticket:ui})}),Cv=Y.struct("ProgrammableTransaction",{inputs:Y.vector(bv),commands:Y.vector(Lv)}),Iv=Y.enum("TransactionKind",{ProgrammableTransaction:Cv,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),xv=Y.enum("TransactionExpiration",{None:null,Epoch:R4()}),Ev=Y.struct("StructTag",{address:Pe,module:Y.string(),name:Y.string(),typeParams:Y.vector($2)}),Sv=Y.struct("GasData",{payment:Y.vector(br),owner:Pe,price:Y.u64(),budget:Y.u64()}),Ov=Y.struct("TransactionDataV1",{kind:Iv,sender:Pe,gasData:Sv,expiration:xv}),Bv=Y.enum("TransactionData",{V1:Ov}),kv=Y.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),Mv=Y.enum("IntentVersion",{V0:null}),Fv=Y.enum("AppId",{Sui:null}),Pv=Y.struct("Intent",{scope:kv,version:Mv,appId:Fv});function Tv(n){return Y.struct(`IntentMessage<${n.name}>`,{intent:Pv,value:n})}const Rv=Y.enum("CompressedSignature",{ED25519:Y.bytes(64),Secp256k1:Y.bytes(64),Secp256r1:Y.bytes(64),ZkLogin:Y.byteVector(),Passkey:Y.byteVector()}),Nv=Y.enum("PublicKey",{ED25519:Y.bytes(32),Secp256k1:Y.bytes(33),Secp256r1:Y.bytes(33),ZkLogin:Y.byteVector(),Passkey:Y.bytes(33)}),jv=Y.struct("MultiSigPkMap",{pubKey:Nv,weight:Y.u8()}),Dv=Y.struct("MultiSigPublicKey",{pk_map:Y.vector(jv),threshold:Y.u16()}),j4=Y.struct("MultiSig",{sigs:Y.vector(Rv),bitmap:Y.u16(),multisig_pk:Dv}),D4=Y.byteVector().transform({input:n=>typeof n=="string"?kn(n):n,output:n=>Se(new Uint8Array(n))}),Uv=Y.struct("SenderSignedTransaction",{intentMessage:Tv(Bv),txSignatures:Y.vector(D4)}),U4=Y.vector(Uv,{name:"SenderSignedData"}),z4=Y.struct("PasskeyAuthenticator",{authenticatorData:Y.byteVector(),clientDataJson:Y.string(),userSignature:Y.byteVector()}),$4=Y.enum("PackageUpgradeError",{UnableToFetchPackage:Y.struct("UnableToFetchPackage",{packageId:Pe}),NotAPackage:Y.struct("NotAPackage",{objectId:Pe}),IncompatibleUpgrade:null,DigestDoesNotMatch:Y.struct("DigestDoesNotMatch",{digest:Y.byteVector()}),UnknownUpgradePolicy:Y.struct("UnknownUpgradePolicy",{policy:Y.u8()}),PackageIDDoesNotMatch:Y.struct("PackageIDDoesNotMatch",{packageId:Pe,ticketId:Pe})}),Q4=Y.struct("ModuleId",{address:Pe,name:Y.string()}),t3=Y.struct("MoveLocation",{module:Q4,function:Y.u16(),instruction:Y.u16(),functionName:Y.option(Y.string())}),q4=Y.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:Y.struct("IndexOutOfBounds",{idx:Y.u16()}),SecondaryIndexOutOfBounds:Y.struct("SecondaryIndexOutOfBounds",{resultIdx:Y.u16(),secondaryIdx:Y.u16()}),InvalidResultArity:Y.struct("InvalidResultArity",{resultIdx:Y.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),W4=Y.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),G4=Y.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:Y.struct("MoveObjectTooBig",{objectSize:Y.u64(),maxObjectSize:Y.u64()}),MovePackageTooBig:Y.struct("MovePackageTooBig",{objectSize:Y.u64(),maxObjectSize:Y.u64()}),CircularObjectOwnership:Y.struct("CircularObjectOwnership",{object:Pe}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:Y.option(t3),MoveAbort:Y.tuple([t3,Y.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:Y.struct("CommandArgumentError",{argIdx:Y.u16(),kind:q4}),TypeArgumentError:Y.struct("TypeArgumentError",{argumentIdx:Y.u16(),kind:W4}),UnusedValueWithoutDrop:Y.struct("UnusedValueWithoutDrop",{resultIdx:Y.u16(),secondaryIdx:Y.u16()}),InvalidPublicFunctionReturnType:Y.struct("InvalidPublicFunctionReturnType",{idx:Y.u16()}),InvalidTransferObject:null,EffectsTooLarge:Y.struct("EffectsTooLarge",{currentSize:Y.u64(),maxSize:Y.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:Y.struct("PackageUpgradeError",{upgradeError:$4}),WrittenObjectsTooLarge:Y.struct("WrittenObjectsTooLarge",{currentSize:Y.u64(),maxSize:Y.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:Y.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:Y.vector(Pe)}),AddressDeniedForCoin:Y.struct("AddressDeniedForCoin",{address:Pe,coinType:Y.string()}),CoinTypeGlobalPause:Y.struct("CoinTypeGlobalPause",{coinType:Y.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),zv=Y.enum("ExecutionStatus",{Success:null,Failed:Y.struct("ExecutionFailed",{error:G4,command:Y.option(Y.u64())})}),$v=Y.struct("GasCostSummary",{computationCost:Y.u64(),storageCost:Y.u64(),storageRebate:Y.u64(),nonRefundableStorageFee:Y.u64()}),V4=Y.struct("TransactionEffectsV1",{status:zv,executedEpoch:Y.u64(),gasUsed:$v,modifiedAtVersions:Y.vector(Y.tuple([Pe,Y.u64()])),sharedObjects:Y.vector(br),transactionDigest:Gr,created:Y.vector(Y.tuple([br,ps])),mutated:Y.vector(Y.tuple([br,ps])),unwrapped:Y.vector(Y.tuple([br,ps])),deleted:Y.vector(br),unwrappedThenDeleted:Y.vector(br),wrapped:Y.vector(br),gasObject:Y.tuple([br,ps]),eventsDigest:Y.option(Gr),dependencies:Y.vector(Gr)}),q2=Y.tuple([Y.u64(),Gr]),K4=Y.enum("ObjectIn",{NotExist:null,Exist:Y.tuple([q2,ps])}),H4=Y.enum("ObjectOut",{NotExist:null,ObjectWrite:Y.tuple([Gr,ps]),PackageWrite:q2}),Y4=Y.enum("IDOperation",{None:null,Created:null,Deleted:null}),Z4=Y.struct("EffectsObjectChange",{inputState:K4,outputState:H4,idOperation:Y4}),X4=Y.enum("UnchangedSharedKind",{ReadOnlyRoot:q2,MutateDeleted:Y.u64(),ReadDeleted:Y.u64(),Cancelled:Y.u64(),PerEpochConfig:null}),J4=Y.struct("TransactionEffectsV2",{status:zv,executedEpoch:Y.u64(),gasUsed:$v,transactionDigest:Gr,gasObjectIndex:Y.option(Y.u32()),eventsDigest:Y.option(Gr),dependencies:Y.vector(Gr),lamportVersion:Y.u64(),changedObjects:Y.vector(Y.tuple([Pe,Z4])),unchangedSharedObjects:Y.vector(Y.tuple([Pe,X4])),auxDataDigest:Y.option(Gr)}),t8=Y.enum("TransactionEffects",{V1:V4,V2:J4});function Yc(n){switch(n){case"u8":return Y.u8();case"u16":return Y.u16();case"u32":return Y.u32();case"u64":return Y.u64();case"u128":return Y.u128();case"u256":return Y.u256();case"bool":return Y.bool();case"string":return Y.string();case"id":case"address":return Pe}const t=n.match(/^(vector|option)<(.+)>$/);if(t){const[e,r]=t.slice(1);return e==="vector"?Y.vector(Yc(r)):Y.option(Yc(r))}throw new Error(`Invalid Pure type name: ${n}`)}const fe={...Y,U8:Y.u8(),U16:Y.u16(),U32:Y.u32(),U64:Y.u64(),U128:Y.u128(),U256:Y.u256(),ULEB128:Y.uleb128(),Bool:Y.bool(),String:Y.string(),Address:Pe,AppId:Fv,Argument:ui,CallArg:bv,Command:Lv,CompressedSignature:Rv,GasData:Sv,Intent:Pv,IntentMessage:Tv,IntentScope:kv,IntentVersion:Mv,MultiSig:j4,MultiSigPkMap:jv,MultiSigPublicKey:Dv,ObjectArg:vv,ObjectDigest:Gr,Owner:ps,PasskeyAuthenticator:z4,ProgrammableMoveCall:Av,ProgrammableTransaction:Cv,PublicKey:Nv,SenderSignedData:U4,SenderSignedTransaction:Uv,SharedObjectRef:wv,StructTag:Ev,SuiObjectRef:br,TransactionData:Bv,TransactionDataV1:Ov,TransactionEffects:t8,TransactionExpiration:xv,TransactionKind:Iv,TypeTag:Q2};function e8(n,t,e){const r=fe.Address.serialize(n).toBytes(),i=fe.TypeTag.serialize(t).toBytes(),a=fe.u64().serialize(e.length).toBytes(),l=cl.create({dkLen:32});return l.update(new Uint8Array([240])),l.update(r),l.update(a),l.update(e),l.update(i),`0x${xs(l.digest().slice(0,32))}`}var n8=function(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)},r8=function(n,t,e,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!i:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,e):i?i.value=e:t.set(n,e),e},fd;let Sc;const Af=new Set;function i8(n){Zc=void 0,Af.add(n)}function o8(n){Zc=void 0,Af.delete(n)}const ya={};function Lf(){if(Sc||(Sc=Object.freeze({register:e3,get:s8,on:a8}),typeof window>"u"))return Sc;const n=Object.freeze({register:e3});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(n))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new c8(n))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return Sc}function e3(...n){return n=n.filter(t=>!Af.has(t)),n.length?(n.forEach(t=>i8(t)),ya.register?.forEach(t=>n3(()=>t(...n))),function(){n.forEach(e=>o8(e)),ya.unregister?.forEach(e=>n3(()=>e(...n)))}):()=>{}}let Zc;function s8(){return Zc||(Zc=[...Af]),Zc}function a8(n,t){return ya[n]?.push(t)||(ya[n]=[t]),function(){ya[n]=ya[n]?.filter(r=>t!==r)}}function n3(n){try{n()}catch(t){console.error(t)}}class c8 extends Event{get detail(){return n8(this,fd,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),fd.set(this,void 0),r8(this,fd,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}fd=new WeakMap;const l8="standard:connect",u8="standard:events";var fa=function(n,t,e,r){if(e==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?r:e==="a"?r.call(n):r?r.value:t.get(n)},ha=function(n,t,e,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!i:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,e):i?i.value=e:t.set(n,e),e},hd,gd,pd,md,_d,yd;class Cf{get address(){return fa(this,hd,"f")}get publicKey(){return fa(this,gd,"f").slice()}get chains(){return fa(this,pd,"f").slice()}get features(){return fa(this,md,"f").slice()}get label(){return fa(this,_d,"f")}get icon(){return fa(this,yd,"f")}constructor(t){hd.set(this,void 0),gd.set(this,void 0),pd.set(this,void 0),md.set(this,void 0),_d.set(this,void 0),yd.set(this,void 0),new.target===Cf&&Object.freeze(this),ha(this,hd,t.address,"f"),ha(this,gd,t.publicKey.slice(),"f"),ha(this,pd,t.chains.slice(),"f"),ha(this,md,t.features.slice(),"f"),ha(this,_d,t.label,"f"),ha(this,yd,t.icon,"f")}}hd=new WeakMap,gd=new WeakMap,pd=new WeakMap,md=new WeakMap,_d=new WeakMap,yd=new WeakMap;const d8="object",f8="ID",h8="ascii",g8="String",p8="string",m8="String",_8="option",y8="Option";function w8(n){const t=typeof n.body=="object"&&"datatype"in n.body?n.body.datatype:null;return!!t&&me(t.package)===me("0x2")&&t.module==="tx_context"&&t.type==="TxContext"}function Ap(n){if(typeof n=="string")switch(n){case"address":return fe.Address;case"bool":return fe.Bool;case"u8":return fe.U8;case"u16":return fe.U16;case"u32":return fe.U32;case"u64":return fe.U64;case"u128":return fe.U128;case"u256":return fe.U256;default:throw new Error(`Unknown type signature ${n}`)}if("vector"in n){if(n.vector==="u8")return fe.byteVector().transform({input:e=>typeof e=="string"?new TextEncoder().encode(e):e,output:e=>e});const t=Ap(n.vector);return t?fe.vector(t):null}if("datatype"in n){const t=me(n.datatype.package);if(t===me(f4)){if(n.datatype.module===h8&&n.datatype.type===g8||n.datatype.module===p8&&n.datatype.type===m8)return fe.String;if(n.datatype.module===_8&&n.datatype.type===y8){const e=Ap(n.datatype.typeParameters[0]);return e?fe.vector(e):null}}if(t===me(lv)&&n.datatype.module===d8&&n.datatype.type===f8)return fe.Address}return null}function v8(n){return typeof n=="object"&&"Reference"in n?{ref:"&",body:Xc(n.Reference)}:typeof n=="object"&&"MutableReference"in n?{ref:"&mut",body:Xc(n.MutableReference)}:{ref:null,body:Xc(n)}}function Xc(n){if(typeof n=="string")switch(n){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${n}`)}if("Vector"in n)return{vector:Xc(n.Vector)};if("Struct"in n)return{datatype:{package:n.Struct.address,module:n.Struct.module,type:n.Struct.name,typeParameters:n.Struct.typeArguments.map(Xc)}};if("TypeParameter"in n)return{typeParameter:n.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(n)}`)}function b8(n){return{$kind:"Pure",Pure:{bytes:n instanceof Uint8Array?Se(n):n.toBase64()}}}const Vr={Pure:b8,ObjectRef({objectId:n,digest:t,version:e}){return{$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:t,version:e,objectId:me(n)}}}},SharedObjectRef({objectId:n,mutable:t,initialSharedVersion:e}){return{$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:t,initialSharedVersion:e,objectId:me(n)}}}},ReceivingRef({objectId:n,digest:t,version:e}){return{$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:t,version:e,objectId:me(n)}}}}};var A8=/^[\da-f]{8}(?:-[\da-f]{4}){3}-[\da-f]{12}$/iu,Ug;function Qv(n){return{lang:n?.lang??Ug?.lang,message:n?.message,abortEarly:n?.abortEarly??Ug?.abortEarly,abortPipeEarly:n?.abortPipeEarly??Ug?.abortPipeEarly}}var L8;function C8(n){return L8?.get(n)}var I8;function x8(n){return I8?.get(n)}var E8;function S8(n,t){return E8?.get(n)?.get(t)}function qv(n){const t=typeof n;return t==="string"?`"${n}"`:t==="number"||t==="bigint"||t==="boolean"?`${n}`:t==="object"||t==="function"?(n&&Object.getPrototypeOf(n)?.constructor?.name)??"null":t}function Fn(n,t,e,r,i){const a=i&&"input"in i?i.input:e.value,l=i?.expected??n.expects??null,c=i?.received??qv(a),g={kind:n.kind,type:n.type,input:a,expected:l,received:c,message:`Invalid ${t}: ${l?`Expected ${l} but r`:"R"}eceived ${c}`,requirement:n.requirement,path:i?.path,issues:i?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},f=n.kind==="schema",d=i?.message??n.message??S8(n.reference,g.lang)??(f?x8(g.lang):null)??r.message??C8(g.lang);d&&(g.message=typeof d=="function"?d(g):d),f&&(e.typed=!1),e.issues?e.issues.push(g):e.issues=[g]}function O8(n,t){return Object.hasOwn(n,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}var B8=class extends Error{issues;constructor(n){super(n[0].message),this.name="ValiError",this.issues=n}};function xl(n,t){return{kind:"validation",type:"check",reference:xl,async:!1,expects:null,requirement:n,message:t,_run(e,r){return e.typed&&!this.requirement(e.value)&&Fn(this,"input",e,r),e}}}function $e(n){return{kind:"validation",type:"integer",reference:$e,async:!1,expects:null,requirement:Number.isInteger,message:n,_run(t,e){return t.typed&&!this.requirement(t.value)&&Fn(this,"integer",t,e),t}}}function If(n){return{kind:"transformation",type:"transform",reference:If,async:!1,operation:n,_run(t){return t.value=this.operation(t.value),t}}}function Wv(n){return{kind:"validation",type:"uuid",reference:Wv,async:!1,expects:null,requirement:A8,message:n,_run(t,e){return t.typed&&!this.requirement.test(t.value)&&Fn(this,"UUID",t,e),t}}}function W2(n,t,e){return typeof n.default=="function"?n.default(t,e):n.default}function Lp(n,t){return!n._run({typed:!1,value:t},{abortEarly:!0}).issues}function ie(n,t){return{kind:"schema",type:"array",reference:ie,expects:"Array",async:!1,item:n,message:t,_run(e,r){const i=e.value;if(Array.isArray(i)){e.typed=!0,e.value=[];for(let a=0;a<i.length;a++){const l=i[a],c=this.item._run({typed:!1,value:l},r);if(c.issues){const g={type:"array",origin:"value",input:i,key:a,value:l};for(const f of c.issues)f.path?f.path.unshift(g):f.path=[g],e.issues?.push(f);if(e.issues||(e.issues=c.issues),r.abortEarly){e.typed=!1;break}}c.typed||(e.typed=!1),e.value.push(c.value)}}else Fn(this,"type",e,r);return e}}}function G2(n){return{kind:"schema",type:"bigint",reference:G2,expects:"bigint",async:!1,message:n,_run(t,e){return typeof t.value=="bigint"?t.typed=!0:Fn(this,"type",t,e),t}}}function Ps(n){return{kind:"schema",type:"boolean",reference:Ps,expects:"boolean",async:!1,message:n,_run(t,e){return typeof t.value=="boolean"?t.typed=!0:Fn(this,"type",t,e),t}}}function ll(n){return{kind:"schema",type:"lazy",reference:ll,expects:"unknown",async:!1,getter:n,_run(t,e){return this.getter(t.value)._run(t,e)}}}function ee(n,t){return{kind:"schema",type:"literal",reference:ee,expects:qv(n),async:!1,literal:n,message:t,_run(e,r){return e.value===this.literal?e.typed=!0:Fn(this,"type",e,r),e}}}function ye(n,...t){const e={kind:"schema",type:"nullable",reference:ye,expects:`${n.expects} | null`,async:!1,wrapped:n,_run(r,i){return r.value===null&&("default"in this&&(r.value=W2(this,r,i)),r.value===null)?(r.typed=!0,r):this.wrapped._run(r,i)}};return 0 in t&&(e.default=t[0]),e}function Ma(n,...t){const e={kind:"schema",type:"nullish",reference:Ma,expects:`${n.expects} | null | undefined`,async:!1,wrapped:n,_run(r,i){return(r.value===null||r.value===void 0)&&("default"in this&&(r.value=W2(this,r,i)),r.value===null||r.value===void 0)?(r.typed=!0,r):this.wrapped._run(r,i)}};return 0 in t&&(e.default=t[0]),e}function Fe(n){return{kind:"schema",type:"number",reference:Fe,expects:"number",async:!1,message:n,_run(t,e){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:Fn(this,"type",t,e),t}}}function Ft(n,t){return{kind:"schema",type:"object",reference:Ft,expects:"Object",async:!1,entries:n,message:t,_run(e,r){const i=e.value;if(i&&typeof i=="object"){e.typed=!0,e.value={};for(const a in this.entries){const l=i[a],c=this.entries[a]._run({typed:!1,value:l},r);if(c.issues){const g={type:"object",origin:"value",input:i,key:a,value:l};for(const f of c.issues)f.path?f.path.unshift(g):f.path=[g],e.issues?.push(f);if(e.issues||(e.issues=c.issues),r.abortEarly){e.typed=!1;break}}c.typed||(e.typed=!1),(c.value!==void 0||a in i)&&(e.value[a]=c.value)}}else Fn(this,"type",e,r);return e}}}function Ze(n,...t){const e={kind:"schema",type:"optional",reference:Ze,expects:`${n.expects} | undefined`,async:!1,wrapped:n,_run(r,i){return r.value===void 0&&("default"in this&&(r.value=W2(this,r,i)),r.value===void 0)?(r.typed=!0,r):this.wrapped._run(r,i)}};return 0 in t&&(e.default=t[0]),e}function ul(n,t,e){return{kind:"schema",type:"record",reference:ul,expects:"Object",async:!1,key:n,value:t,message:e,_run(r,i){const a=r.value;if(a&&typeof a=="object"){r.typed=!0,r.value={};for(const l in a)if(O8(a,l)){const c=a[l],g=this.key._run({typed:!1,value:l},i);if(g.issues){const d={type:"object",origin:"key",input:a,key:l,value:c};for(const y of g.issues)y.path=[d],r.issues?.push(y);if(r.issues||(r.issues=g.issues),i.abortEarly){r.typed=!1;break}}const f=this.value._run({typed:!1,value:c},i);if(f.issues){const d={type:"object",origin:"value",input:a,key:l,value:c};for(const y of f.issues)y.path?y.path.unshift(d):y.path=[d],r.issues?.push(y);if(r.issues||(r.issues=f.issues),i.abortEarly){r.typed=!1;break}}(!g.typed||!f.typed)&&(r.typed=!1),g.typed&&(r.value[g.value]=f.value)}}else Fn(this,"type",r,i);return r}}}function Xt(n){return{kind:"schema",type:"string",reference:Xt,expects:"string",async:!1,message:n,_run(t,e){return typeof t.value=="string"?t.typed=!0:Fn(this,"type",t,e),t}}}function V2(n,t){return{kind:"schema",type:"tuple",reference:V2,expects:"Array",async:!1,items:n,message:t,_run(e,r){const i=e.value;if(Array.isArray(i)){e.typed=!0,e.value=[];for(let a=0;a<this.items.length;a++){const l=i[a],c=this.items[a]._run({typed:!1,value:l},r);if(c.issues){const g={type:"array",origin:"value",input:i,key:a,value:l};for(const f of c.issues)f.path?f.path.unshift(g):f.path=[g],e.issues?.push(f);if(e.issues||(e.issues=c.issues),r.abortEarly){e.typed=!1;break}}c.typed||(e.typed=!1),e.value.push(c.value)}}else Fn(this,"type",e,r);return e}}}function r3(n){let t;if(n)for(const e of n)t?t.push(...e.issues):t=e.issues;return t}function bn(n,t){return{kind:"schema",type:"union",reference:bn,expects:[...new Set(n.map(e=>e.expects))].join(" | ")||"never",async:!1,options:n,message:t,_run(e,r){let i,a,l;for(const c of this.options){const g=c._run({typed:!1,value:e.value},r);if(g.typed)if(g.issues)a?a.push(g):a=[g];else{i=g;break}else l?l.push(g):l=[g]}if(i)return i;if(a){if(a.length===1)return a[0];Fn(this,"type",e,r,{issues:r3(a)}),e.typed=!0}else{if(l?.length===1)return l[0];Fn(this,"type",e,r,{issues:r3(l)})}return e}}}function Ss(){return{kind:"schema",type:"unknown",reference:Ss,expects:"unknown",async:!1,_run(n){return n.typed=!0,n}}}function Gv(n,t,e=new Set){for(const r of t)r.type==="variant"?Gv(n,r.options,e):e.add(r.entries[n].expects);return e}function K2(n,t,e){let r;return{kind:"schema",type:"variant",reference:K2,expects:"Object",async:!1,key:n,options:t,message:e,_run(i,a){const l=i.value;if(l&&typeof l=="object"){const c=l[this.key];if(this.key in l){let g;for(const f of this.options)if(f.type==="variant"||!f.entries[this.key]._run({typed:!1,value:c},a).issues){const d=f._run({typed:!1,value:l},a);if(!d.issues)return d;(!g||!g.typed&&d.typed)&&(g=d)}if(g)return g}r||(r=[...Gv(this.key,this.options)].join(" | ")||"never"),Fn(this,"type",i,a,{input:c,expected:r,path:[{type:"object",origin:"value",input:l,key:this.key,value:c}]})}else Fn(this,"type",i,a);return i}}}function ke(n,t,e){const r=n._run({typed:!1,value:t},Qv(e));if(r.issues)throw new B8(r.issues);return r.value}function Le(...n){return{...n[0],pipe:n,_run(t,e){for(let r=0;r<n.length;r++){if(t.issues&&(n[r].kind==="schema"||n[r].kind==="transformation")){t.typed=!1;break}(!t.issues||!e.abortEarly&&!e.abortPipeEarly)&&(t=n[r]._run(t,e))}return t}}}function k8(n,t,e){const r=n._run({typed:!1,value:t},Qv(e));return{typed:r.typed,success:!r.issues,output:r.value,issues:r.issues}}function Ts(n){const t=Object.entries(n).map(([e,r])=>Ft({[e]:r}));return Le(bn(t),If(e=>({...e,$kind:Object.keys(e)[0]})))}const Da=Le(Xt(),If(n=>me(n)),xl($r)),dr=Da,Os=Xt(),nr=Le(bn([Xt(),Le(Fe(),$e())]),xl(n=>{try{return BigInt(n),BigInt(n)>=0&&BigInt(n)<=18446744073709551615n}catch{return!1}},"Invalid u64")),zo=Ft({objectId:Da,version:nr,digest:Xt()}),Me=Le(bn([Ft({GasCoin:ee(!0)}),Ft({Input:Le(Fe(),$e()),type:Ze(ee("pure"))}),Ft({Input:Le(Fe(),$e()),type:Ze(ee("object"))}),Ft({Result:Le(Fe(),$e())}),Ft({NestedResult:V2([Le(Fe(),$e()),Le(Fe(),$e())])})]),If(n=>({...n,$kind:Object.keys(n)[0]}))),M8=Ft({budget:ye(nr),price:ye(nr),owner:ye(Da),payment:ye(ie(zo))}),Cp=bn([ee("address"),ee("bool"),ee("u8"),ee("u16"),ee("u32"),ee("u64"),ee("u128"),ee("u256"),Ft({vector:ll(()=>Cp)}),Ft({datatype:Ft({package:Xt(),module:Xt(),type:Xt(),typeParameters:ie(ll(()=>Cp))})}),Ft({typeParameter:Le(Fe(),$e())})]),F8=Ft({ref:ye(bn([ee("&"),ee("&mut")])),body:Cp}),P8=Ft({package:dr,module:Xt(),function:Xt(),typeArguments:ie(Xt()),arguments:ie(Me),_argumentTypes:Ze(ye(ie(F8)))}),T8=Ft({name:Xt(),inputs:ul(Xt(),bn([Me,ie(Me)])),data:ul(Xt(),Ss())}),R8=Ts({MoveCall:P8,TransferObjects:Ft({objects:ie(Me),address:Me}),SplitCoins:Ft({coin:Me,amounts:ie(Me)}),MergeCoins:Ft({destination:Me,sources:ie(Me)}),Publish:Ft({modules:ie(Os),dependencies:ie(dr)}),MakeMoveVec:Ft({type:ye(Xt()),elements:ie(Me)}),Upgrade:Ft({modules:ie(Os),dependencies:ie(dr),package:dr,ticket:Me}),$Intent:T8}),Vv=Ts({ImmOrOwnedObject:zo,SharedObject:Ft({objectId:dr,initialSharedVersion:nr,mutable:Ps()}),Receiving:zo}),N8=Ts({Object:Vv,Pure:Ft({bytes:Os}),UnresolvedPure:Ft({value:Ss()}),UnresolvedObject:Ft({objectId:dr,version:Ze(ye(nr)),digest:Ze(ye(Xt())),initialSharedVersion:Ze(ye(nr)),mutable:Ze(ye(Ps()))})}),i3=Ts({Object:Vv,Pure:Ft({bytes:Os})}),Kv=Ts({None:ee(!0),Epoch:nr}),wd=Ft({version:ee(2),sender:Ma(Da),expiration:Ma(Kv),gasData:M8,inputs:ie(N8),commands:ie(R8)}),os={MoveCall(n){const[t,e="",r=""]="target"in n?n.target.split("::"):[n.package,n.module,n.function];return{$kind:"MoveCall",MoveCall:{package:t,module:e,function:r,typeArguments:n.typeArguments??[],arguments:n.arguments??[]}}},TransferObjects(n,t){return{$kind:"TransferObjects",TransferObjects:{objects:n.map(e=>ke(Me,e)),address:ke(Me,t)}}},SplitCoins(n,t){return{$kind:"SplitCoins",SplitCoins:{coin:ke(Me,n),amounts:t.map(e=>ke(Me,e))}}},MergeCoins(n,t){return{$kind:"MergeCoins",MergeCoins:{destination:ke(Me,n),sources:t.map(e=>ke(Me,e))}}},Publish({modules:n,dependencies:t}){return{$kind:"Publish",Publish:{modules:n.map(e=>typeof e=="string"?e:Se(new Uint8Array(e))),dependencies:t.map(e=>gi(e))}}},Upgrade({modules:n,dependencies:t,package:e,ticket:r}){return{$kind:"Upgrade",Upgrade:{modules:n.map(i=>typeof i=="string"?i:Se(new Uint8Array(i))),dependencies:t.map(i=>gi(i)),package:e,ticket:ke(Me,r)}}},MakeMoveVec({type:n,elements:t}){return{$kind:"MakeMoveVec",MakeMoveVec:{type:n??null,elements:t.map(e=>ke(Me,e))}}},Intent({name:n,inputs:t={},data:e={}}){return{$kind:"$Intent",$Intent:{name:n,inputs:Object.fromEntries(Object.entries(t).map(([r,i])=>[r,Array.isArray(i)?i.map(a=>ke(Me,a)):ke(Me,i)])),data:e}}}},Ip=Ft({digest:Xt(),objectId:Xt(),version:bn([Le(Fe(),$e()),Xt(),G2()])}),j8=Ts({ImmOrOwned:Ip,Shared:Ft({objectId:dr,initialSharedVersion:nr,mutable:Ps()}),Receiving:Ip}),o3=Ts({Object:j8,Pure:ie(Le(Fe(),$e()))}),Hv=bn([Ft({kind:ee("Input"),index:Le(Fe(),$e()),value:Ss(),type:Ze(ee("object"))}),Ft({kind:ee("Input"),index:Le(Fe(),$e()),value:Ss(),type:ee("pure")})]),D8=bn([Ft({Epoch:Le(Fe(),$e())}),Ft({None:ye(ee(!0))})]),s3=Le(bn([Fe(),Xt(),G2()]),xl(n=>{if(!["string","number","bigint"].includes(typeof n))return!1;try{return BigInt(n),!0}catch{return!1}})),H2=bn([Ft({bool:ye(ee(!0))}),Ft({u8:ye(ee(!0))}),Ft({u64:ye(ee(!0))}),Ft({u128:ye(ee(!0))}),Ft({address:ye(ee(!0))}),Ft({signer:ye(ee(!0))}),Ft({vector:ll(()=>H2)}),Ft({struct:ll(()=>U8)}),Ft({u16:ye(ee(!0))}),Ft({u32:ye(ee(!0))}),Ft({u256:ye(ee(!0))})]),U8=Ft({address:Xt(),module:Xt(),name:Xt(),typeParams:ie(H2)}),z8=Ft({budget:Ze(s3),price:Ze(s3),payment:Ze(ie(Ip)),owner:Ze(Xt())}),$8=[Hv,Ft({kind:ee("GasCoin")}),Ft({kind:ee("Result"),index:Le(Fe(),$e())}),Ft({kind:ee("NestedResult"),index:Le(Fe(),$e()),resultIndex:Le(Fe(),$e())})],Vi=bn([...$8]),Q8=Ft({kind:ee("MoveCall"),target:Le(Xt(),xl(n=>n.split("::").length===3)),typeArguments:ie(Xt()),arguments:ie(Vi)}),q8=Ft({kind:ee("TransferObjects"),objects:ie(Vi),address:Vi}),W8=Ft({kind:ee("SplitCoins"),coin:Vi,amounts:ie(Vi)}),G8=Ft({kind:ee("MergeCoins"),destination:Vi,sources:ie(Vi)}),V8=Ft({kind:ee("MakeMoveVec"),type:bn([Ft({Some:H2}),Ft({None:ye(ee(!0))})]),objects:ie(Vi)}),K8=Ft({kind:ee("Publish"),modules:ie(ie(Le(Fe(),$e()))),dependencies:ie(Xt())}),H8=Ft({kind:ee("Upgrade"),modules:ie(ie(Le(Fe(),$e()))),dependencies:ie(Xt()),packageId:Xt(),ticket:Vi}),Y8=[Q8,q8,W8,G8,K8,H8,V8],Z8=bn([...Y8]);Ft({version:ee(1),sender:Ze(Xt()),expiration:Ma(D8),gasConfig:z8,inputs:ie(Hv),transactions:ie(Z8)});function a3(n){const t=n.inputs.map((e,r)=>{if(e.Object)return{kind:"Input",index:r,value:{Object:e.Object.ImmOrOwnedObject?{ImmOrOwned:e.Object.ImmOrOwnedObject}:e.Object.Receiving?{Receiving:{digest:e.Object.Receiving.digest,version:e.Object.Receiving.version,objectId:e.Object.Receiving.objectId}}:{Shared:{mutable:e.Object.SharedObject.mutable,initialSharedVersion:e.Object.SharedObject.initialSharedVersion,objectId:e.Object.SharedObject.objectId}}},type:"object"};if(e.Pure)return{kind:"Input",index:r,value:{Pure:Array.from(kn(e.Pure.bytes))},type:"pure"};if(e.UnresolvedPure)return{kind:"Input",type:"pure",index:r,value:e.UnresolvedPure.value};if(e.UnresolvedObject)return{kind:"Input",type:"object",index:r,value:e.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:n.sender??void 0,expiration:n.expiration?.$kind==="Epoch"?{Epoch:Number(n.expiration.Epoch)}:n.expiration?{None:!0}:null,gasConfig:{owner:n.gasData.owner??void 0,budget:n.gasData.budget??void 0,price:n.gasData.price??void 0,payment:n.gasData.payment??void 0},inputs:t,transactions:n.commands.map(e=>{if(e.MakeMoveVec)return{kind:"MakeMoveVec",type:e.MakeMoveVec.type===null?{None:!0}:{Some:qr.parseFromStr(e.MakeMoveVec.type)},objects:e.MakeMoveVec.elements.map(r=>Bi(r,t))};if(e.MergeCoins)return{kind:"MergeCoins",destination:Bi(e.MergeCoins.destination,t),sources:e.MergeCoins.sources.map(r=>Bi(r,t))};if(e.MoveCall)return{kind:"MoveCall",target:`${e.MoveCall.package}::${e.MoveCall.module}::${e.MoveCall.function}`,typeArguments:e.MoveCall.typeArguments,arguments:e.MoveCall.arguments.map(r=>Bi(r,t))};if(e.Publish)return{kind:"Publish",modules:e.Publish.modules.map(r=>Array.from(kn(r))),dependencies:e.Publish.dependencies};if(e.SplitCoins)return{kind:"SplitCoins",coin:Bi(e.SplitCoins.coin,t),amounts:e.SplitCoins.amounts.map(r=>Bi(r,t))};if(e.TransferObjects)return{kind:"TransferObjects",objects:e.TransferObjects.objects.map(r=>Bi(r,t)),address:Bi(e.TransferObjects.address,t)};if(e.Upgrade)return{kind:"Upgrade",modules:e.Upgrade.modules.map(r=>Array.from(kn(r))),dependencies:e.Upgrade.dependencies,packageId:e.Upgrade.package,ticket:Bi(e.Upgrade.ticket,t)};throw new Error(`Unknown transaction ${Object.keys(e)}`)})}}function Bi(n,t){if(n.$kind==="GasCoin")return{kind:"GasCoin"};if(n.$kind==="Result")return{kind:"Result",index:n.Result};if(n.$kind==="NestedResult")return{kind:"NestedResult",index:n.NestedResult[0],resultIndex:n.NestedResult[1]};if(n.$kind==="Input")return t[n.Input];throw new Error(`Invalid argument ${Object.keys(n)}`)}function X8(n){return ke(wd,{version:2,sender:n.sender??null,expiration:n.expiration?"Epoch"in n.expiration?{Epoch:n.expiration.Epoch}:{None:!0}:null,gasData:{owner:n.gasConfig.owner??null,budget:n.gasConfig.budget?.toString()??null,price:n.gasConfig.price?.toString()??null,payment:n.gasConfig.payment?.map(t=>({digest:t.digest,objectId:t.objectId,version:t.version.toString()}))??null},inputs:n.inputs.map(t=>{if(t.kind==="Input"){if(Lp(o3,t.value)){const e=ke(o3,t.value);if(e.Object){if(e.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:e.Object.ImmOrOwned.objectId,version:String(e.Object.ImmOrOwned.version),digest:e.Object.ImmOrOwned.digest}}};if(e.Object.Shared)return{Object:{SharedObject:{mutable:e.Object.Shared.mutable??null,initialSharedVersion:e.Object.Shared.initialSharedVersion,objectId:e.Object.Shared.objectId}}};if(e.Object.Receiving)return{Object:{Receiving:{digest:e.Object.Receiving.digest,version:String(e.Object.Receiving.version),objectId:e.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:Se(new Uint8Array(e.Pure))}}}return t.type==="object"?{UnresolvedObject:{objectId:t.value}}:{UnresolvedPure:{value:t.value}}}throw new Error("Invalid input")}),commands:n.transactions.map(t=>{switch(t.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in t.type?qr.tagToString(t.type.Some):null,elements:t.objects.map(e=>ki(e))}};case"MergeCoins":return{MergeCoins:{destination:ki(t.destination),sources:t.sources.map(e=>ki(e))}};case"MoveCall":{const[e,r,i]=t.target.split("::");return{MoveCall:{package:e,module:r,function:i,typeArguments:t.typeArguments,arguments:t.arguments.map(a=>ki(a))}}}case"Publish":return{Publish:{modules:t.modules.map(e=>Se(Uint8Array.from(e))),dependencies:t.dependencies}};case"SplitCoins":return{SplitCoins:{coin:ki(t.coin),amounts:t.amounts.map(e=>ki(e))}};case"TransferObjects":return{TransferObjects:{objects:t.objects.map(e=>ki(e)),address:ki(t.address)}};case"Upgrade":return{Upgrade:{modules:t.modules.map(e=>Se(Uint8Array.from(e))),dependencies:t.dependencies,package:t.packageId,ticket:ki(t.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(t)}`)})})}function ki(n){switch(n.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:n.index};case"NestedResult":return{NestedResult:[n.index,n.resultIndex]};case"Input":return{Input:n.index}}}function El(n){return bn(Object.entries(n).map(([t,e])=>Ft({[t]:e})))}const Ur=El({GasCoin:ee(!0),Input:Le(Fe(),$e()),Result:Le(Fe(),$e()),NestedResult:V2([Le(Fe(),$e()),Le(Fe(),$e())])}),J8=Ft({budget:ye(nr),price:ye(nr),owner:ye(Da),payment:ye(ie(zo))}),t6=Ft({package:dr,module:Xt(),function:Xt(),typeArguments:ie(Xt()),arguments:ie(Ur)}),e6=Ft({name:Xt(),inputs:ul(Xt(),bn([Ur,ie(Ur)])),data:ul(Xt(),Ss())}),n6=El({MoveCall:t6,TransferObjects:Ft({objects:ie(Ur),address:Ur}),SplitCoins:Ft({coin:Ur,amounts:ie(Ur)}),MergeCoins:Ft({destination:Ur,sources:ie(Ur)}),Publish:Ft({modules:ie(Os),dependencies:ie(dr)}),MakeMoveVec:Ft({type:ye(Xt()),elements:ie(Ur)}),Upgrade:Ft({modules:ie(Os),dependencies:ie(dr),package:dr,ticket:Ur}),$Intent:e6}),r6=El({ImmOrOwnedObject:zo,SharedObject:Ft({objectId:dr,initialSharedVersion:nr,mutable:Ps()}),Receiving:zo}),i6=El({Object:r6,Pure:Ft({bytes:Os}),UnresolvedPure:Ft({value:Ss()}),UnresolvedObject:Ft({objectId:dr,version:Ze(ye(nr)),digest:Ze(ye(Xt())),initialSharedVersion:Ze(ye(nr)),mutable:Ze(ye(Ps()))})}),o6=El({None:ee(!0),Epoch:nr}),s6=Ft({version:ee(2),sender:Ma(Da),expiration:Ma(o6),gasData:J8,inputs:ie(i6),commands:ie(n6),digest:Ze(ye(Xt()))}),a6=50,c6=1000n,l6=5e10;function Yv(n){return async function(e,r,i){return await g6(e,n),await h6(e,n),r.onlyTransactionKind||(await u6(e,n),await d6(e,n),await f6(e,n)),await i()}}async function u6(n,t){n.gasConfig.price||(n.gasConfig.price=String(await t.getReferenceGasPrice()))}async function d6(n,t){if(n.gasConfig.budget)return;const e=await t.dryRunTransactionBlock({transactionBlock:n.build({overrides:{gasData:{budget:String(l6),payment:[]}}})});if(e.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${e.effects.status.error}`,{cause:e});const r=c6*BigInt(n.gasConfig.price||1n),i=BigInt(e.effects.gasUsed.computationCost)+r,a=i+BigInt(e.effects.gasUsed.storageCost)-BigInt(e.effects.gasUsed.storageRebate);n.gasConfig.budget=String(a>i?a:i)}async function f6(n,t){if(!n.gasConfig.payment){const r=(await t.getCoins({owner:n.gasConfig.owner||n.sender,coinType:h4})).data.filter(i=>!n.inputs.find(l=>l.Object?.ImmOrOwnedObject?i.coinObjectId===l.Object.ImmOrOwnedObject.objectId:!1)).map(i=>({objectId:i.coinObjectId,digest:i.digest,version:i.version}));if(!r.length)throw new Error("No valid gas coins found for the transaction.");n.gasConfig.payment=r.map(i=>ke(zo,i))}}async function h6(n,t){const e=n.inputs.filter(d=>d.UnresolvedObject&&!(d.UnresolvedObject.version||d.UnresolvedObject?.initialSharedVersion)),r=[...new Set(e.map(d=>gi(d.UnresolvedObject.objectId)))],i=r.length?vf(r,a6):[],a=(await Promise.all(i.map(d=>t.multiGetObjects({ids:d,options:{showOwner:!0}})))).flat(),l=new Map(r.map((d,y)=>[d,a[y]])),c=Array.from(l).filter(([d,y])=>y.error).map(([d,y])=>JSON.stringify(y.error));if(c.length)throw new Error(`The following input objects are invalid: ${c.join(", ")}`);const g=a.map(d=>{if(d.error||!d.data)throw new Error(`Failed to fetch object: ${d.error}`);const y=d.data.owner,v=y&&typeof y=="object"?"Shared"in y?y.Shared.initial_shared_version:"ConsensusAddressOwner"in y?y.ConsensusAddressOwner.start_version:null:null;return{objectId:d.data.objectId,digest:d.data.digest,version:d.data.version,initialSharedVersion:v}}),f=new Map(r.map((d,y)=>[d,g[y]]));for(const[d,y]of n.inputs.entries()){if(!y.UnresolvedObject)continue;let v;const w=me(y.UnresolvedObject.objectId),F=f.get(w);y.UnresolvedObject.initialSharedVersion??F?.initialSharedVersion?v=Vr.SharedObjectRef({objectId:w,initialSharedVersion:y.UnresolvedObject.initialSharedVersion||F?.initialSharedVersion,mutable:y.UnresolvedObject.mutable||p6(n,d)}):m6(n,d)&&(v=Vr.ReceivingRef({objectId:w,digest:y.UnresolvedObject.digest??F?.digest,version:y.UnresolvedObject.version??F?.version})),n.inputs[n.inputs.indexOf(y)]=v??Vr.ObjectRef({objectId:w,digest:y.UnresolvedObject.digest??F?.digest,version:y.UnresolvedObject.version??F?.version})}}async function g6(n,t){const{inputs:e,commands:r}=n,i=[],a=new Set;r.forEach(c=>{if(c.MoveCall){if(c.MoveCall._argumentTypes)return;if(c.MoveCall.arguments.map(d=>d.$kind==="Input"?n.inputs[d.Input]:null).some(d=>d?.UnresolvedPure||d?.UnresolvedObject&&typeof d?.UnresolvedObject.mutable!="boolean")){const d=`${c.MoveCall.package}::${c.MoveCall.module}::${c.MoveCall.function}`;a.add(d),i.push(c.MoveCall)}}});const l=new Map;a.size>0&&await Promise.all([...a].map(async c=>{const[g,f,d]=c.split("::"),y=await t.getNormalizedMoveFunction({package:g,module:f,function:d});l.set(c,y.parameters.map(v=>v8(v)))})),i.length&&await Promise.all(i.map(async c=>{const g=l.get(`${c.package}::${c.module}::${c.function}`);if(!g)return;const d=g.length>0&&w8(g.at(-1))?g.slice(0,g.length-1):g;c._argumentTypes=d})),r.forEach(c=>{if(!c.MoveCall)return;const g=c.MoveCall,f=`${g.package}::${g.module}::${g.function}`,d=g._argumentTypes;if(d){if(d.length!==c.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${f}`);d.forEach((y,v)=>{const w=g.arguments[v];if(w.$kind!=="Input")return;const F=e[w.Input];if(!F.UnresolvedPure&&!F.UnresolvedObject)return;const B=F.UnresolvedPure?.value??F.UnresolvedObject?.objectId,x=Ap(y.body);if(x){w.type="pure",e[e.indexOf(F)]=Vr.Pure(x.serialize(B));return}if(typeof B!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(B,null,2)}`);w.type="object";const M=F.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:B}}:F;e[w.Input]=M})}})}function p6(n,t){let e=!1;return n.getInputUses(t,(r,i)=>{if(i.MoveCall&&i.MoveCall._argumentTypes){const a=i.MoveCall.arguments.indexOf(r);e=i.MoveCall._argumentTypes[a].ref!=="&"||e}(i.$kind==="MakeMoveVec"||i.$kind==="MergeCoins"||i.$kind==="SplitCoins"||i.$kind==="TransferObjects")&&(e=!0)}),e}function m6(n,t){let e=!1;return n.getInputUses(t,(r,i)=>{if(i.MoveCall&&i.MoveCall._argumentTypes){const a=i.MoveCall.arguments.indexOf(r);e=_6(i.MoveCall._argumentTypes[a])||e}}),e}function _6(n){return typeof n.body!="object"||!("datatype"in n.body)?!1:n.body.datatype.package==="0x2"&&n.body.datatype.module==="transfer"&&n.body.datatype.type==="Receiving"}function Zv(n,t){return!!(n.inputs.some(e=>e.UnresolvedObject||e.UnresolvedPure)||!t.onlyTransactionKind&&(!n.gasConfig.price||!n.gasConfig.budget||!n.gasConfig.payment))}async function y6(n,t,e){if(v6(n),!Zv(n,t))return await c3(n),e();const r=w6(t);return(r.core?.resolveTransactionPlugin()??Yv(r))(n,t,async()=>{await c3(n),await e()})}function c3(n){n.inputs.forEach((t,e)=>{if(t.$kind!=="Object"&&t.$kind!=="Pure")throw new Error(`Input at index ${e} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(t)}`)})}function w6(n){if(!n.client)throw new Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return n.client}function v6(n){for(const t of n.commands)switch(t.$kind){case"SplitCoins":t.SplitCoins.amounts.forEach(e=>{l3(e,fe.U64,n)});break;case"TransferObjects":l3(t.TransferObjects.address,fe.Address,n);break}}function l3(n,t,e){if(n.$kind!=="Input")return;const r=e.inputs[n.Input];r.$kind==="UnresolvedPure"&&(e.inputs[n.Input]=Vr.Pure(t.serialize(r.UnresolvedPure.value)))}function b6(n){function t(e){return n(e)}return t.system=e=>{const r=e?.mutable;return t(r!==void 0?Vr.SharedObjectRef({objectId:"0x5",initialSharedVersion:1,mutable:r}):{$kind:"UnresolvedObject",UnresolvedObject:{objectId:"0x5",initialSharedVersion:1}})},t.clock=()=>t(Vr.SharedObjectRef({objectId:"0x6",initialSharedVersion:1,mutable:!1})),t.random=()=>t({$kind:"UnresolvedObject",UnresolvedObject:{objectId:"0x8",mutable:!1}}),t.denyList=e=>t({$kind:"UnresolvedObject",UnresolvedObject:{objectId:"0x403",mutable:e?.mutable}}),t.option=({type:e,value:r})=>i=>i.moveCall({typeArguments:[e],target:`0x1::option::${r===null?"none":"some"}`,arguments:r===null?[]:[i.object(r)]}),t}function A6(n){function t(e,r){if(typeof e=="string")return n(Yc(e).serialize(r));if(e instanceof Uint8Array||j2(e))return n(e);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return t.u8=e=>n(fe.U8.serialize(e)),t.u16=e=>n(fe.U16.serialize(e)),t.u32=e=>n(fe.U32.serialize(e)),t.u64=e=>n(fe.U64.serialize(e)),t.u128=e=>n(fe.U128.serialize(e)),t.u256=e=>n(fe.U256.serialize(e)),t.bool=e=>n(fe.Bool.serialize(e)),t.string=e=>n(fe.String.serialize(e)),t.address=e=>n(fe.Address.serialize(e)),t.id=t.address,t.vector=(e,r)=>n(fe.vector(Yc(e)).serialize(r)),t.option=(e,r)=>n(fe.option(Yc(e)).serialize(r)),t}function L6(n,t){const e=Array.from(`${n}::`).map(i=>i.charCodeAt(0)),r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),cl(r,{dkLen:32})}function Vd(n){if(typeof n=="string")return me(n);if(n.Object)return n.Object.ImmOrOwnedObject?me(n.Object.ImmOrOwnedObject.objectId):n.Object.Receiving?me(n.Object.Receiving.objectId):me(n.Object.SharedObject.objectId);if(n.UnresolvedObject)return me(n.UnresolvedObject.objectId)}function C6(n,t,e){const r=i=>{switch(i.$kind){case"Input":{const a=t.get(i.Input);if(a===void 0)throw new Error(`Input ${i.Input} not found in input mapping`);return{...i,Input:a}}case"Result":{const a=e.get(i.Result);return a!==void 0?{...i,Result:a}:i}case"NestedResult":{const a=e.get(i.NestedResult[0]);return a!==void 0?{...i,NestedResult:[a,i.NestedResult[1]]}:i}default:return i}};switch(n.$kind){case"MoveCall":n.MoveCall.arguments=n.MoveCall.arguments.map(r);break;case"TransferObjects":n.TransferObjects.objects=n.TransferObjects.objects.map(r),n.TransferObjects.address=r(n.TransferObjects.address);break;case"SplitCoins":n.SplitCoins.coin=r(n.SplitCoins.coin),n.SplitCoins.amounts=n.SplitCoins.amounts.map(r);break;case"MergeCoins":n.MergeCoins.destination=r(n.MergeCoins.destination),n.MergeCoins.sources=n.MergeCoins.sources.map(r);break;case"MakeMoveVec":n.MakeMoveVec.elements=n.MakeMoveVec.elements.map(r);break;case"Upgrade":n.Upgrade.ticket=r(n.Upgrade.ticket);break;case"$Intent":{const i=n.$Intent.inputs;n.$Intent.inputs={};for(const[a,l]of Object.entries(i))n.$Intent.inputs[a]=Array.isArray(l)?l.map(r):r(l);break}}}function u3(n){return me(n).replace("0x","")}class tr{constructor(t){this.version=2,this.sender=t?.sender??null,this.expiration=t?.expiration??null,this.inputs=t?.inputs??[],this.commands=t?.commands??[],this.gasData=t?.gasData??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(t){const r=fe.TransactionKind.parse(t).ProgrammableTransaction;if(!r)throw new Error("Unable to deserialize from bytes.");return tr.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:r.inputs,commands:r.commands})}static fromBytes(t){const r=fe.TransactionData.parse(t)?.V1,i=r.kind.ProgrammableTransaction;if(!r||!i)throw new Error("Unable to deserialize from bytes.");return tr.restore({version:2,sender:r.sender,expiration:r.expiration,gasData:r.gasData,inputs:i.inputs,commands:i.commands})}static restore(t){return t.version===2?new tr(ke(wd,t)):new tr(ke(wd,X8(t)))}static getDigestFromBytes(t){const e=L6("TransactionData",t);return wf(e)}get gasConfig(){return this.gasData}set gasConfig(t){this.gasData=t}build({maxSizeBytes:t=1/0,overrides:e,onlyTransactionKind:r}={}){const i=this.inputs,a=this.commands,l={ProgrammableTransaction:{inputs:i,commands:a}};if(r)return fe.TransactionKind.serialize(l,{maxSize:t}).toBytes();const c=e?.expiration??this.expiration,g=e?.sender??this.sender,f={...this.gasData,...e?.gasConfig,...e?.gasData};if(!g)throw new Error("Missing transaction sender");if(!f.budget)throw new Error("Missing gas budget");if(!f.payment)throw new Error("Missing gas payment");if(!f.price)throw new Error("Missing gas price");const d={sender:u3(g),expiration:c||{None:!0},gasData:{payment:f.payment,owner:u3(this.gasData.owner??g),price:BigInt(f.price),budget:BigInt(f.budget)},kind:{ProgrammableTransaction:{inputs:i,commands:a}}};return fe.TransactionData.serialize({V1:d},{maxSize:t}).toBytes()}addInput(t,e){const r=this.inputs.length;return this.inputs.push(e),{Input:r,type:t,$kind:"Input"}}getInputUses(t,e){this.mapArguments((r,i)=>(r.$kind==="Input"&&r.Input===t&&e(r,i),r))}mapCommandArguments(t,e){const r=this.commands[t];switch(r.$kind){case"MoveCall":r.MoveCall.arguments=r.MoveCall.arguments.map(a=>e(a,r,t));break;case"TransferObjects":r.TransferObjects.objects=r.TransferObjects.objects.map(a=>e(a,r,t)),r.TransferObjects.address=e(r.TransferObjects.address,r,t);break;case"SplitCoins":r.SplitCoins.coin=e(r.SplitCoins.coin,r,t),r.SplitCoins.amounts=r.SplitCoins.amounts.map(a=>e(a,r,t));break;case"MergeCoins":r.MergeCoins.destination=e(r.MergeCoins.destination,r,t),r.MergeCoins.sources=r.MergeCoins.sources.map(a=>e(a,r,t));break;case"MakeMoveVec":r.MakeMoveVec.elements=r.MakeMoveVec.elements.map(a=>e(a,r,t));break;case"Upgrade":r.Upgrade.ticket=e(r.Upgrade.ticket,r,t);break;case"$Intent":const i=r.$Intent.inputs;r.$Intent.inputs={};for(const[a,l]of Object.entries(i))r.$Intent.inputs[a]=Array.isArray(l)?l.map(c=>e(c,r,t)):e(l,r,t);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${r.$kind}`)}}mapArguments(t){for(const e of this.commands.keys())this.mapCommandArguments(e,t)}replaceCommand(t,e,r=t){if(!Array.isArray(e)){this.commands[t]=e;return}const i=e.length-1;this.commands.splice(t,1,...structuredClone(e)),this.mapArguments((a,l,c)=>{if(c<t+e.length)return a;if(typeof r!="number"&&(a.$kind==="Result"&&a.Result===t||a.$kind==="NestedResult"&&a.NestedResult[0]===t)){if(!("NestedResult"in a)||a.NestedResult[1]===0)return ke(Me,structuredClone(r));throw new Error(`Cannot replace command ${t} with a specific result type: NestedResult[${t}, ${a.NestedResult[1]}] references a nested element that cannot be mapped to the replacement result`)}switch(a.$kind){case"Result":a.Result===t&&typeof r=="number"&&(a.Result=r),a.Result>t&&(a.Result+=i);break;case"NestedResult":if(a.NestedResult[0]===t&&typeof r=="number")return{$kind:"NestedResult",NestedResult:[r,a.NestedResult[1]]};a.NestedResult[0]>t&&(a.NestedResult[0]+=i);break}return a})}replaceCommandWithTransaction(t,e,r){if(r.$kind!=="Result"&&r.$kind!=="NestedResult")throw new Error("Result must be of kind Result or NestedResult");this.insertTransaction(t,e),this.replaceCommand(t+e.commands.length,[],"Result"in r?{NestedResult:[r.Result+t,0]}:{NestedResult:[r.NestedResult[0]+t,r.NestedResult[1]]})}insertTransaction(t,e){const r=new Map,i=new Map;for(let c=0;c<e.inputs.length;c++){const g=e.inputs[c],f=Vd(g);let d=-1;if(f!==void 0&&(d=this.inputs.findIndex(y=>Vd(y)===f),d!==-1&&this.inputs[d].Object?.SharedObject&&g.Object?.SharedObject&&(this.inputs[d].Object.SharedObject.mutable=this.inputs[d].Object.SharedObject.mutable||g.Object.SharedObject.mutable)),d!==-1)r.set(c,d);else{const y=this.inputs.length;this.inputs.push(g),r.set(c,y)}}for(let c=0;c<e.commands.length;c++)i.set(c,t+c);const a=[];for(let c=0;c<e.commands.length;c++){const g=structuredClone(e.commands[c]);C6(g,r,i),a.push(g)}this.commands.splice(t,0,...a);const l=a.length;l>0&&this.mapArguments((c,g,f)=>{if(f>=t&&f<t+a.length)return c;switch(c.$kind){case"Result":c.Result>=t&&(c.Result+=l);break;case"NestedResult":c.NestedResult[0]>=t&&(c.NestedResult[0]+=l);break}return c})}getDigest(){const t=this.build({onlyTransactionKind:!1});return tr.getDigestFromBytes(t)}snapshot(){return ke(wd,this)}shallowClone(){return new tr({version:this.version,sender:this.sender,expiration:this.expiration,gasData:{...this.gasData},inputs:[...this.inputs],commands:[...this.commands]})}applyResolvedData(t){this.sender||(this.sender=t.sender??null),this.expiration||(this.expiration=t.expiration??null),this.gasData.budget||(this.gasData.budget=t.gasData.budget),this.gasData.owner||(this.gasData.owner=t.gasData.owner??null),this.gasData.payment||(this.gasData.payment=t.gasData.payment),this.gasData.price||(this.gasData.price=t.gasData.price);for(let e=0;e<this.inputs.length;e++){const r=this.inputs[e],i=t.inputs[e];switch(r.$kind){case"UnresolvedPure":if(i.$kind!=="Pure")throw new Error(`Expected input at index ${e} to resolve to a Pure argument, but got ${JSON.stringify(i)}`);this.inputs[e]=i;break;case"UnresolvedObject":if(i.$kind!=="Object")throw new Error(`Expected input at index ${e} to resolve to an Object argument, but got ${JSON.stringify(i)}`);if(i.Object.$kind==="ImmOrOwnedObject"||i.Object.$kind==="Receiving"){const a=r.UnresolvedObject,l=i.Object.ImmOrOwnedObject??i.Object.Receiving;if(me(a.objectId)!==me(l.objectId)||a.version!=null&&a.version!==l.version||a.digest!=null&&a.digest!==l.digest||a.mutable!=null||a.initialSharedVersion!=null)throw new Error(`Input at index ${e} did not match unresolved object. ${JSON.stringify(a)} is not compatible with ${JSON.stringify(l)}`)}else if(i.Object.$kind==="SharedObject"){const a=r.UnresolvedObject,l=i.Object.SharedObject;if(me(a.objectId)!==me(l.objectId)||a.initialSharedVersion!=null&&a.initialSharedVersion!==l.initialSharedVersion||a.mutable!=null&&a.mutable!==l.mutable||a.version!=null||a.digest!=null)throw new Error(`Input at index ${e} did not match unresolved object. ${JSON.stringify(a)} is not compatible with ${JSON.stringify(l)}`)}else throw new Error(`Input at index ${e} resolved to an unexpected Object kind: ${JSON.stringify(i.Object)}`);this.inputs[e]=i;break}}}}var Xv=n=>{throw TypeError(n)},Jv=(n,t,e)=>t.has(n)||Xv("Cannot "+e),Sn=(n,t,e)=>(Jv(n,t,"read from private field"),t.get(n)),d3=(n,t,e)=>t.has(n)?Xv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),f3=(n,t,e,r)=>(Jv(n,t,"write to private field"),t.set(n,e),e),ds,jn;const I6=class tb{constructor({prefix:t,cache:e}={}){d3(this,ds),d3(this,jn),f3(this,ds,t??[]),f3(this,jn,e??new Map)}read(t,e){const r=[Sn(this,ds),...t].join(":");if(Sn(this,jn).has(r))return Sn(this,jn).get(r);const i=e();return Sn(this,jn).set(r,i),typeof i=="object"&&i!==null&&"then"in i?Promise.resolve(i).then(a=>(Sn(this,jn).set(r,a),a)).catch(a=>{throw Sn(this,jn).delete(r),a}):i}readSync(t,e){const r=[Sn(this,ds),...t].join(":");if(Sn(this,jn).has(r))return Sn(this,jn).get(r);const i=e();return Sn(this,jn).set(r,i),i}clear(t){const e=[...Sn(this,ds),...t??[]].join(":");if(!e){Sn(this,jn).clear();return}for(const r of Sn(this,jn).keys())r.startsWith(e)&&Sn(this,jn).delete(r)}scope(t){return new tb({prefix:[...Sn(this,ds),...Array.isArray(t)?t:[t]],cache:Sn(this,jn)})}};ds=new WeakMap;jn=new WeakMap;let x6=I6;const eb="1.45.0",E6="1.61.0";var nb=n=>{throw TypeError(n)},Y2=(n,t,e)=>t.has(n)||nb("Cannot "+e),cn=(n,t,e)=>(Y2(n,t,"read from private field"),e?e.call(n):t.get(n)),Oc=(n,t,e)=>t.has(n)?nb("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),td=(n,t,e,r)=>(Y2(n,t,"write to private field"),t.set(n,e),e),xf=(n,t,e)=>(Y2(n,t,"access private method"),e),dl,Ki,fl,Po,hi,xp,Ep,rb,ib,Z2;const S6="/",O6={"Mvr-Source":`@mysten/sui@${eb}`};class B6{constructor({cache:t,url:e,pageSize:r=50,overrides:i}){Oc(this,hi),Oc(this,dl),Oc(this,Ki),Oc(this,fl),Oc(this,Po),td(this,dl,t),td(this,Ki,e),td(this,fl,r),td(this,Po,{packages:i?.packages,types:i?.types}),k6(cn(this,Po))}async resolvePackage({package:t}){return Bn(t)?{package:await cn(this,hi,xp).load(t)}:{package:t}}async resolveType({type:t}){if(!Bn(t))return{type:t};const e=[...Sp(t)],r=await cn(this,hi,Ep).loadMany(e),i={};for(let a=0;a<e.length;a++){const l=r[a];if(l instanceof Error)throw l;i[e[a]]=l}return{type:Op(t,i)}}async resolve({types:t=[],packages:e=[]}){const r=new Set;for(const d of t??[])Sp(d,r);const i=[...r],[a,l]=await Promise.all([i.length>0?cn(this,hi,Ep).loadMany(i):[],e.length>0?cn(this,hi,xp).loadMany(e):[]]),c={...cn(this,Po)?.types};for(const[d,y]of i.entries()){const v=a[d];if(v instanceof Error)throw v;c[y]=v}const g={};for(const d of t??[]){const y=Op(d,c);g[d]={type:y}}const f={};for(const[d,y]of(e??[]).entries()){const v=cn(this,Po)?.packages?.[y]??l[d];if(v instanceof Error)throw v;f[y]={package:v}}return{types:g,packages:f}}}dl=new WeakMap;Ki=new WeakMap;fl=new WeakMap;Po=new WeakMap;hi=new WeakSet;xp=function(){return cn(this,dl).readSync(["#mvrPackageDataLoader",cn(this,Ki)??""],()=>{const n=new Jw(async e=>{if(!cn(this,Ki))throw new Error(`MVR Api URL is not set for the current client (resolving ${e.join(", ")})`);const r=await xf(this,hi,rb).call(this,e);return e.map(i=>r[i]??new Error(`Failed to resolve package: ${i}`))}),t=cn(this,Po)?.packages;if(t)for(const[e,r]of Object.entries(t))n.prime(e,r);return n})};Ep=function(){return cn(this,dl).readSync(["#mvrTypeDataLoader",cn(this,Ki)??""],()=>{const n=new Jw(async e=>{if(!cn(this,Ki))throw new Error(`MVR Api URL is not set for the current client (resolving ${e.join(", ")})`);const r=await xf(this,hi,ib).call(this,e);return e.map(i=>r[i]??new Error(`Failed to resolve type: ${i}`))}),t=cn(this,Po)?.types;if(t)for(const[e,r]of Object.entries(t))n.prime(e,r);return n})};rb=async function(n){if(n.length===0)return{};const t=vf(n,cn(this,fl)),e={};return await Promise.all(t.map(async r=>{const i=await xf(this,hi,Z2).call(this,"/v1/resolution/bulk",{names:r});if(i?.resolution)for(const a of Object.keys(i?.resolution)){const l=i.resolution[a]?.package_id;l&&(e[a]=l)}})),e};ib=async function(n){if(n.length===0)return{};const t=vf(n,cn(this,fl)),e={};return await Promise.all(t.map(async r=>{const i=await xf(this,hi,Z2).call(this,"/v1/struct-definition/bulk",{types:r});if(i?.resolution)for(const a of Object.keys(i?.resolution)){const l=i.resolution[a]?.type_tag;l&&(e[a]=l)}})),e};Z2=async function(n,t){if(!cn(this,Ki))throw new Error("MVR Api URL is not set for the current client");const e=await fetch(`${cn(this,Ki)}${n}`,{method:"POST",headers:{"Content-Type":"application/json",...O6},body:JSON.stringify(t)});if(!e.ok){const r=await e.json().catch(()=>({}));throw new Error(`Failed to resolve types: ${r?.message}`)}return e.json()};function k6(n){if(n?.packages)for(const[t,e]of Object.entries(n.packages)){if(!cr(t))throw new Error(`Invalid package name: ${t}`);if(!$r(me(e)))throw new Error(`Invalid package ID: ${e}`)}if(n?.types)for(const[t,e]of Object.entries(n.types)){if(Es(t).typeParams.length>0)throw new Error("Type overrides must be first-level only. If you want to supply generic types, just pass each type individually.");const r=Es(e);if(!$r(r.address))throw new Error(`Invalid type: ${e}`)}}function Sp(n,t=new Set){if(typeof n=="string"&&!Bn(n))return t;const e=ob(n)?n:Es(n);Bn(e.address)&&t.add(`${e.address}::${e.module}::${e.name}`);for(const r of e.typeParams)Sp(r,t);return t}function Op(n,t){const e=ob(n)?n:Es(n),r=`${e.address}::${e.module}::${e.name}`,i=t[r];return Wd({...e,address:i?i.split("::")[0]:e.address,typeParams:e.typeParams.map(a=>Op(a,t))})}function Bn(n){return n.includes(S6)||n.includes("@")||n.includes(".sui")}function ob(n){return typeof n=="object"&&"address"in n&&"module"in n&&"name"in n&&"typeParams"in n}function M6(n){const t=new Set,e=new Set;for(const r of n.commands)switch(r.$kind){case"MakeMoveVec":r.MakeMoveVec.type&&h3([r.MakeMoveVec.type]).forEach(l=>{e.add(l)});break;case"MoveCall":const i=r.MoveCall,a=i.package.split("::")[0];if(Bn(a)){if(!cr(a))throw new Error(`Invalid package name: ${a}`);t.add(a)}h3(i.typeArguments??[]).forEach(l=>{e.add(l)});break}return{packages:[...t],types:[...e]}}function F6(n,t){for(const e of n.commands){if(e.MakeMoveVec?.type){if(!Bn(e.MakeMoveVec.type))continue;if(!t.types[e.MakeMoveVec.type])throw new Error(`No resolution found for type: ${e.MakeMoveVec.type}`);e.MakeMoveVec.type=t.types[e.MakeMoveVec.type].type}const r=e.MoveCall;if(!r)continue;const i=r.package.split("::"),a=i[0];if(Bn(a)&&!t.packages[a])throw new Error(`No address found for package: ${a}`);Bn(a)&&(i[0]=t.packages[a].package,r.package=i.join("::"));const l=r.typeArguments;if(l){for(let c=0;c<l.length;c++)if(Bn(l[c])){if(!t.types[l[c]])throw new Error(`No resolution found for type: ${l[c]}`);l[c]=t.types[l[c]].type}r.typeArguments=l}}}function h3(n){const t=new Set;for(const e of n)if(Bn(e)){if(!a4(e))throw new Error(`Invalid type with names: ${e}`);t.add(e)}return t}const P6=n=>async(t,e,r)=>{const i=M6(t);if(i.types.length===0&&i.packages.length===0)return r();const a=await T6(e).core.mvr.resolve({types:i.types,packages:i.packages});F6(t,a),await r()};function T6(n){if(!n.client)throw new Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return n.client}var sb=n=>{throw TypeError(n)},X2=(n,t,e)=>t.has(n)||sb("Cannot "+e),Mt=(n,t,e)=>(X2(n,t,"read from private field"),e?e.call(n):t.get(n)),si=(n,t,e)=>t.has(n)?sb("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),Ee=(n,t,e,r)=>(X2(n,t,"write to private field"),t.set(n,e),e),rn=(n,t,e)=>(X2(n,t,"access private method"),e),ms,As,ji,mi,Ir,xr,Wr,To,te,Ve,ab,vd,bd,Ad,Kd,Bp,J2,cb,lb;function zg(n,t=1/0){const e={$kind:"Result",get Result(){return typeof n=="function"?n():n}},r=[],i=a=>r[a]??(r[a]={$kind:"NestedResult",get NestedResult(){return[typeof n=="function"?n():n,a]}});return new Proxy(e,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(a,l){if(l in a)return Reflect.get(a,l);if(l===Symbol.iterator)return function*(){let g=0;for(;g<t;)yield i(g),g++};if(typeof l=="symbol")return;const c=parseInt(l,10);if(!(Number.isNaN(c)||c<0))return i(c)}})}const ub=Symbol.for("@mysten/transaction");function db(n){return!!n&&typeof n=="object"&&n[ub]===!0}const g3={buildPlugins:new Map,serializationPlugins:new Map},$g=Symbol.for("@mysten/transaction/registry");function Bc(){try{const n=globalThis;return n[$g]||(n[$g]=g3),n[$g]}catch{return g3}}const fb=class kp{constructor(){si(this,Ve),si(this,ms),si(this,As),si(this,ji,new Map),si(this,mi,[]),si(this,Ir,[]),si(this,xr,new Set),si(this,Wr,new Set),si(this,To,new Map),si(this,te),this.object=b6(e=>{if(typeof e=="function")return this.object(this.add(e));if(typeof e=="object"&&Lp(Me,e))return e;const r=Vd(e),i=Mt(this,te).inputs.find(a=>r===Vd(a));return i?.Object?.SharedObject&&typeof e=="object"&&e.Object?.SharedObject&&(i.Object.SharedObject.mutable=i.Object.SharedObject.mutable||e.Object.SharedObject.mutable),i?{$kind:"Input",Input:Mt(this,te).inputs.indexOf(i),type:"object"}:rn(this,Ve,bd).call(this,"object",typeof e=="string"?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:me(e)}}:e)});const t=Bc();Ee(this,te,new tr),Ee(this,As,[...t.buildPlugins.values()]),Ee(this,ms,[...t.serializationPlugins.values()])}static fromKind(t){const e=new kp;return Ee(e,te,tr.fromKindBytes(typeof t=="string"?kn(t):t)),Ee(e,mi,Mt(e,te).inputs.slice()),Ee(e,Ir,Mt(e,te).commands.slice()),Ee(e,xr,new Set(Mt(e,Ir).map((r,i)=>i))),e}static from(t){const e=new kp;return db(t)?Ee(e,te,tr.restore(t.getData())):typeof t!="string"||!t.startsWith("{")?Ee(e,te,tr.fromBytes(typeof t=="string"?kn(t):t)):Ee(e,te,tr.restore(JSON.parse(t))),Ee(e,mi,Mt(e,te).inputs.slice()),Ee(e,Ir,Mt(e,te).commands.slice()),Ee(e,xr,new Set(Mt(e,Ir).map((r,i)=>i))),e}static registerGlobalSerializationPlugin(t,e){Bc().serializationPlugins.set(t,e??t)}static unregisterGlobalSerializationPlugin(t){Bc().serializationPlugins.delete(t)}static registerGlobalBuildPlugin(t,e){Bc().buildPlugins.set(t,e??t)}static unregisterGlobalBuildPlugin(t){Bc().buildPlugins.delete(t)}addSerializationPlugin(t){Mt(this,ms).push(t)}addBuildPlugin(t){Mt(this,As).push(t)}addIntentResolver(t,e){if(Mt(this,ji).has(t)&&Mt(this,ji).get(t)!==e)throw new Error(`Intent resolver for ${t} already exists`);Mt(this,ji).set(t,e)}setSender(t){Mt(this,te).sender=t}setSenderIfNotSet(t){Mt(this,te).sender||(Mt(this,te).sender=t)}setExpiration(t){Mt(this,te).expiration=t?ke(Kv,t):null}setGasPrice(t){Mt(this,te).gasConfig.price=String(t)}setGasBudget(t){Mt(this,te).gasConfig.budget=String(t)}setGasBudgetIfNotSet(t){Mt(this,te).gasData.budget==null&&(Mt(this,te).gasConfig.budget=String(t))}setGasOwner(t){Mt(this,te).gasConfig.owner=t}setGasPayment(t){Mt(this,te).gasConfig.payment=t.map(e=>ke(zo,e))}get blockData(){return a3(Mt(this,te).snapshot())}getData(){return Mt(this,te).snapshot()}get[ub](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:A6(t=>j2(t)?rn(this,Ve,bd).call(this,"pure",{$kind:"Pure",Pure:{bytes:t.toBase64()}}):rn(this,Ve,bd).call(this,"pure",Lp(i3,t)?ke(i3,t):t instanceof Uint8Array?Vr.Pure(t):{$kind:"UnresolvedPure",UnresolvedPure:{value:t}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...t){return this.object(Vr.ObjectRef(...t))}receivingRef(...t){return this.object(Vr.ReceivingRef(...t))}sharedObjectRef(...t){return this.object(Vr.SharedObjectRef(...t))}add(t){if(typeof t=="function"){if(Mt(this,To).has(t))return Mt(this,To).get(t);const e=rn(this,Ve,ab).call(this),r=t(e);if(!(r&&typeof r=="object"&&"then"in r))return Ee(this,xr,Mt(e,xr)),Mt(this,To).set(t,r),r;const i=rn(this,Ve,vd).call(this,{$kind:"$Intent",$Intent:{name:"AsyncTransactionThunk",inputs:{},data:{resultIndex:Mt(this,te).commands.length,result:null}}});Mt(this,Wr).add(Promise.resolve(r).then(l=>{i.$Intent.data.result=l}));const a=zg(()=>i.$Intent.data.resultIndex);return Mt(this,To).set(t,a),a}else rn(this,Ve,vd).call(this,t);return zg(Mt(this,te).commands.length-1)}splitCoins(t,e){const r=os.SplitCoins(typeof t=="string"?this.object(t):rn(this,Ve,Kd).call(this,t),e.map(i=>typeof i=="number"||typeof i=="bigint"||typeof i=="string"?this.pure.u64(i):rn(this,Ve,Ad).call(this,i)));return rn(this,Ve,vd).call(this,r),zg(Mt(this,te).commands.length-1,e.length)}mergeCoins(t,e){return this.add(os.MergeCoins(this.object(t),e.map(r=>this.object(r))))}publish({modules:t,dependencies:e}){return this.add(os.Publish({modules:t,dependencies:e}))}upgrade({modules:t,dependencies:e,package:r,ticket:i}){return this.add(os.Upgrade({modules:t,dependencies:e,package:r,ticket:this.object(i)}))}moveCall({arguments:t,...e}){return this.add(os.MoveCall({...e,arguments:t?.map(r=>rn(this,Ve,Ad).call(this,r))}))}transferObjects(t,e){return this.add(os.TransferObjects(t.map(r=>this.object(r)),typeof e=="string"?this.pure.address(e):rn(this,Ve,Ad).call(this,e)))}makeMoveVec({type:t,elements:e}){return this.add(os.MakeMoveVec({type:t,elements:e.map(r=>this.object(r))}))}serialize(){return JSON.stringify(a3(Mt(this,te).snapshot()))}async toJSON(t={}){await this.prepareForSerialization(t);const e=this.isFullyResolved();return JSON.stringify(ke(s6,e?{...Mt(this,te).snapshot(),digest:Mt(this,te).getDigest()}:Mt(this,te).snapshot()),(r,i)=>typeof i=="bigint"?i.toString():i,2)}async sign(t){const{signer:e,...r}=t,i=await this.build(r);return e.signTransaction(i)}isFullyResolved(){return!(!Mt(this,te).sender||Mt(this,Wr).size>0||Mt(this,te).commands.some(t=>t.$Intent)||Zv(Mt(this,te),{}))}async build(t={}){return await this.prepareForSerialization(t),await rn(this,Ve,Bp).call(this,t),Mt(this,te).build({onlyTransactionKind:t.onlyTransactionKind})}async getDigest(t={}){return await this.prepareForSerialization(t),await rn(this,Ve,Bp).call(this,t),Mt(this,te).getDigest()}async prepareForSerialization(t){await rn(this,Ve,cb).call(this),rn(this,Ve,lb).call(this);const e=new Set;for(const i of Mt(this,te).commands)i.$Intent&&e.add(i.$Intent.name);const r=[...Mt(this,ms)];for(const i of e)if(!t.supportedIntents?.includes(i)){if(!Mt(this,ji).has(i))throw new Error(`Missing intent resolver for ${i}`);r.push(Mt(this,ji).get(i))}r.push(P6()),await rn(this,Ve,J2).call(this,r,t)}};ms=new WeakMap;As=new WeakMap;ji=new WeakMap;mi=new WeakMap;Ir=new WeakMap;xr=new WeakMap;Wr=new WeakMap;To=new WeakMap;te=new WeakMap;Ve=new WeakSet;ab=function(){const n=new fb;return Ee(n,te,Mt(this,te)),Ee(n,ms,Mt(this,ms)),Ee(n,As,Mt(this,As)),Ee(n,ji,Mt(this,ji)),Ee(n,Wr,Mt(this,Wr)),Ee(n,xr,new Set(Mt(this,xr))),Ee(n,To,Mt(this,To)),Mt(this,mi).push(Mt(n,mi)),Mt(this,Ir).push(Mt(n,Ir)),n};vd=function(n){const t=Mt(this,te).commands.length;return Mt(this,Ir).push(n),Mt(this,xr).add(t),Mt(this,te).commands.push(n),Mt(this,te).mapCommandArguments(t,e=>{if(e.$kind==="Result"&&!Mt(this,xr).has(e.Result))throw new Error(`Result { Result: ${e.Result} } is not available to use in the current transaction`);if(e.$kind==="NestedResult"&&!Mt(this,xr).has(e.NestedResult[0]))throw new Error(`Result { NestedResult: [${e.NestedResult[0]}, ${e.NestedResult[1]}] } is not available to use in the current transaction`);if(e.$kind==="Input"&&e.Input>=Mt(this,te).inputs.length)throw new Error(`Input { Input: ${e.Input} } references an input that does not exist in the current transaction`);return e}),n};bd=function(n,t){return Mt(this,mi).push(t),Mt(this,te).addInput(n,t)};Ad=function(n){return j2(n)?this.pure(n):rn(this,Ve,Kd).call(this,n)};Kd=function(n){if(typeof n=="function"){const t=this.add(n);return typeof t=="function"?rn(this,Ve,Kd).call(this,t):ke(Me,t)}return ke(Me,n)};Bp=async function(n){if(!n.onlyTransactionKind&&!Mt(this,te).sender)throw new Error("Missing transaction sender");await rn(this,Ve,J2).call(this,[...Mt(this,As),y6],n)};J2=async function(n,t){try{const e=r=>{if(r>=n.length)return()=>{};const i=n[r];return async()=>{const a=e(r+1);let l=!1,c=!1;if(await i(Mt(this,te),t,async()=>{if(l)throw new Error(`next() was call multiple times in TransactionPlugin ${r}`);l=!0,await a(),c=!0}),!l)throw new Error(`next() was not called in TransactionPlugin ${r}`);if(!c)throw new Error(`next() was not awaited in TransactionPlugin ${r}`)}};await e(0)()}finally{Ee(this,mi,Mt(this,te).inputs.slice()),Ee(this,Ir,Mt(this,te).commands.slice())}};cb=async function(){for(;Mt(this,Wr).size>0;){const n=Promise.all(Mt(this,Wr));Mt(this,Wr).clear(),Mt(this,Wr).add(n),await n,Mt(this,Wr).delete(n)}};lb=function(){const n=Mt(this,te).commands,t=Mt(this,te).inputs,e=Mt(this,Ir).flat(1/0),r=Mt(this,mi).flat(1/0);if(e.length!==n.length)throw new Error("Unexpected number of commands found in transaction data");if(r.length!==t.length)throw new Error("Unexpected number of inputs found in transaction data");const i=e.filter(l=>l.$Intent?.name!=="AsyncTransactionThunk");Mt(this,te).commands=i,Mt(this,te).inputs=r,Ee(this,Ir,i),Ee(this,mi,r),Ee(this,xr,new Set(i.map((l,c)=>c)));function a(l){const c=n[l];if(c.$Intent?.name==="AsyncTransactionThunk"){const f=c.$Intent.data.result;if(f==null)throw new Error("AsyncTransactionThunk has not been resolved");return a(f.Result)}const g=i.indexOf(c);if(g===-1)throw new Error("Unable to find original index for command");return g}Mt(this,te).mapArguments(l=>{if(l.$kind==="Input"){const c=r.indexOf(t[l.Input]);if(c===-1)throw new Error("Input has not been resolved");return{...l,Input:c}}else if(l.$kind==="Result"){const c=a(l.Result);return{...l,Result:c}}else if(l.$kind==="NestedResult"){const c=a(l.NestedResult[0]);return{...l,NestedResult:[c,l.NestedResult[1]]}}return l});for(const[l,c]of n.entries())if(c.$Intent?.name==="AsyncTransactionThunk")try{c.$Intent.data.resultIndex=a(l)}catch{}};let zi=fb;async function R6(n,t){if(n.features["sui:signTransaction"])return n.features["sui:signTransaction"].signTransaction(t);if(!n.features["sui:signTransactionBlock"])throw new Error(`Provided wallet (${n.name}) does not support the signTransaction feature.`);const{signTransactionBlock:e}=n.features["sui:signTransactionBlock"],r=zi.from(await t.transaction.toJSON()),{transactionBlockBytes:i,signature:a}=await e({transactionBlock:r,account:t.account,chain:t.chain});return{bytes:i,signature:a}}const N6=[l8,u8];function j6(n,t=[]){return[...N6,...t].every(e=>e in n.features)}const D6="sui:devnet",U6="sui:testnet",z6="sui:localnet",$6="sui:mainnet",t0=[D6,U6,z6,$6];function Q6(n){return{all:n=n||new Map,on:function(t,e){var r=n.get(t);r?r.push(e):n.set(t,[e])},off:function(t,e){var r=n.get(t);r&&(e?r.splice(r.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var r=n.get(t);r&&r.slice().map(function(i){i(e)}),(r=n.get("*"))&&r.slice().map(function(i){i(t,e)})}}}new TextEncoder;const Mp=new TextDecoder;function q6(n){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(n);const t=atob(n),e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function W6(n){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof n=="string"?n:Mp.decode(n),{alphabet:"base64url"});let t=n;t instanceof Uint8Array&&(t=Mp.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/");try{return q6(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}class G6 extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(t,e){super(t,e),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class ss extends G6{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}const V6=n=>typeof n=="object"&&n!==null;function K6(n){if(!V6(n)||Object.prototype.toString.call(n)!=="[object Object]")return!1;if(Object.getPrototypeOf(n)===null)return!0;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t}function H6(n){if(typeof n!="string")throw new ss("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:e}=n.split(".");if(e===5)throw new ss("Only JWTs using Compact JWS serialization can be decoded");if(e!==3)throw new ss("Invalid JWT");if(!t)throw new ss("JWTs must contain a payload");let r;try{r=W6(t)}catch{throw new ss("Failed to base64url decode the payload")}let i;try{i=JSON.parse(Mp.decode(r))}catch{throw new ss("Failed to parse the decoded payload as JSON")}if(!K6(i))throw new ss("Invalid JWT Claims Set");return i}const Y6=Ft({address:Xt(),publicKey:Xt()}),Z6=Ft({exp:Fe(),iat:Fe(),iss:Xt(),aud:Xt(),payload:Ft({accounts:ie(Y6)})});function X6(n){const t=H6(n);return ke(Z6,t)}const J6=K2("type",[Ft({type:ee("connect"),session:Xt("`session` is required")}),Ft({type:ee("sign-transaction"),bytes:Xt(),signature:Xt()}),Ft({type:ee("sign-and-execute-transaction"),bytes:Xt(),signature:Xt(),digest:Xt(),effects:Xt()}),Ft({type:ee("sign-personal-message"),bytes:Xt(),signature:Xt()})]),t5=K2("type",[Ft({type:ee("reject"),reason:Ze(Xt("`reason` must be a string"))}),Ft({type:ee("resolve"),data:J6})]),e5=Ft({id:Le(Xt(),Wv()),source:ee("web-wallet-channel"),payload:t5,version:ee("1")});function n5(){return{version:"1",originUrl:window.location.href,userAgent:navigator.userAgent,screenResolution:`${window.screen.width}x${window.screen.height}`,language:navigator.language,platform:navigator.platform,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,timestamp:Date.now()}}var hb=n=>{throw TypeError(n)},e0=(n,t,e)=>t.has(n)||hb("Cannot "+e),Ye=(n,t,e)=>(e0(n,t,"read from private field"),e?e.call(n):t.get(n)),Zn=(n,t,e)=>t.has(n)?hb("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),vr=(n,t,e,r)=>(e0(n,t,"write to private field"),t.set(n,e),e),Qg=(n,t,e)=>(e0(n,t,"access private method"),e),fs,Fp,Dc,Uc,Ld,Cd,Id,xd,Ed,Sd,Ea,Od,Hd,zc,Bd;class r5{constructor({appName:t,hostOrigin:e,hostPathname:r="dapp-request",extraRequestOptions:i,popupWindow:a}){Zn(this,zc),Zn(this,fs),Zn(this,Fp,"1"),Zn(this,Dc),Zn(this,Uc),Zn(this,Ld),Zn(this,Cd),Zn(this,Id),Zn(this,xd),Zn(this,Ed),Zn(this,Sd),Zn(this,Ea,null),Zn(this,Od,!1),Zn(this,Hd,d=>{if(d.origin!==Ye(this,Uc))return;const{success:y,output:v}=k8(e5,d.data);!y||v.id!==Ye(this,Dc)||(Qg(this,zc,Bd).call(this),v.payload.type==="reject"?Ye(this,Sd).call(this,new Error("User rejected the request")):v.payload.type==="resolve"&&Ye(this,Ed).call(this,v.payload.data))});const l=a??window.open("about:blank","_blank");if(!l)throw new Error("Failed to open new window");vr(this,Dc,crypto.randomUUID()),vr(this,fs,l),vr(this,Uc,e),vr(this,Ld,r),vr(this,Cd,t);const{promise:c,resolve:g,reject:f}=BS();vr(this,xd,c),vr(this,Ed,g),vr(this,Sd,f),vr(this,Id,i),vr(this,Ea,setInterval(()=>{try{Ye(this,fs).closed&&(Qg(this,zc,Bd).call(this),f(new Error("User closed the wallet window")))}catch{}},1e3))}send({type:t,...e}){if(Ye(this,fs).closed)throw new Error("User closed the wallet window");if(Ye(this,Od))throw new Error("send() can only be called once");vr(this,Od,!0),window.addEventListener("message",Ye(this,Hd));const r={version:Ye(this,Fp),requestId:Ye(this,Dc),appUrl:window.location.href.split("#")[0],appName:Ye(this,Cd),payload:{type:t,...e},metadata:n5(),extraRequestOptions:Ye(this,Id)},i=encodeURIComponent(btoa(JSON.stringify(r)));return Ye(this,fs).location.assign(`${Ye(this,Uc)}/${Ye(this,Ld)}#${i}`),Ye(this,xd)}close(){Qg(this,zc,Bd).call(this),Ye(this,fs).close()}}fs=new WeakMap;Fp=new WeakMap;Dc=new WeakMap;Uc=new WeakMap;Ld=new WeakMap;Cd=new WeakMap;Id=new WeakMap;xd=new WeakMap;Ed=new WeakMap;Sd=new WeakMap;Ea=new WeakMap;Od=new WeakMap;Hd=new WeakMap;zc=new WeakSet;Bd=function(){Ye(this,Ea)&&(clearInterval(Ye(this,Ea)),vr(this,Ea,null)),window.removeEventListener("message",Ye(this,Hd))};var gb=n=>{throw TypeError(n)},n0=(n,t,e)=>t.has(n)||gb("Cannot "+e),On=(n,t,e)=>(n0(n,t,"read from private field"),e?e.call(n):t.get(n)),Nn=(n,t,e)=>t.has(n)?gb("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),jr=(n,t,e,r)=>(n0(n,t,"write to private field"),t.set(n,e),e),Ao=(n,t,e)=>(n0(n,t,"access private method"),e),$c,wa,Jc,Yd,Qc,qc,Zd,Pp,Tp,Rp,Np,jp,ci,Dp,Up,pb,zp,ma;const i5="https://my.slush.app",r0="slush:session",o5="Slush",p3="com.mystenlabs.suiwallet",s5="https://api.slush.app/api/wallet/metadata",a5={id:"com.mystenlabs.suiwallet.web",walletName:"Slush",description:"Trade and earn on Sui.",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiBmaWxsPSIjNENBMkZGIi8+CjxwYXRoIGQ9Ik0xMi4zNDczIDM0LjcyNTRDMTMuNTU1MyAzOS4yMzM2IDE4LjA2NzMgNDMuMzE0OCAyNy40MDI1IDQwLjgxMzRDMzYuMzA5NyAzOC40MjY3IDQxLjg5MjEgMzEuMDk5MyA0MC40NDQ2IDI1LjY5NzJDMzkuOTQ0NyAyMy44MzE3IDM4LjQzOTEgMjIuNTY4OSAzNi4xMTc4IDIyLjc3NDRMMTUuMzYxNSAyNC41MDM4QzE0LjA1NDQgMjQuNjA0MSAxMy40NTUgMjQuMzg5OCAxMy4xMDkyIDIzLjU2NjFDMTIuNzczOCAyMi43ODEyIDEyLjk2NDkgMjEuOTM4NSAxNC41NDM3IDIxLjE0MDZMMzAuMzM5NiAxMy4wMzQyQzMxLjU1MDMgMTIuNDE4MiAzMi4zNTY3IDEyLjE2MDUgMzMuMDkzNiAxMi40MjEzQzMzLjU1NTUgMTIuNTg5MSAzMy44NTk2IDEzLjI1NzQgMzMuNTgwMyAxNC4wODJMMzIuNTU2MSAxNy4xMDU2QzMxLjI5OTIgMjAuODE2NCAzMy45ODk5IDIxLjY3ODQgMzUuNTA2OCAyMS4yNzE5QzM3LjgwMTcgMjAuNjU3IDM4LjM0MTYgMTguNDcxMiAzNy42MDIzIDE1LjcxMTlDMzUuNzI3OCA4LjcxNjI5IDI4LjMwNTkgNy42MjI1NCAyMS41NzY4IDkuNDI1NTlDMTQuNzMxMSAxMS4yNTk5IDguNzk2ODEgMTYuODA3MiAxMC42MDg4IDIzLjU2OTZDMTEuMDM1OCAyNS4xNjMgMTIuNTAyNSAyNi40MzYyIDE0LjIwMTQgMjYuMzk3NUwxNi43OTUgMjYuMzkxMkMxNy4zMjg0IDI2LjM3ODggMTcuMTM2MyAyNi40MjI3IDE4LjE2NTMgMjYuMzM3NEMxOS4xOTQ0IDI2LjI1MjIgMjEuOTQyNSAyNS45MTQgMjEuOTQyNSAyNS45MTRMMzUuNDI3NSAyNC4zODhMMzUuNzc1IDI0LjMzNzVDMzYuNTYzNyAyNC4yMDMgMzcuMTU5NyAyNC40MDc5IDM3LjY2MzYgMjUuMjc2QzM4LjQxNzcgMjYuNTc1IDM3LjI2NzIgMjcuNTU0NiAzNS44ODk5IDI4LjcyNzJDMzUuODUzIDI4Ljc1ODYgMzUuODE2IDI4Ljc5MDEgMzUuNzc4OSAyOC44MjE4TDIzLjkyNSAzOS4wMzc3QzIxLjg5MzMgNDAuNzkwMSAyMC40NjYgNDAuMTMxMSAxOS45NjYyIDM4LjI2NTZMMTguMTk1OCAzMS42NTg3QzE3Ljc1ODUgMzAuMDI2NCAxNi4xNjQ2IDI4Ljc0NTYgMTQuMjk3NiAyOS4yNDU5QzExLjk2MzggMjkuODcxMiAxMS43NzQ2IDMyLjU4NzggMTIuMzQ3MyAzNC43MjU0WiIgZmlsbD0iIzA2MEQxNCIvPgo8L3N2Zz4K",enabled:!0},c5=Ft({id:Xt("Wallet ID is required"),walletName:Xt("Wallet name is required"),icon:Xt("Icon must be a valid wallet icon format"),enabled:Ps("Enabled is required")});function l5(n){localStorage.setItem(r0,n)}function Wc(){const n=localStorage.getItem(r0);if(!n)throw new Error("No session found");return n}const u5=["sui:signTransaction","sui:signAndExecuteTransaction","sui:signPersonalMessage","sui:signTransactionBlock","sui:signAndExecuteTransactionBlock"];function mb(n){const{payload:t}=X6(n);return t.accounts.map(e=>new Cf({address:e.address,chains:t0,features:u5,publicKey:kn(e.publicKey)}))}class d5{constructor({name:t,origin:e,metadata:r}){Nn(this,ci),Nn(this,$c),Nn(this,wa),Nn(this,Jc),Nn(this,Yd),Nn(this,Qc),Nn(this,qc),Nn(this,Zd),Nn(this,Pp,async({transactionBlock:i,account:a,chain:l})=>{const c=await i.toJSON(),f=await Ao(this,ci,ma).call(this).send({type:"sign-transaction",transaction:c,address:a.address,chain:l,session:Wc()});return{transactionBlockBytes:f.bytes,signature:f.signature}}),Nn(this,Tp,async({transaction:i,account:a,chain:l})=>{const c=Ao(this,ci,ma).call(this),g=await i.toJSON(),f=await c.send({type:"sign-transaction",transaction:g,address:a.address,chain:l,session:Wc()});return{bytes:f.bytes,signature:f.signature}}),Nn(this,Rp,async({transaction:i,account:a,chain:l})=>{const c=Ao(this,ci,ma).call(this),g=await i.toJSON(),f=await c.send({type:"sign-and-execute-transaction",transaction:g,address:a.address,chain:l,session:Wc()});return{bytes:f.bytes,signature:f.signature,digest:f.digest,effects:f.effects}}),Nn(this,Np,async({message:i,account:a,chain:l})=>{const g=await Ao(this,ci,ma).call(this).send({type:"sign-personal-message",message:Se(i),address:a.address,chain:l??a.chains[0],session:Wc()});return{bytes:g.bytes,signature:g.signature}}),Nn(this,jp,(i,a)=>(On(this,wa).on(i,a),()=>On(this,wa).off(i,a))),Nn(this,Up,async i=>{if(i?.silent)return{accounts:this.accounts};const l=await Ao(this,ci,ma).call(this).send({type:"connect"});return l5(l.session),Ao(this,ci,Dp).call(this,mb(l.session)),{accounts:this.accounts}}),Nn(this,zp,async()=>{localStorage.removeItem(r0),Ao(this,ci,Dp).call(this,[])}),jr(this,$c,r.id),jr(this,Jc,Ao(this,ci,pb).call(this)),jr(this,wa,Q6()),jr(this,Yd,e||i5),jr(this,Zd,t),jr(this,Qc,r.walletName),jr(this,qc,r.icon)}get name(){return On(this,Qc)}get id(){return On(this,$c)}get icon(){return On(this,qc)}get version(){return"1.0.0"}get chains(){return t0}get accounts(){return On(this,Jc)}get features(){return{"standard:connect":{version:"1.0.0",connect:On(this,Up)},"standard:disconnect":{version:"1.0.0",disconnect:On(this,zp)},"standard:events":{version:"1.0.0",on:On(this,jp)},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:On(this,Pp)},"sui:signTransaction":{version:"2.0.0",signTransaction:On(this,Tp)},"sui:signPersonalMessage":{version:"1.1.0",signPersonalMessage:On(this,Np)},"sui:signAndExecuteTransaction":{version:"2.0.0",signAndExecuteTransaction:On(this,Rp)}}}updateMetadata(t){jr(this,$c,t.id),jr(this,Qc,t.walletName),jr(this,qc,t.icon)}}$c=new WeakMap;wa=new WeakMap;Jc=new WeakMap;Yd=new WeakMap;Qc=new WeakMap;qc=new WeakMap;Zd=new WeakMap;Pp=new WeakMap;Tp=new WeakMap;Rp=new WeakMap;Np=new WeakMap;jp=new WeakMap;ci=new WeakSet;Dp=function(n){jr(this,Jc,n),On(this,wa).emit("change",{accounts:this.accounts})};Up=new WeakMap;pb=function(){try{return mb(Wc())}catch{return[]}};zp=new WeakMap;ma=function(){return new r5({appName:On(this,Zd),hostOrigin:On(this,Yd)})};async function f5(n){const t=await fetch(n);if(!t.ok)throw new Error("Failed to fetch wallet metadata");const e=await t.json();return ke(c5,e)}function h5(n,{origin:t,metadataApiUrl:e=s5}={}){const r=Lf();let i=null;if(r.on("register",c=>{c.id===p3&&i?.()}),r.get().find(c=>c.id===p3))return;const l=new d5({name:n,origin:t,metadata:a5});return i=r.register(l),f5(e).then(c=>{if(!c.enabled){console.log("Slush wallet is not currently enabled."),i?.();return}l.updateMetadata(c)}).catch(c=>{console.error("Error fetching metadata",c)}),{wallet:l,unregister:i}}var Ua=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},g5={setTimeout:(n,t)=>setTimeout(n,t),clearTimeout:n=>clearTimeout(n),setInterval:(n,t)=>setInterval(n,t),clearInterval:n=>clearInterval(n)},p5=class{#t=g5;#e=!1;setTimeoutProvider(n){this.#t=n}setTimeout(n,t){return this.#t.setTimeout(n,t)}clearTimeout(n){this.#t.clearTimeout(n)}setInterval(n,t){return this.#t.setInterval(n,t)}clearInterval(n){this.#t.clearInterval(n)}},_s=new p5;function m5(n){setTimeout(n,0)}var Bs=typeof window>"u"||"Deno"in globalThis;function Dn(){}function _5(n,t){return typeof n=="function"?n(t):n}function $p(n){return typeof n=="number"&&n>=0&&n!==1/0}function _b(n,t){return Math.max(n+(t||0)-Date.now(),0)}function jo(n,t){return typeof n=="function"?n(t):n}function Lr(n,t){return typeof n=="function"?n(t):n}function m3(n,t){const{type:e="all",exact:r,fetchStatus:i,predicate:a,queryKey:l,stale:c}=n;if(l){if(r){if(t.queryHash!==i0(l,t.options))return!1}else if(!hl(t.queryKey,l))return!1}if(e!=="all"){const g=t.isActive();if(e==="active"&&!g||e==="inactive"&&g)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||i&&i!==t.state.fetchStatus||a&&!a(t))}function _3(n,t){const{exact:e,status:r,predicate:i,mutationKey:a}=n;if(a){if(!t.options.mutationKey)return!1;if(e){if(ks(t.options.mutationKey)!==ks(a))return!1}else if(!hl(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function i0(n,t){return(t?.queryKeyHashFn||ks)(n)}function ks(n){return JSON.stringify(n,(t,e)=>Qp(e)?Object.keys(e).sort().reduce((r,i)=>(r[i]=e[i],r),{}):e)}function hl(n,t){return n===t?!0:typeof n!=typeof t?!1:n&&t&&typeof n=="object"&&typeof t=="object"?Object.keys(t).every(e=>hl(n[e],t[e])):!1}var y5=Object.prototype.hasOwnProperty;function yb(n,t){if(n===t)return n;const e=y3(n)&&y3(t);if(!e&&!(Qp(n)&&Qp(t)))return t;const i=(e?n:Object.keys(n)).length,a=e?t:Object.keys(t),l=a.length,c=e?new Array(l):{};let g=0;for(let f=0;f<l;f++){const d=e?f:a[f],y=n[d],v=t[d];if(y===v){c[d]=y,(e?f<i:y5.call(n,d))&&g++;continue}if(y===null||v===null||typeof y!="object"||typeof v!="object"){c[d]=v;continue}const w=yb(y,v);c[d]=w,w===y&&g++}return i===l&&g===i?n:c}function Xd(n,t){if(!t||Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(n[e]!==t[e])return!1;return!0}function y3(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Qp(n){if(!w3(n))return!1;const t=n.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!w3(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function w3(n){return Object.prototype.toString.call(n)==="[object Object]"}function w5(n){return new Promise(t=>{_s.setTimeout(t,n)})}function qp(n,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(n,t):e.structuralSharing!==!1?yb(n,t):t}function v5(n,t,e=0){const r=[...n,t];return e&&r.length>e?r.slice(1):r}function b5(n,t,e=0){const r=[t,...n];return e&&r.length>e?r.slice(0,-1):r}var o0=Symbol();function wb(n,t){return!n.queryFn&&t?.initialPromise?()=>t.initialPromise:!n.queryFn||n.queryFn===o0?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function vb(n,t){return typeof n=="function"?n(...t):!!n}var A5=class extends Ua{#t;#e;#n;constructor(){super(),this.#n=n=>{if(!Bs&&window.addEventListener){const t=()=>n();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(n){this.#n=n,this.#e?.(),this.#e=n(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(n){this.#t!==n&&(this.#t=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(t=>{t(n)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},s0=new A5;function Wp(){let n,t;const e=new Promise((i,a)=>{n=i,t=a});e.status="pending",e.catch(()=>{});function r(i){Object.assign(e,i),delete e.resolve,delete e.reject}return e.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},e.reject=i=>{r({status:"rejected",reason:i}),t(i)},e}var L5=m5;function C5(){let n=[],t=0,e=c=>{c()},r=c=>{c()},i=L5;const a=c=>{t?n.push(c):i(()=>{e(c)})},l=()=>{const c=n;n=[],c.length&&i(()=>{r(()=>{c.forEach(g=>{e(g)})})})};return{batch:c=>{let g;t++;try{g=c()}finally{t--,t||l()}return g},batchCalls:c=>(...g)=>{a(()=>{c(...g)})},schedule:a,setNotifyFunction:c=>{e=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var ln=C5(),I5=class extends Ua{#t=!0;#e;#n;constructor(){super(),this.#n=n=>{if(!Bs&&window.addEventListener){const t=()=>n(!0),e=()=>n(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",e,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(n){this.#n=n,this.#e?.(),this.#e=n(this.setOnline.bind(this))}setOnline(n){this.#t!==n&&(this.#t=n,this.listeners.forEach(e=>{e(n)}))}isOnline(){return this.#t}},Jd=new I5;function x5(n){return Math.min(1e3*2**n,3e4)}function bb(n){return(n??"online")==="online"?Jd.isOnline():!0}var Gp=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function Ab(n){let t=!1,e=0,r;const i=Wp(),a=()=>i.status!=="pending",l=B=>{if(!a()){const x=new Gp(B);v(x),n.onCancel?.(x)}},c=()=>{t=!0},g=()=>{t=!1},f=()=>s0.isFocused()&&(n.networkMode==="always"||Jd.isOnline())&&n.canRun(),d=()=>bb(n.networkMode)&&n.canRun(),y=B=>{a()||(r?.(),i.resolve(B))},v=B=>{a()||(r?.(),i.reject(B))},w=()=>new Promise(B=>{r=x=>{(a()||f())&&B(x)},n.onPause?.()}).then(()=>{r=void 0,a()||n.onContinue?.()}),F=()=>{if(a())return;let B;const x=e===0?n.initialPromise:void 0;try{B=x??n.fn()}catch(M){B=Promise.reject(M)}Promise.resolve(B).then(y).catch(M=>{if(a())return;const O=n.retry??(Bs?0:3),$=n.retryDelay??x5,D=typeof $=="function"?$(e,M):$,V=O===!0||typeof O=="number"&&e<O||typeof O=="function"&&O(e,M);if(t||!V){v(M);return}e++,n.onFail?.(e,M),w5(D).then(()=>f()?void 0:w()).then(()=>{t?v(M):F()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(r?.(),i),cancelRetry:c,continueRetry:g,canStart:d,start:()=>(d()?F():w().then(F),i)}}var Lb=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$p(this.gcTime)&&(this.#t=_s.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Bs?1/0:300*1e3))}clearGcTimeout(){this.#t&&(_s.clearTimeout(this.#t),this.#t=void 0)}},E5=class extends Lb{#t;#e;#n;#i;#o;#d;#s;constructor(n){super(),this.#s=!1,this.#d=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.#i=n.client,this.#n=this.#i.getQueryCache(),this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.#t=b3(this.options),this.state=n.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#o?.promise}setOptions(n){if(this.options={...this.#d,...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=b3(this.options);t.data!==void 0&&(this.setState(v3(t.data,t.dataUpdatedAt)),this.#t=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(n,t){const e=qp(this.state.data,n,this.options);return this.#a({data:e,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),e}setState(n,t){this.#a({type:"setState",state:n,setStateOptions:t})}cancel(n){const t=this.#o?.promise;return this.#o?.cancel(n),t?t.then(Dn).catch(Dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(n=>Lr(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===o0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>jo(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!_b(this.state.dataUpdatedAt,n)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#o?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#o?.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(t=>t!==n),this.observers.length||(this.#o&&(this.#s?this.#o.cancel({revert:!0}):this.#o.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(n,t){if(this.state.fetchStatus!=="idle"&&this.#o?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#o)return this.#o.continueRetry(),this.#o.promise}if(n&&this.setOptions(n),!this.options.queryFn){const c=this.observers.find(g=>g.options.queryFn);c&&this.setOptions(c.options)}const e=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#s=!0,e.signal)})},i=()=>{const c=wb(this.options,t),f=(()=>{const d={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#s=!1,this.options.persister?this.options.persister(c,f,this):c(f)},l=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(c),c})();this.options.behavior?.onFetch(l,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#a({type:"fetch",meta:l.fetchOptions?.meta}),this.#o=Ab({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:c=>{c instanceof Gp&&c.revert&&this.setState({...this.#e,fetchStatus:"idle"}),e.abort()},onFail:(c,g)=>{this.#a({type:"failed",failureCount:c,error:g})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const c=await this.#o.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof Gp){if(c.silent)return this.#o.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#a({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#a(n){const t=e=>{switch(n.type){case"failed":return{...e,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...Cb(e.data,this.options),fetchMeta:n.meta??null};case"success":const r={...e,...v3(n.data,n.dataUpdatedAt),dataUpdateCount:e.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=n.manual?r:void 0,r;case"error":const i=n.error;return{...e,error:i,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...n.state}}};this.state=t(this.state),ln.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:n})})}};function Cb(n,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bb(t.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function v3(n,t){return{data:n,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function b3(n){const t=typeof n.initialData=="function"?n.initialData():n.initialData,e=t!==void 0,r=e?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var S5=class extends Ua{constructor(n,t){super(),this.options=t,this.#t=n,this.#a=null,this.#s=Wp(),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#i=void 0;#o;#d;#s;#a;#u;#c;#r;#p;#m;#f;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),A3(this.#e,this.options)?this.#y():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Vp(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Vp(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#A(),this.#C(),this.#e.removeObserver(this)}setOptions(n){const t=this.options,e=this.#e;if(this.options=this.#t.defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Lr(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!Xd(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&L3(this.#e,e,this.options,t)&&this.#y(),this.updateResult(),r&&(this.#e!==e||Lr(this.options.enabled,this.#e)!==Lr(t.enabled,this.#e)||jo(this.options.staleTime,this.#e)!==jo(t.staleTime,this.#e))&&this.#g();const i=this.#v();r&&(this.#e!==e||Lr(this.options.enabled,this.#e)!==Lr(t.enabled,this.#e)||i!==this.#f)&&this.#b(i)}getOptimisticResult(n){const t=this.#t.getQueryCache().build(this.#t,n),e=this.createResult(t,n);return B5(this,e)&&(this.#i=e,this.#d=this.options,this.#o=this.#e.state),e}getCurrentResult(){return this.#i}trackResult(n,t){return new Proxy(n,{get:(e,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#s.status==="pending"&&this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(n){this.#h.add(n)}getCurrentQuery(){return this.#e}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const t=this.#t.defaultQueryOptions(n),e=this.#t.getQueryCache().build(this.#t,t);return e.fetch().then(()=>this.createResult(e,t))}fetch(n){return this.#y({...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#y(n){this.#_();let t=this.#e.fetch(this.options,n);return n?.throwOnError||(t=t.catch(Dn)),t}#g(){this.#A();const n=jo(this.options.staleTime,this.#e);if(Bs||this.#i.isStale||!$p(n))return;const e=_b(this.#i.dataUpdatedAt,n)+1;this.#p=_s.setTimeout(()=>{this.#i.isStale||this.updateResult()},e)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(n){this.#C(),this.#f=n,!(Bs||Lr(this.options.enabled,this.#e)===!1||!$p(this.#f)||this.#f===0)&&(this.#m=_s.setInterval(()=>{(this.options.refetchIntervalInBackground||s0.isFocused())&&this.#y()},this.#f))}#w(){this.#g(),this.#b(this.#v())}#A(){this.#p&&(_s.clearTimeout(this.#p),this.#p=void 0)}#C(){this.#m&&(_s.clearInterval(this.#m),this.#m=void 0)}createResult(n,t){const e=this.#e,r=this.options,i=this.#i,a=this.#o,l=this.#d,g=n!==e?n.state:this.#n,{state:f}=n;let d={...f},y=!1,v;if(t._optimisticResults){const I=this.hasListeners(),nt=!I&&A3(n,t),rt=I&&L3(n,e,t,r);(nt||rt)&&(d={...d,...Cb(f.data,n.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:w,errorUpdatedAt:F,status:B}=d;v=d.data;let x=!1;if(t.placeholderData!==void 0&&v===void 0&&B==="pending"){let I;i?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(I=i.data,x=!0):I=typeof t.placeholderData=="function"?t.placeholderData(this.#r?.state.data,this.#r):t.placeholderData,I!==void 0&&(B="success",v=qp(i?.data,I,t),y=!0)}if(t.select&&v!==void 0&&!x)if(i&&v===a?.data&&t.select===this.#u)v=this.#c;else try{this.#u=t.select,v=t.select(v),v=qp(i?.data,v,t),this.#c=v,this.#a=null}catch(I){this.#a=I}this.#a&&(w=this.#a,v=this.#c,F=Date.now(),B="error");const M=d.fetchStatus==="fetching",O=B==="pending",$=B==="error",D=O&&M,V=v!==void 0,_={status:B,fetchStatus:d.fetchStatus,isPending:O,isSuccess:B==="success",isError:$,isInitialLoading:D,isLoading:D,data:v,dataUpdatedAt:d.dataUpdatedAt,error:w,errorUpdatedAt:F,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>g.dataUpdateCount||d.errorUpdateCount>g.errorUpdateCount,isFetching:M,isRefetching:M&&!O,isLoadingError:$&&!V,isPaused:d.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:$&&V,isStale:a0(n,t),refetch:this.refetch,promise:this.#s,isEnabled:Lr(t.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const I=H=>{_.status==="error"?H.reject(_.error):_.data!==void 0&&H.resolve(_.data)},nt=()=>{const H=this.#s=_.promise=Wp();I(H)},rt=this.#s;switch(rt.status){case"pending":n.queryHash===e.queryHash&&I(rt);break;case"fulfilled":(_.status==="error"||_.data!==rt.value)&&nt();break;case"rejected":(_.status!=="error"||_.error!==rt.reason)&&nt();break}}return _}updateResult(){const n=this.#i,t=this.createResult(this.#e,this.options);if(this.#o=this.#e.state,this.#d=this.options,this.#o.data!==void 0&&(this.#r=this.#e),Xd(t,n))return;this.#i=t;const e=()=>{if(!n)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#h.size)return!0;const a=new Set(i??this.#h);return this.options.throwOnError&&a.add("error"),Object.keys(this.#i).some(l=>{const c=l;return this.#i[c]!==n[c]&&a.has(c)})};this.#O({listeners:e()})}#_(){const n=this.#t.getQueryCache().build(this.#t,this.options);if(n===this.#e)return;const t=this.#e;this.#e=n,this.#n=n.state,this.hasListeners()&&(t?.removeObserver(this),n.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#O(n){ln.batch(()=>{n.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function O5(n,t){return Lr(t.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&t.retryOnMount===!1)}function A3(n,t){return O5(n,t)||n.state.data!==void 0&&Vp(n,t,t.refetchOnMount)}function Vp(n,t,e){if(Lr(t.enabled,n)!==!1&&jo(t.staleTime,n)!=="static"){const r=typeof e=="function"?e(n):e;return r==="always"||r!==!1&&a0(n,t)}return!1}function L3(n,t,e,r){return(n!==t||Lr(r.enabled,n)===!1)&&(!e.suspense||n.state.status!=="error")&&a0(n,e)}function a0(n,t){return Lr(t.enabled,n)!==!1&&n.isStaleByTime(jo(t.staleTime,n))}function B5(n,t){return!Xd(n.getCurrentResult(),t)}function C3(n){return{onFetch:(t,e)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},g=0;const f=async()=>{let d=!1;const y=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},v=wb(t.options,t.fetchOptions),w=async(F,B,x)=>{if(d)return Promise.reject();if(B==null&&F.pages.length)return Promise.resolve(F);const O=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:B,direction:x?"backward":"forward",meta:t.options.meta};return y(P),P})(),$=await v(O),{maxPages:D}=t.options,V=x?b5:v5;return{pages:V(F.pages,$,D),pageParams:V(F.pageParams,B,D)}};if(i&&a.length){const F=i==="backward",B=F?k5:I3,x={pages:a,pageParams:l},M=B(r,x);c=await w(x,M,F)}else{const F=n??a.length;do{const B=g===0?l[0]??r.initialPageParam:I3(r,c);if(g>0&&B==null)break;c=await w(c,B),g++}while(g<F)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e):t.fetchFn=f}}}function I3(n,{pages:t,pageParams:e}){const r=t.length-1;return t.length>0?n.getNextPageParam(t[r],t,e[r],e):void 0}function k5(n,{pages:t,pageParams:e}){return t.length>0?n.getPreviousPageParam?.(t[0],t,e[0],e):void 0}var M5=class extends Lb{#t;#e;#n;#i;constructor(n){super(),this.#t=n.client,this.mutationId=n.mutationId,this.#n=n.mutationCache,this.#e=[],this.state=n.state||Ib(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){this.#e.includes(n)||(this.#e.push(n),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.#e=this.#e.filter(t=>t!==n),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(n){const t=()=>{this.#o({type:"continue"})},e={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=Ab({fn:()=>this.options.mutationFn?this.options.mutationFn(n,e):Promise.reject(new Error("No mutationFn found")),onFail:(a,l)=>{this.#o({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#o({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)t();else{this.#o({type:"pending",variables:n,isPaused:i}),await this.#n.config.onMutate?.(n,this,e);const l=await this.options.onMutate?.(n,e);l!==this.state.context&&this.#o({type:"pending",context:l,variables:n,isPaused:i})}const a=await this.#i.start();return await this.#n.config.onSuccess?.(a,n,this.state.context,this,e),await this.options.onSuccess?.(a,n,this.state.context,e),await this.#n.config.onSettled?.(a,null,this.state.variables,this.state.context,this,e),await this.options.onSettled?.(a,null,n,this.state.context,e),this.#o({type:"success",data:a}),a}catch(a){try{throw await this.#n.config.onError?.(a,n,this.state.context,this,e),await this.options.onError?.(a,n,this.state.context,e),await this.#n.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this,e),await this.options.onSettled?.(void 0,a,n,this.state.context,e),a}finally{this.#o({type:"error",error:a})}}finally{this.#n.runNext(this)}}#o(n){const t=e=>{switch(n.type){case"failed":return{...e,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...e,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:n.error,failureCount:e.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ln.batch(()=>{this.#e.forEach(e=>{e.onMutationUpdate(n)}),this.#n.notify({mutation:this,type:"updated",action:n})})}};function Ib(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var F5=class extends Ua{constructor(n={}){super(),this.config=n,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(n,t,e){const r=new M5({client:n,mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(t),state:e});return this.add(r),r}add(n){this.#t.add(n);const t=ed(n);if(typeof t=="string"){const e=this.#e.get(t);e?e.push(n):this.#e.set(t,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#t.delete(n)){const t=ed(n);if(typeof t=="string"){const e=this.#e.get(t);if(e)if(e.length>1){const r=e.indexOf(n);r!==-1&&e.splice(r,1)}else e[0]===n&&this.#e.delete(t)}}this.notify({type:"removed",mutation:n})}canRun(n){const t=ed(n);if(typeof t=="string"){const r=this.#e.get(t)?.find(i=>i.state.status==="pending");return!r||r===n}else return!0}runNext(n){const t=ed(n);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==n&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ln.batch(()=>{this.#t.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(n){const t={exact:!0,...n};return this.getAll().find(e=>_3(t,e))}findAll(n={}){return this.getAll().filter(t=>_3(n,t))}notify(n){ln.batch(()=>{this.listeners.forEach(t=>{t(n)})})}resumePausedMutations(){const n=this.getAll().filter(t=>t.state.isPaused);return ln.batch(()=>Promise.all(n.map(t=>t.continue().catch(Dn))))}};function ed(n){return n.options.scope?.id}var P5=class extends Ua{#t;#e=void 0;#n;#i;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const e=this.options;this.options=this.#t.defaultMutationOptions(t),Xd(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),e?.mutationKey&&this.options.mutationKey&&ks(e.mutationKey)!==ks(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#o(),this.#d(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#o(),this.#d()}mutate(t,e){return this.#i=e,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#o(){const t=this.#n?.state??Ib();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#d(t){ln.batch(()=>{if(this.#i&&this.hasListeners()){const e=this.#e.variables,r=this.#e.context,i={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#i.onSuccess?.(t.data,e,r,i),this.#i.onSettled?.(t.data,null,e,r,i)):t?.type==="error"&&(this.#i.onError?.(t.error,e,r,i),this.#i.onSettled?.(void 0,t.error,e,r,i))}this.listeners.forEach(e=>{e(this.#e)})})}},T5=class extends Ua{constructor(n={}){super(),this.config=n,this.#t=new Map}#t;build(n,t,e){const r=t.queryKey,i=t.queryHash??i0(r,t);let a=this.get(i);return a||(a=new E5({client:n,queryKey:r,queryHash:i,options:n.defaultQueryOptions(t),state:e,defaultOptions:n.getQueryDefaults(r)}),this.add(a)),a}add(n){this.#t.has(n.queryHash)||(this.#t.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const t=this.#t.get(n.queryHash);t&&(n.destroy(),t===n&&this.#t.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){ln.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#t.get(n)}getAll(){return[...this.#t.values()]}find(n){const t={exact:!0,...n};return this.getAll().find(e=>m3(t,e))}findAll(n={}){const t=this.getAll();return Object.keys(n).length>0?t.filter(e=>m3(n,e)):t}notify(n){ln.batch(()=>{this.listeners.forEach(t=>{t(n)})})}onFocus(){ln.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){ln.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},R5=class{#t;#e;#n;#i;#o;#d;#s;#a;constructor(n={}){this.#t=n.queryCache||new T5,this.#e=n.mutationCache||new F5,this.#n=n.defaultOptions||{},this.#i=new Map,this.#o=new Map,this.#d=0}mount(){this.#d++,this.#d===1&&(this.#s=s0.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=Jd.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#d--,this.#d===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(n){return this.#t.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#e.findAll({...n,status:"pending"}).length}getQueryData(n){const t=this.defaultQueryOptions({queryKey:n});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(n){const t=this.defaultQueryOptions(n),e=this.#t.build(this,t),r=e.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&e.isStaleByTime(jo(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(n){return this.#t.findAll(n).map(({queryKey:t,state:e})=>{const r=e.data;return[t,r]})}setQueryData(n,t,e){const r=this.defaultQueryOptions({queryKey:n}),a=this.#t.get(r.queryHash)?.state.data,l=_5(t,a);if(l!==void 0)return this.#t.build(this,r).setData(l,{...e,manual:!0})}setQueriesData(n,t,e){return ln.batch(()=>this.#t.findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,t,e)]))}getQueryState(n){const t=this.defaultQueryOptions({queryKey:n});return this.#t.get(t.queryHash)?.state}removeQueries(n){const t=this.#t;ln.batch(()=>{t.findAll(n).forEach(e=>{t.remove(e)})})}resetQueries(n,t){const e=this.#t;return ln.batch(()=>(e.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},t)))}cancelQueries(n,t={}){const e={revert:!0,...t},r=ln.batch(()=>this.#t.findAll(n).map(i=>i.cancel(e)));return Promise.all(r).then(Dn).catch(Dn)}invalidateQueries(n,t={}){return ln.batch(()=>(this.#t.findAll(n).forEach(e=>{e.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},t)))}refetchQueries(n,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},r=ln.batch(()=>this.#t.findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,e);return e.throwOnError||(a=a.catch(Dn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Dn)}fetchQuery(n){const t=this.defaultQueryOptions(n);t.retry===void 0&&(t.retry=!1);const e=this.#t.build(this,t);return e.isStaleByTime(jo(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Dn).catch(Dn)}fetchInfiniteQuery(n){return n.behavior=C3(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Dn).catch(Dn)}ensureInfiniteQueryData(n){return n.behavior=C3(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Jd.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,t){this.#i.set(ks(n),{queryKey:n,defaultOptions:t})}getQueryDefaults(n){const t=[...this.#i.values()],e={};return t.forEach(r=>{hl(n,r.queryKey)&&Object.assign(e,r.defaultOptions)}),e}setMutationDefaults(n,t){this.#o.set(ks(n),{mutationKey:n,defaultOptions:t})}getMutationDefaults(n){const t=[...this.#o.values()],e={};return t.forEach(r=>{hl(n,r.mutationKey)&&Object.assign(e,r.defaultOptions)}),e}defaultQueryOptions(n){if(n._defaulted)return n;const t={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return t.queryHash||(t.queryHash=i0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===o0&&(t.enabled=!1),t}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},xb=z.createContext(void 0),Eb=n=>{const t=z.useContext(xb);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},N5=({client:n,children:t})=>(z.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),j.jsx(xb.Provider,{value:n,children:t})),Sb=z.createContext(!1),j5=()=>z.useContext(Sb);Sb.Provider;function D5(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var U5=z.createContext(D5()),z5=()=>z.useContext(U5),$5=(n,t)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(t.isReset()||(n.retryOnMount=!1))},Q5=n=>{z.useEffect(()=>{n.clearReset()},[n])},q5=({result:n,errorResetBoundary:t,throwOnError:e,query:r,suspense:i})=>n.isError&&!t.isReset()&&!n.isFetching&&r&&(i&&n.data===void 0||vb(e,[n.error,r])),W5=n=>{if(n.suspense){const e=i=>i==="static"?i:Math.max(i??1e3,1e3),r=n.staleTime;n.staleTime=typeof r=="function"?(...i)=>e(r(...i)):e(r),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},G5=(n,t)=>n.isLoading&&n.isFetching&&!t,V5=(n,t)=>n?.suspense&&t.isPending,x3=(n,t,e)=>t.fetchOptimistic(n).catch(()=>{e.clearReset()});function K5(n,t,e){const r=j5(),i=z5(),a=Eb(),l=a.defaultQueryOptions(n);a.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=r?"isRestoring":"optimistic",W5(l),$5(l,i),Q5(i);const c=!a.getQueryCache().get(l.queryHash),[g]=z.useState(()=>new t(a,l)),f=g.getOptimisticResult(l),d=!r&&n.subscribed!==!1;if(z.useSyncExternalStore(z.useCallback(y=>{const v=d?g.subscribe(ln.batchCalls(y)):Dn;return g.updateResult(),v},[g,d]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),z.useEffect(()=>{g.setOptions(l)},[l,g]),V5(l,f))throw x3(l,g,i);if(q5({result:f,errorResetBoundary:i,throwOnError:l.throwOnError,query:a.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw f.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(l,f),l.experimental_prefetchInRender&&!Bs&&G5(f,r)&&(c?x3(l,g,i):a.getQueryCache().get(l.queryHash)?.promise)?.catch(Dn).finally(()=>{g.updateResult()}),l.notifyOnChangeProps?f:g.trackResult(f)}function Ob(n,t){return K5(n,S5)}function Sl(n,t){const e=Eb(),[r]=z.useState(()=>new P5(e,n));z.useEffect(()=>{r.setOptions(n)},[r,n]);const i=z.useSyncExternalStore(z.useCallback(l=>r.subscribe(ln.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=z.useCallback((l,c)=>{r.mutate(l,c).catch(Dn)},[r]);if(i.error&&vb(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const H5={},E3=n=>{let t;const e=new Set,r=(d,y)=>{const v=typeof d=="function"?d(t):d;if(!Object.is(v,t)){const w=t;t=y??(typeof v!="object"||v===null)?v:Object.assign({},t,v),e.forEach(F=>F(t,w))}},i=()=>t,g={setState:r,getState:i,getInitialState:()=>f,subscribe:d=>(e.add(d),()=>e.delete(d)),destroy:()=>{(H5?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),e.clear()}},f=t=n(r,i,g);return g},Y5=n=>n?E3(n):E3;var qg={exports:{}},Wg={},Gg={exports:{}},Vg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S3;function Z5(){if(S3)return Vg;S3=1;var n=Ll();function t(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var e=typeof Object.is=="function"?Object.is:t,r=n.useState,i=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function c(y,v){var w=v(),F=r({inst:{value:w,getSnapshot:v}}),B=F[0].inst,x=F[1];return a(function(){B.value=w,B.getSnapshot=v,g(B)&&x({inst:B})},[y,w,v]),i(function(){return g(B)&&x({inst:B}),y(function(){g(B)&&x({inst:B})})},[y]),l(w),w}function g(y){var v=y.getSnapshot;y=y.value;try{var w=v();return!e(y,w)}catch{return!0}}function f(y,v){return v()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Vg.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,Vg}var O3;function X5(){return O3||(O3=1,Gg.exports=Z5()),Gg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B3;function J5(){if(B3)return Wg;B3=1;var n=Ll(),t=X5();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var r=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,a=n.useRef,l=n.useEffect,c=n.useMemo,g=n.useDebugValue;return Wg.useSyncExternalStoreWithSelector=function(f,d,y,v,w){var F=a(null);if(F.current===null){var B={hasValue:!1,value:null};F.current=B}else B=F.current;F=c(function(){function M(P){if(!O){if(O=!0,$=P,P=v(P),w!==void 0&&B.hasValue){var _=B.value;if(w(_,P))return D=_}return D=P}if(_=D,r($,P))return _;var I=v(P);return w!==void 0&&w(_,I)?($=P,_):($=P,D=I)}var O=!1,$,D,V=y===void 0?null:y;return[function(){return M(d())},V===null?void 0:function(){return M(V())}]},[d,y,v,w]);var x=i(f,F[0],F[1]);return l(function(){B.hasValue=!0,B.value=x},[x]),g(x),x},Wg}var k3;function tO(){return k3||(k3=1,qg.exports=J5()),qg.exports}var eO=tO();const nO=pf(eO),{useDebugValue:rO}=Ni,{useSyncExternalStoreWithSelector:iO}=nO,oO=n=>n;function sO(n,t=oO,e){const r=iO(n.subscribe,n.getState,n.getServerState||n.getInitialState,t,e);return rO(r),r}var aO=Symbol.for("react.lazy"),tf=I2[" use ".trim().toString()];function cO(n){return typeof n=="object"&&n!==null&&"then"in n}function Bb(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===aO&&"_payload"in n&&cO(n._payload)}function lO(n){const t=uO(n),e=z.forwardRef((r,i)=>{let{children:a,...l}=r;Bb(a)&&typeof tf=="function"&&(a=tf(a._payload));const c=z.Children.toArray(a),g=c.find(fO);if(g){const f=g.props.children,d=c.map(y=>y===g?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:y);return j.jsx(t,{...l,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,d):null})}return j.jsx(t,{...l,ref:i,children:a})});return e.displayName=`${n}.Slot`,e}var Ol=lO("Slot");function uO(n){const t=z.forwardRef((e,r)=>{let{children:i,...a}=e;if(Bb(i)&&typeof tf=="function"&&(i=tf(i._payload)),z.isValidElement(i)){const l=gO(i),c=hO(a,i.props);return i.type!==z.Fragment&&(c.ref=r?Cl(r,l):l),z.cloneElement(i,c)}return z.Children.count(i)>1?z.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var dO=Symbol("radix.slottable");function fO(n){return z.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===dO}function hO(n,t){const e={...t};for(const r in t){const i=n[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?e[r]=(...c)=>{const g=a(...c);return i(...c),g}:i&&(e[r]=i):r==="style"?e[r]={...i,...a}:r==="className"&&(e[r]=[i,a].filter(Boolean).join(" "))}return{...n,...e}}function gO(n){let t=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=Object.getOwnPropertyDescriptor(n,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}function pO(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function mO(n){var t=pO(n,"string");return typeof t=="symbol"?t:String(t)}function _O(n,t,e){return t=mO(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function M3(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function F3(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(e),!0).forEach(function(r){_O(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):M3(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function P3(n,t){var e={};for(var r in n)e[r]=t(n[r],r);return e}var yO=(n,t,e)=>{for(var r of Object.keys(n)){var i;if(n[r]!==((i=t[r])!==null&&i!==void 0?i:e[r]))return!1}return!0},c0=n=>{var t=e=>{var r=n.defaultClassName,i=F3(F3({},n.defaultVariants),e);for(var a in i){var l,c=(l=i[a])!==null&&l!==void 0?l:n.defaultVariants[a];if(c!=null){var g=c;typeof g=="boolean"&&(g=g===!0?"true":"false");var f=n.variantClassNames[a][g];f&&(r+=" "+f)}}for(var[d,y]of n.compoundVariants)yO(d,i,n.defaultVariants)&&(r+=" "+y);return r};return t.variants=()=>Object.keys(n.variantClassNames),t.classNames={get base(){return n.defaultClassName.split(" ")[0]},get variants(){return P3(n.variantClassNames,e=>P3(e,r=>r.split(" ")[0]))}},t};function kb(n){const t=n+"CollectionProvider",[e,r]=ja(t),[i,a]=e(t,{collectionRef:{current:null},itemMap:new Map}),l=B=>{const{scope:x,children:M}=B,O=Ni.useRef(null),$=Ni.useRef(new Map).current;return j.jsx(i,{scope:x,itemMap:$,collectionRef:O,children:M})};l.displayName=t;const c=n+"CollectionSlot",g=ol(c),f=Ni.forwardRef((B,x)=>{const{scope:M,children:O}=B,$=a(c,M),D=vn(x,$.collectionRef);return j.jsx(g,{ref:D,children:O})});f.displayName=c;const d=n+"CollectionItemSlot",y="data-radix-collection-item",v=ol(d),w=Ni.forwardRef((B,x)=>{const{scope:M,children:O,...$}=B,D=Ni.useRef(null),V=vn(x,D),P=a(d,M);return Ni.useEffect(()=>(P.itemMap.set(D,{ref:D,...$}),()=>void P.itemMap.delete(D))),j.jsx(v,{[y]:"",ref:V,children:O})});w.displayName=d;function F(B){const x=a(n+"CollectionConsumer",B);return Ni.useCallback(()=>{const O=x.collectionRef.current;if(!O)return[];const $=Array.from(O.querySelectorAll(`[${y}]`));return Array.from(x.itemMap.values()).sort((P,_)=>$.indexOf(P.ref.current)-$.indexOf(_.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:l,Slot:f,ItemSlot:w},F,r]}var wO=z.createContext(void 0);function Mb(n){const t=z.useContext(wO);return n||t||"ltr"}const vO=["top","right","bottom","left"],$o=Math.min,ur=Math.max,ef=Math.round,nd=Math.floor,_i=n=>({x:n,y:n}),bO={left:"right",right:"left",bottom:"top",top:"bottom"},AO={start:"end",end:"start"};function Kp(n,t,e){return ur(n,$o(t,e))}function Hi(n,t){return typeof n=="function"?n(t):n}function Yi(n){return n.split("-")[0]}function za(n){return n.split("-")[1]}function l0(n){return n==="x"?"y":"x"}function u0(n){return n==="y"?"height":"width"}const LO=new Set(["top","bottom"]);function pi(n){return LO.has(Yi(n))?"y":"x"}function d0(n){return l0(pi(n))}function CO(n,t,e){e===void 0&&(e=!1);const r=za(n),i=d0(n),a=u0(i);let l=i==="x"?r===(e?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=nf(l)),[l,nf(l)]}function IO(n){const t=nf(n);return[Hp(n),t,Hp(t)]}function Hp(n){return n.replace(/start|end/g,t=>AO[t])}const T3=["left","right"],R3=["right","left"],xO=["top","bottom"],EO=["bottom","top"];function SO(n,t,e){switch(n){case"top":case"bottom":return e?t?R3:T3:t?T3:R3;case"left":case"right":return t?xO:EO;default:return[]}}function OO(n,t,e,r){const i=za(n);let a=SO(Yi(n),e==="start",r);return i&&(a=a.map(l=>l+"-"+i),t&&(a=a.concat(a.map(Hp)))),a}function nf(n){return n.replace(/left|right|bottom|top/g,t=>bO[t])}function BO(n){return{top:0,right:0,bottom:0,left:0,...n}}function Fb(n){return typeof n!="number"?BO(n):{top:n,right:n,bottom:n,left:n}}function rf(n){const{x:t,y:e,width:r,height:i}=n;return{width:r,height:i,top:e,left:t,right:t+r,bottom:e+i,x:t,y:e}}function N3(n,t,e){let{reference:r,floating:i}=n;const a=pi(t),l=d0(t),c=u0(l),g=Yi(t),f=a==="y",d=r.x+r.width/2-i.width/2,y=r.y+r.height/2-i.height/2,v=r[c]/2-i[c]/2;let w;switch(g){case"top":w={x:d,y:r.y-i.height};break;case"bottom":w={x:d,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y};break;case"left":w={x:r.x-i.width,y};break;default:w={x:r.x,y:r.y}}switch(za(t)){case"start":w[l]-=v*(e&&f?-1:1);break;case"end":w[l]+=v*(e&&f?-1:1);break}return w}const kO=async(n,t,e)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=e,c=a.filter(Boolean),g=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:n,floating:t,strategy:i}),{x:d,y}=N3(f,r,g),v=r,w={},F=0;for(let B=0;B<c.length;B++){const{name:x,fn:M}=c[B],{x:O,y:$,data:D,reset:V}=await M({x:d,y,initialPlacement:r,placement:v,strategy:i,middlewareData:w,rects:f,platform:l,elements:{reference:n,floating:t}});d=O??d,y=$??y,w={...w,[x]:{...w[x],...D}},V&&F<=50&&(F++,typeof V=="object"&&(V.placement&&(v=V.placement),V.rects&&(f=V.rects===!0?await l.getElementRects({reference:n,floating:t,strategy:i}):V.rects),{x:d,y}=N3(f,v,g)),B=-1)}return{x:d,y,placement:v,strategy:i,middlewareData:w}};async function gl(n,t){var e;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:l,elements:c,strategy:g}=n,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:y="floating",altBoundary:v=!1,padding:w=0}=Hi(t,n),F=Fb(w),x=c[v?y==="floating"?"reference":"floating":y],M=rf(await a.getClippingRect({element:(e=await(a.isElement==null?void 0:a.isElement(x)))==null||e?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:d,strategy:g})),O=y==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,$=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),D=await(a.isElement==null?void 0:a.isElement($))?await(a.getScale==null?void 0:a.getScale($))||{x:1,y:1}:{x:1,y:1},V=rf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:O,offsetParent:$,strategy:g}):O);return{top:(M.top-V.top+F.top)/D.y,bottom:(V.bottom-M.bottom+F.bottom)/D.y,left:(M.left-V.left+F.left)/D.x,right:(V.right-M.right+F.right)/D.x}}const MO=n=>({name:"arrow",options:n,async fn(t){const{x:e,y:r,placement:i,rects:a,platform:l,elements:c,middlewareData:g}=t,{element:f,padding:d=0}=Hi(n,t)||{};if(f==null)return{};const y=Fb(d),v={x:e,y:r},w=d0(i),F=u0(w),B=await l.getDimensions(f),x=w==="y",M=x?"top":"left",O=x?"bottom":"right",$=x?"clientHeight":"clientWidth",D=a.reference[F]+a.reference[w]-v[w]-a.floating[F],V=v[w]-a.reference[w],P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let _=P?P[$]:0;(!_||!await(l.isElement==null?void 0:l.isElement(P)))&&(_=c.floating[$]||a.floating[F]);const I=D/2-V/2,nt=_/2-B[F]/2-1,rt=$o(y[M],nt),H=$o(y[O],nt),Q=rt,k=_-B[F]-H,W=_/2-B[F]/2+I,tt=Kp(Q,W,k),ct=!g.arrow&&za(i)!=null&&W!==tt&&a.reference[F]/2-(W<Q?rt:H)-B[F]/2<0,ut=ct?W<Q?W-Q:W-k:0;return{[w]:v[w]+ut,data:{[w]:tt,centerOffset:W-tt-ut,...ct&&{alignmentOffset:ut}},reset:ct}}}),FO=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:c,platform:g,elements:f}=t,{mainAxis:d=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:F="none",flipAlignment:B=!0,...x}=Hi(n,t);if((e=a.arrow)!=null&&e.alignmentOffset)return{};const M=Yi(i),O=pi(c),$=Yi(c)===c,D=await(g.isRTL==null?void 0:g.isRTL(f.floating)),V=v||($||!B?[nf(c)]:IO(c)),P=F!=="none";!v&&P&&V.push(...OO(c,B,F,D));const _=[c,...V],I=await gl(t,x),nt=[];let rt=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&nt.push(I[M]),y){const W=CO(i,l,D);nt.push(I[W[0]],I[W[1]])}if(rt=[...rt,{placement:i,overflows:nt}],!nt.every(W=>W<=0)){var H,Q;const W=(((H=a.flip)==null?void 0:H.index)||0)+1,tt=_[W];if(tt&&(!(y==="alignment"?O!==pi(tt):!1)||rt.every(G=>pi(G.placement)===O?G.overflows[0]>0:!0)))return{data:{index:W,overflows:rt},reset:{placement:tt}};let ct=(Q=rt.filter(ut=>ut.overflows[0]<=0).sort((ut,G)=>ut.overflows[1]-G.overflows[1])[0])==null?void 0:Q.placement;if(!ct)switch(w){case"bestFit":{var k;const ut=(k=rt.filter(G=>{if(P){const X=pi(G.placement);return X===O||X==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(X=>X>0).reduce((X,J)=>X+J,0)]).sort((G,X)=>G[1]-X[1])[0])==null?void 0:k[0];ut&&(ct=ut);break}case"initialPlacement":ct=c;break}if(i!==ct)return{reset:{placement:ct}}}return{}}}};function j3(n,t){return{top:n.top-t.height,right:n.right-t.width,bottom:n.bottom-t.height,left:n.left-t.width}}function D3(n){return vO.some(t=>n[t]>=0)}const PO=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(t){const{rects:e}=t,{strategy:r="referenceHidden",...i}=Hi(n,t);switch(r){case"referenceHidden":{const a=await gl(t,{...i,elementContext:"reference"}),l=j3(a,e.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:D3(l)}}}case"escaped":{const a=await gl(t,{...i,altBoundary:!0}),l=j3(a,e.floating);return{data:{escapedOffsets:l,escaped:D3(l)}}}default:return{}}}}},Pb=new Set(["left","top"]);async function TO(n,t){const{placement:e,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Yi(e),c=za(e),g=pi(e)==="y",f=Pb.has(l)?-1:1,d=a&&g?-1:1,y=Hi(t,n);let{mainAxis:v,crossAxis:w,alignmentAxis:F}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof F=="number"&&(w=c==="end"?F*-1:F),g?{x:w*d,y:v*f}:{x:v*f,y:w*d}}const RO=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,r;const{x:i,y:a,placement:l,middlewareData:c}=t,g=await TO(t,n);return l===((e=c.offset)==null?void 0:e.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+g.x,y:a+g.y,data:{...g,placement:l}}}}},NO=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:e,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:x=>{let{x:M,y:O}=x;return{x:M,y:O}}},...g}=Hi(n,t),f={x:e,y:r},d=await gl(t,g),y=pi(Yi(i)),v=l0(y);let w=f[v],F=f[y];if(a){const x=v==="y"?"top":"left",M=v==="y"?"bottom":"right",O=w+d[x],$=w-d[M];w=Kp(O,w,$)}if(l){const x=y==="y"?"top":"left",M=y==="y"?"bottom":"right",O=F+d[x],$=F-d[M];F=Kp(O,F,$)}const B=c.fn({...t,[v]:w,[y]:F});return{...B,data:{x:B.x-e,y:B.y-r,enabled:{[v]:a,[y]:l}}}}}},jO=function(n){return n===void 0&&(n={}),{options:n,fn(t){const{x:e,y:r,placement:i,rects:a,middlewareData:l}=t,{offset:c=0,mainAxis:g=!0,crossAxis:f=!0}=Hi(n,t),d={x:e,y:r},y=pi(i),v=l0(y);let w=d[v],F=d[y];const B=Hi(c,t),x=typeof B=="number"?{mainAxis:B,crossAxis:0}:{mainAxis:0,crossAxis:0,...B};if(g){const $=v==="y"?"height":"width",D=a.reference[v]-a.floating[$]+x.mainAxis,V=a.reference[v]+a.reference[$]-x.mainAxis;w<D?w=D:w>V&&(w=V)}if(f){var M,O;const $=v==="y"?"width":"height",D=Pb.has(Yi(i)),V=a.reference[y]-a.floating[$]+(D&&((M=l.offset)==null?void 0:M[y])||0)+(D?0:x.crossAxis),P=a.reference[y]+a.reference[$]+(D?0:((O=l.offset)==null?void 0:O[y])||0)-(D?x.crossAxis:0);F<V?F=V:F>P&&(F=P)}return{[v]:w,[y]:F}}}},DO=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(t){var e,r;const{placement:i,rects:a,platform:l,elements:c}=t,{apply:g=()=>{},...f}=Hi(n,t),d=await gl(t,f),y=Yi(i),v=za(i),w=pi(i)==="y",{width:F,height:B}=a.floating;let x,M;y==="top"||y==="bottom"?(x=y,M=v===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(M=y,x=v==="end"?"top":"bottom");const O=B-d.top-d.bottom,$=F-d.left-d.right,D=$o(B-d[x],O),V=$o(F-d[M],$),P=!t.middlewareData.shift;let _=D,I=V;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(I=$),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(_=O),P&&!v){const rt=ur(d.left,0),H=ur(d.right,0),Q=ur(d.top,0),k=ur(d.bottom,0);w?I=F-2*(rt!==0||H!==0?rt+H:ur(d.left,d.right)):_=B-2*(Q!==0||k!==0?Q+k:ur(d.top,d.bottom))}await g({...t,availableWidth:I,availableHeight:_});const nt=await l.getDimensions(c.floating);return F!==nt.width||B!==nt.height?{reset:{rects:!0}}:{}}}};function Ef(){return typeof window<"u"}function $a(n){return Tb(n)?(n.nodeName||"").toLowerCase():"#document"}function fr(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function vi(n){var t;return(t=(Tb(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function Tb(n){return Ef()?n instanceof Node||n instanceof fr(n).Node:!1}function Kr(n){return Ef()?n instanceof Element||n instanceof fr(n).Element:!1}function yi(n){return Ef()?n instanceof HTMLElement||n instanceof fr(n).HTMLElement:!1}function U3(n){return!Ef()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof fr(n).ShadowRoot}const UO=new Set(["inline","contents"]);function Bl(n){const{overflow:t,overflowX:e,overflowY:r,display:i}=Hr(n);return/auto|scroll|overlay|hidden|clip/.test(t+r+e)&&!UO.has(i)}const zO=new Set(["table","td","th"]);function $O(n){return zO.has($a(n))}const QO=[":popover-open",":modal"];function Sf(n){return QO.some(t=>{try{return n.matches(t)}catch{return!1}})}const qO=["transform","translate","scale","rotate","perspective"],WO=["transform","translate","scale","rotate","perspective","filter"],GO=["paint","layout","strict","content"];function f0(n){const t=h0(),e=Kr(n)?Hr(n):n;return qO.some(r=>e[r]?e[r]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||WO.some(r=>(e.willChange||"").includes(r))||GO.some(r=>(e.contain||"").includes(r))}function VO(n){let t=Qo(n);for(;yi(t)&&!Fa(t);){if(f0(t))return t;if(Sf(t))return null;t=Qo(t)}return null}function h0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const KO=new Set(["html","body","#document"]);function Fa(n){return KO.has($a(n))}function Hr(n){return fr(n).getComputedStyle(n)}function Of(n){return Kr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Qo(n){if($a(n)==="html")return n;const t=n.assignedSlot||n.parentNode||U3(n)&&n.host||vi(n);return U3(t)?t.host:t}function Rb(n){const t=Qo(n);return Fa(t)?n.ownerDocument?n.ownerDocument.body:n.body:yi(t)&&Bl(t)?t:Rb(t)}function pl(n,t,e){var r;t===void 0&&(t=[]),e===void 0&&(e=!0);const i=Rb(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),l=fr(i);if(a){const c=Yp(l);return t.concat(l,l.visualViewport||[],Bl(i)?i:[],c&&e?pl(c):[])}return t.concat(i,pl(i,[],e))}function Yp(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Nb(n){const t=Hr(n);let e=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=yi(n),a=i?n.offsetWidth:e,l=i?n.offsetHeight:r,c=ef(e)!==a||ef(r)!==l;return c&&(e=a,r=l),{width:e,height:r,$:c}}function g0(n){return Kr(n)?n:n.contextElement}function Sa(n){const t=g0(n);if(!yi(t))return _i(1);const e=t.getBoundingClientRect(),{width:r,height:i,$:a}=Nb(t);let l=(a?ef(e.width):e.width)/r,c=(a?ef(e.height):e.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const HO=_i(0);function jb(n){const t=fr(n);return!h0()||!t.visualViewport?HO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function YO(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==fr(n)?!1:t}function Ms(n,t,e,r){t===void 0&&(t=!1),e===void 0&&(e=!1);const i=n.getBoundingClientRect(),a=g0(n);let l=_i(1);t&&(r?Kr(r)&&(l=Sa(r)):l=Sa(n));const c=YO(a,e,r)?jb(a):_i(0);let g=(i.left+c.x)/l.x,f=(i.top+c.y)/l.y,d=i.width/l.x,y=i.height/l.y;if(a){const v=fr(a),w=r&&Kr(r)?fr(r):r;let F=v,B=Yp(F);for(;B&&r&&w!==F;){const x=Sa(B),M=B.getBoundingClientRect(),O=Hr(B),$=M.left+(B.clientLeft+parseFloat(O.paddingLeft))*x.x,D=M.top+(B.clientTop+parseFloat(O.paddingTop))*x.y;g*=x.x,f*=x.y,d*=x.x,y*=x.y,g+=$,f+=D,F=fr(B),B=Yp(F)}}return rf({width:d,height:y,x:g,y:f})}function Bf(n,t){const e=Of(n).scrollLeft;return t?t.left+e:Ms(vi(n)).left+e}function Db(n,t){const e=n.getBoundingClientRect(),r=e.left+t.scrollLeft-Bf(n,e),i=e.top+t.scrollTop;return{x:r,y:i}}function ZO(n){let{elements:t,rect:e,offsetParent:r,strategy:i}=n;const a=i==="fixed",l=vi(r),c=t?Sf(t.floating):!1;if(r===l||c&&a)return e;let g={scrollLeft:0,scrollTop:0},f=_i(1);const d=_i(0),y=yi(r);if((y||!y&&!a)&&(($a(r)!=="body"||Bl(l))&&(g=Of(r)),yi(r))){const w=Ms(r);f=Sa(r),d.x=w.x+r.clientLeft,d.y=w.y+r.clientTop}const v=l&&!y&&!a?Db(l,g):_i(0);return{width:e.width*f.x,height:e.height*f.y,x:e.x*f.x-g.scrollLeft*f.x+d.x+v.x,y:e.y*f.y-g.scrollTop*f.y+d.y+v.y}}function XO(n){return Array.from(n.getClientRects())}function JO(n){const t=vi(n),e=Of(n),r=n.ownerDocument.body,i=ur(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=ur(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-e.scrollLeft+Bf(n);const c=-e.scrollTop;return Hr(r).direction==="rtl"&&(l+=ur(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:c}}const z3=25;function tB(n,t){const e=fr(n),r=vi(n),i=e.visualViewport;let a=r.clientWidth,l=r.clientHeight,c=0,g=0;if(i){a=i.width,l=i.height;const d=h0();(!d||d&&t==="fixed")&&(c=i.offsetLeft,g=i.offsetTop)}const f=Bf(r);if(f<=0){const d=r.ownerDocument,y=d.body,v=getComputedStyle(y),w=d.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,F=Math.abs(r.clientWidth-y.clientWidth-w);F<=z3&&(a-=F)}else f<=z3&&(a+=f);return{width:a,height:l,x:c,y:g}}const eB=new Set(["absolute","fixed"]);function nB(n,t){const e=Ms(n,!0,t==="fixed"),r=e.top+n.clientTop,i=e.left+n.clientLeft,a=yi(n)?Sa(n):_i(1),l=n.clientWidth*a.x,c=n.clientHeight*a.y,g=i*a.x,f=r*a.y;return{width:l,height:c,x:g,y:f}}function $3(n,t,e){let r;if(t==="viewport")r=tB(n,e);else if(t==="document")r=JO(vi(n));else if(Kr(t))r=nB(t,e);else{const i=jb(n);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return rf(r)}function Ub(n,t){const e=Qo(n);return e===t||!Kr(e)||Fa(e)?!1:Hr(e).position==="fixed"||Ub(e,t)}function rB(n,t){const e=t.get(n);if(e)return e;let r=pl(n,[],!1).filter(c=>Kr(c)&&$a(c)!=="body"),i=null;const a=Hr(n).position==="fixed";let l=a?Qo(n):n;for(;Kr(l)&&!Fa(l);){const c=Hr(l),g=f0(l);!g&&c.position==="fixed"&&(i=null),(a?!g&&!i:!g&&c.position==="static"&&!!i&&eB.has(i.position)||Bl(l)&&!g&&Ub(n,l))?r=r.filter(d=>d!==l):i=c,l=Qo(l)}return t.set(n,r),r}function iB(n){let{element:t,boundary:e,rootBoundary:r,strategy:i}=n;const l=[...e==="clippingAncestors"?Sf(t)?[]:rB(t,this._c):[].concat(e),r],c=l[0],g=l.reduce((f,d)=>{const y=$3(t,d,i);return f.top=ur(y.top,f.top),f.right=$o(y.right,f.right),f.bottom=$o(y.bottom,f.bottom),f.left=ur(y.left,f.left),f},$3(t,c,i));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function oB(n){const{width:t,height:e}=Nb(n);return{width:t,height:e}}function sB(n,t,e){const r=yi(t),i=vi(t),a=e==="fixed",l=Ms(n,!0,a,t);let c={scrollLeft:0,scrollTop:0};const g=_i(0);function f(){g.x=Bf(i)}if(r||!r&&!a)if(($a(t)!=="body"||Bl(i))&&(c=Of(t)),r){const w=Ms(t,!0,a,t);g.x=w.x+t.clientLeft,g.y=w.y+t.clientTop}else i&&f();a&&!r&&i&&f();const d=i&&!r&&!a?Db(i,c):_i(0),y=l.left+c.scrollLeft-g.x-d.x,v=l.top+c.scrollTop-g.y-d.y;return{x:y,y:v,width:l.width,height:l.height}}function Kg(n){return Hr(n).position==="static"}function Q3(n,t){if(!yi(n)||Hr(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return vi(n)===e&&(e=e.ownerDocument.body),e}function zb(n,t){const e=fr(n);if(Sf(n))return e;if(!yi(n)){let i=Qo(n);for(;i&&!Fa(i);){if(Kr(i)&&!Kg(i))return i;i=Qo(i)}return e}let r=Q3(n,t);for(;r&&$O(r)&&Kg(r);)r=Q3(r,t);return r&&Fa(r)&&Kg(r)&&!f0(r)?e:r||VO(n)||e}const aB=async function(n){const t=this.getOffsetParent||zb,e=this.getDimensions,r=await e(n.floating);return{reference:sB(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function cB(n){return Hr(n).direction==="rtl"}const lB={convertOffsetParentRelativeRectToViewportRelativeRect:ZO,getDocumentElement:vi,getClippingRect:iB,getOffsetParent:zb,getElementRects:aB,getClientRects:XO,getDimensions:oB,getScale:Sa,isElement:Kr,isRTL:cB};function $b(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height}function uB(n,t){let e=null,r;const i=vi(n);function a(){var c;clearTimeout(r),(c=e)==null||c.disconnect(),e=null}function l(c,g){c===void 0&&(c=!1),g===void 0&&(g=1),a();const f=n.getBoundingClientRect(),{left:d,top:y,width:v,height:w}=f;if(c||t(),!v||!w)return;const F=nd(y),B=nd(i.clientWidth-(d+v)),x=nd(i.clientHeight-(y+w)),M=nd(d),$={rootMargin:-F+"px "+-B+"px "+-x+"px "+-M+"px",threshold:ur(0,$o(1,g))||1};let D=!0;function V(P){const _=P[0].intersectionRatio;if(_!==g){if(!D)return l();_?l(!1,_):r=setTimeout(()=>{l(!1,1e-7)},1e3)}_===1&&!$b(f,n.getBoundingClientRect())&&l(),D=!1}try{e=new IntersectionObserver(V,{...$,root:i.ownerDocument})}catch{e=new IntersectionObserver(V,$)}e.observe(n)}return l(!0),a}function dB(n,t,e,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:g=!1}=r,f=g0(n),d=i||a?[...f?pl(f):[],...pl(t)]:[];d.forEach(M=>{i&&M.addEventListener("scroll",e,{passive:!0}),a&&M.addEventListener("resize",e)});const y=f&&c?uB(f,e):null;let v=-1,w=null;l&&(w=new ResizeObserver(M=>{let[O]=M;O&&O.target===f&&w&&(w.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var $;($=w)==null||$.observe(t)})),e()}),f&&!g&&w.observe(f),w.observe(t));let F,B=g?Ms(n):null;g&&x();function x(){const M=Ms(n);B&&!$b(B,M)&&e(),B=M,F=requestAnimationFrame(x)}return e(),()=>{var M;d.forEach(O=>{i&&O.removeEventListener("scroll",e),a&&O.removeEventListener("resize",e)}),y?.(),(M=w)==null||M.disconnect(),w=null,g&&cancelAnimationFrame(F)}}const fB=RO,hB=NO,gB=FO,pB=DO,mB=PO,q3=MO,_B=jO,yB=(n,t,e)=>{const r=new Map,i={platform:lB,...e},a={...i.platform,_c:r};return kO(n,t,{...i,platform:a})};var wB=typeof document<"u",vB=function(){},kd=wB?z.useLayoutEffect:vB;function of(n,t){if(n===t)return!0;if(typeof n!=typeof t)return!1;if(typeof n=="function"&&n.toString()===t.toString())return!0;let e,r,i;if(n&&t&&typeof n=="object"){if(Array.isArray(n)){if(e=n.length,e!==t.length)return!1;for(r=e;r--!==0;)if(!of(n[r],t[r]))return!1;return!0}if(i=Object.keys(n),e=i.length,e!==Object.keys(t).length)return!1;for(r=e;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=e;r--!==0;){const a=i[r];if(!(a==="_owner"&&n.$$typeof)&&!of(n[a],t[a]))return!1}return!0}return n!==n&&t!==t}function Qb(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function W3(n,t){const e=Qb(n);return Math.round(t*e)/e}function Hg(n){const t=z.useRef(n);return kd(()=>{t.current=n}),t}function bB(n){n===void 0&&(n={});const{placement:t="bottom",strategy:e="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:g,open:f}=n,[d,y]=z.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[v,w]=z.useState(r);of(v,r)||w(r);const[F,B]=z.useState(null),[x,M]=z.useState(null),O=z.useCallback(G=>{G!==P.current&&(P.current=G,B(G))},[]),$=z.useCallback(G=>{G!==_.current&&(_.current=G,M(G))},[]),D=a||F,V=l||x,P=z.useRef(null),_=z.useRef(null),I=z.useRef(d),nt=g!=null,rt=Hg(g),H=Hg(i),Q=Hg(f),k=z.useCallback(()=>{if(!P.current||!_.current)return;const G={placement:t,strategy:e,middleware:v};H.current&&(G.platform=H.current),yB(P.current,_.current,G).then(X=>{const J={...X,isPositioned:Q.current!==!1};W.current&&!of(I.current,J)&&(I.current=J,E2.flushSync(()=>{y(J)}))})},[v,t,e,H,Q]);kd(()=>{f===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,y(G=>({...G,isPositioned:!1})))},[f]);const W=z.useRef(!1);kd(()=>(W.current=!0,()=>{W.current=!1}),[]),kd(()=>{if(D&&(P.current=D),V&&(_.current=V),D&&V){if(rt.current)return rt.current(D,V,k);k()}},[D,V,k,rt,nt]);const tt=z.useMemo(()=>({reference:P,floating:_,setReference:O,setFloating:$}),[O,$]),ct=z.useMemo(()=>({reference:D,floating:V}),[D,V]),ut=z.useMemo(()=>{const G={position:e,left:0,top:0};if(!ct.floating)return G;const X=W3(ct.floating,d.x),J=W3(ct.floating,d.y);return c?{...G,transform:"translate("+X+"px, "+J+"px)",...Qb(ct.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:X,top:J}},[e,c,ct.floating,d.x,d.y]);return z.useMemo(()=>({...d,update:k,refs:tt,elements:ct,floatingStyles:ut}),[d,k,tt,ct,ut])}const AB=n=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:n,fn(e){const{element:r,padding:i}=typeof n=="function"?n(e):n;return r&&t(r)?r.current!=null?q3({element:r.current,padding:i}).fn(e):{}:r?q3({element:r,padding:i}).fn(e):{}}}},LB=(n,t)=>({...fB(n),options:[n,t]}),CB=(n,t)=>({...hB(n),options:[n,t]}),IB=(n,t)=>({..._B(n),options:[n,t]}),xB=(n,t)=>({...gB(n),options:[n,t]}),EB=(n,t)=>({...pB(n),options:[n,t]}),SB=(n,t)=>({...mB(n),options:[n,t]}),OB=(n,t)=>({...AB(n),options:[n,t]});var BB="Arrow",qb=z.forwardRef((n,t)=>{const{children:e,width:r=10,height:i=5,...a}=n;return j.jsx(Xe.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?e:j.jsx("polygon",{points:"0,0 30,0 15,10"})})});qb.displayName=BB;var kB=qb;function MB(n){const[t,e]=z.useState(void 0);return Do(()=>{if(n){e({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,c;if("borderBoxSize"in a){const g=a.borderBoxSize,f=Array.isArray(g)?g[0]:g;l=f.inlineSize,c=f.blockSize}else l=n.offsetWidth,c=n.offsetHeight;e({width:l,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else e(void 0)},[n]),t}var p0="Popper",[Wb,Gb]=ja(p0),[FB,Vb]=Wb(p0),Kb=n=>{const{__scopePopper:t,children:e}=n,[r,i]=z.useState(null);return j.jsx(FB,{scope:t,anchor:r,onAnchorChange:i,children:e})};Kb.displayName=p0;var Hb="PopperAnchor",Yb=z.forwardRef((n,t)=>{const{__scopePopper:e,virtualRef:r,...i}=n,a=Vb(Hb,e),l=z.useRef(null),c=vn(t,l),g=z.useRef(null);return z.useEffect(()=>{const f=g.current;g.current=r?.current||l.current,f!==g.current&&a.onAnchorChange(g.current)}),r?null:j.jsx(Xe.div,{...i,ref:c})});Yb.displayName=Hb;var m0="PopperContent",[PB,TB]=Wb(m0),Zb=z.forwardRef((n,t)=>{const{__scopePopper:e,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:g=!0,collisionBoundary:f=[],collisionPadding:d=0,sticky:y="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:F,...B}=n,x=Vb(m0,e),[M,O]=z.useState(null),$=vn(t,R=>O(R)),[D,V]=z.useState(null),P=MB(D),_=P?.width??0,I=P?.height??0,nt=r+(a!=="center"?"-"+a:""),rt=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},H=Array.isArray(f)?f:[f],Q=H.length>0,k={padding:rt,boundary:H.filter(NB),altBoundary:Q},{refs:W,floatingStyles:tt,placement:ct,isPositioned:ut,middlewareData:G}=bB({strategy:"fixed",placement:nt,whileElementsMounted:(...R)=>dB(...R,{animationFrame:w==="always"}),elements:{reference:x.anchor},middleware:[LB({mainAxis:i+I,alignmentAxis:l}),g&&CB({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?IB():void 0,...k}),g&&xB({...k}),EB({...k,apply:({elements:R,rects:p,availableWidth:U,availableHeight:T})=>{const{width:C,height:Z}=p.reference,bt=R.floating.style;bt.setProperty("--radix-popper-available-width",`${U}px`),bt.setProperty("--radix-popper-available-height",`${T}px`),bt.setProperty("--radix-popper-anchor-width",`${C}px`),bt.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),D&&OB({element:D,padding:c}),jB({arrowWidth:_,arrowHeight:I}),v&&SB({strategy:"referenceHidden",...k})]}),[X,J]=tA(ct),q=Wi(F);Do(()=>{ut&&q?.()},[ut,q]);const lt=G.arrow?.x,St=G.arrow?.y,Ct=G.arrow?.centerOffset!==0,[E,h]=z.useState();return Do(()=>{M&&h(window.getComputedStyle(M).zIndex)},[M]),j.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...tt,transform:ut?tt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:E,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:j.jsx(PB,{scope:e,placedSide:X,onArrowChange:V,arrowX:lt,arrowY:St,shouldHideArrow:Ct,children:j.jsx(Xe.div,{"data-side":X,"data-align":J,...B,ref:$,style:{...B.style,animation:ut?void 0:"none"}})})})});Zb.displayName=m0;var Xb="PopperArrow",RB={top:"bottom",right:"left",bottom:"top",left:"right"},Jb=z.forwardRef(function(t,e){const{__scopePopper:r,...i}=t,a=TB(Xb,r),l=RB[a.placedSide];return j.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:j.jsx(kB,{...i,ref:e,style:{...i.style,display:"block"}})})});Jb.displayName=Xb;function NB(n){return n!==null}var jB=n=>({name:"transformOrigin",options:n,fn(t){const{placement:e,rects:r,middlewareData:i}=t,l=i.arrow?.centerOffset!==0,c=l?0:n.arrowWidth,g=l?0:n.arrowHeight,[f,d]=tA(e),y={start:"0%",center:"50%",end:"100%"}[d],v=(i.arrow?.x??0)+c/2,w=(i.arrow?.y??0)+g/2;let F="",B="";return f==="bottom"?(F=l?y:`${v}px`,B=`${-g}px`):f==="top"?(F=l?y:`${v}px`,B=`${r.floating.height+g}px`):f==="right"?(F=`${-g}px`,B=l?y:`${w}px`):f==="left"&&(F=`${r.floating.width+g}px`,B=l?y:`${w}px`),{data:{x:F,y:B}}}});function tA(n){const[t,e="center"]=n.split("-");return[t,e]}var DB=Kb,UB=Yb,zB=Zb,$B=Jb,Yg="rovingFocusGroup.onEntryFocus",QB={bubbles:!1,cancelable:!0},kl="RovingFocusGroup",[Zp,eA,qB]=kb(kl),[WB,nA]=ja(kl,[qB]),[GB,VB]=WB(kl),rA=z.forwardRef((n,t)=>j.jsx(Zp.Provider,{scope:n.__scopeRovingFocusGroup,children:j.jsx(Zp.Slot,{scope:n.__scopeRovingFocusGroup,children:j.jsx(KB,{...n,ref:t})})}));rA.displayName=kl;var KB=z.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:e,orientation:r,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:g,onEntryFocus:f,preventScrollOnEntryFocus:d=!1,...y}=n,v=z.useRef(null),w=vn(t,v),F=Mb(a),[B,x]=x2({prop:l,defaultProp:c??null,onChange:g,caller:kl}),[M,O]=z.useState(!1),$=Wi(f),D=eA(e),V=z.useRef(!1),[P,_]=z.useState(0);return z.useEffect(()=>{const I=v.current;if(I)return I.addEventListener(Yg,$),()=>I.removeEventListener(Yg,$)},[$]),j.jsx(GB,{scope:e,orientation:r,dir:F,loop:i,currentTabStopId:B,onItemFocus:z.useCallback(I=>x(I),[x]),onItemShiftTab:z.useCallback(()=>O(!0),[]),onFocusableItemAdd:z.useCallback(()=>_(I=>I+1),[]),onFocusableItemRemove:z.useCallback(()=>_(I=>I-1),[]),children:j.jsx(Xe.div,{tabIndex:M||P===0?-1:0,"data-orientation":r,...y,ref:w,style:{outline:"none",...n.style},onMouseDown:he(n.onMouseDown,()=>{V.current=!0}),onFocus:he(n.onFocus,I=>{const nt=!V.current;if(I.target===I.currentTarget&&nt&&!M){const rt=new CustomEvent(Yg,QB);if(I.currentTarget.dispatchEvent(rt),!rt.defaultPrevented){const H=D().filter(ct=>ct.focusable),Q=H.find(ct=>ct.active),k=H.find(ct=>ct.id===B),tt=[Q,k,...H].filter(Boolean).map(ct=>ct.ref.current);sA(tt,d)}}V.current=!1}),onBlur:he(n.onBlur,()=>O(!1))})})}),iA="RovingFocusGroupItem",oA=z.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:e,focusable:r=!0,active:i=!1,tabStopId:a,children:l,...c}=n,g=Ia(),f=a||g,d=VB(iA,e),y=d.currentTabStopId===f,v=eA(e),{onFocusableItemAdd:w,onFocusableItemRemove:F,currentTabStopId:B}=d;return z.useEffect(()=>{if(r)return w(),()=>F()},[r,w,F]),j.jsx(Zp.ItemSlot,{scope:e,id:f,focusable:r,active:i,children:j.jsx(Xe.span,{tabIndex:y?0:-1,"data-orientation":d.orientation,...c,ref:t,onMouseDown:he(n.onMouseDown,x=>{r?d.onItemFocus(f):x.preventDefault()}),onFocus:he(n.onFocus,()=>d.onItemFocus(f)),onKeyDown:he(n.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const M=ZB(x,d.orientation,d.dir);if(M!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let $=v().filter(D=>D.focusable).map(D=>D.ref.current);if(M==="last")$.reverse();else if(M==="prev"||M==="next"){M==="prev"&&$.reverse();const D=$.indexOf(x.currentTarget);$=d.loop?XB($,D+1):$.slice(D+1)}setTimeout(()=>sA($))}}),children:typeof l=="function"?l({isCurrentTabStop:y,hasTabStop:B!=null}):l})})});oA.displayName=iA;var HB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function YB(n,t){return t!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function ZB(n,t,e){const r=YB(n.key,e);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return HB[r]}function sA(n,t=!1){const e=document.activeElement;for(const r of n)if(r===e||(r.focus({preventScroll:t}),document.activeElement!==e))return}function XB(n,t){return n.map((e,r)=>n[(t+r)%n.length])}var JB=rA,tk=oA,Xp=["Enter"," "],ek=["ArrowDown","PageUp","Home"],aA=["ArrowUp","PageDown","End"],nk=[...ek,...aA],rk={ltr:[...Xp,"ArrowRight"],rtl:[...Xp,"ArrowLeft"]},ik={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ml="Menu",[ml,ok,sk]=kb(Ml),[Rs,cA]=ja(Ml,[sk,Gb,nA]),kf=Gb(),lA=nA(),[ak,Ns]=Rs(Ml),[ck,Fl]=Rs(Ml),uA=n=>{const{__scopeMenu:t,open:e=!1,children:r,dir:i,onOpenChange:a,modal:l=!0}=n,c=kf(t),[g,f]=z.useState(null),d=z.useRef(!1),y=Wi(a),v=Mb(i);return z.useEffect(()=>{const w=()=>{d.current=!0,document.addEventListener("pointerdown",F,{capture:!0,once:!0}),document.addEventListener("pointermove",F,{capture:!0,once:!0})},F=()=>d.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",F,{capture:!0}),document.removeEventListener("pointermove",F,{capture:!0})}},[]),j.jsx(DB,{...c,children:j.jsx(ak,{scope:t,open:e,onOpenChange:y,content:g,onContentChange:f,children:j.jsx(ck,{scope:t,onClose:z.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:d,dir:v,modal:l,children:r})})})};uA.displayName=Ml;var lk="MenuAnchor",_0=z.forwardRef((n,t)=>{const{__scopeMenu:e,...r}=n,i=kf(e);return j.jsx(UB,{...i,...r,ref:t})});_0.displayName=lk;var y0="MenuPortal",[uk,dA]=Rs(y0,{forceMount:void 0}),fA=n=>{const{__scopeMenu:t,forceMount:e,children:r,container:i}=n,a=Ns(y0,t);return j.jsx(uk,{scope:t,forceMount:e,children:j.jsx(qo,{present:e||a.open,children:j.jsx(B2,{asChild:!0,container:i,children:r})})})};fA.displayName=y0;var Sr="MenuContent",[dk,w0]=Rs(Sr),hA=z.forwardRef((n,t)=>{const e=dA(Sr,n.__scopeMenu),{forceMount:r=e.forceMount,...i}=n,a=Ns(Sr,n.__scopeMenu),l=Fl(Sr,n.__scopeMenu);return j.jsx(ml.Provider,{scope:n.__scopeMenu,children:j.jsx(qo,{present:r||a.open,children:j.jsx(ml.Slot,{scope:n.__scopeMenu,children:l.modal?j.jsx(fk,{...i,ref:t}):j.jsx(hk,{...i,ref:t})})})})}),fk=z.forwardRef((n,t)=>{const e=Ns(Sr,n.__scopeMenu),r=z.useRef(null),i=vn(t,r);return z.useEffect(()=>{const a=r.current;if(a)return Sw(a)},[]),j.jsx(v0,{...n,ref:i,trapFocus:e.open,disableOutsidePointerEvents:e.open,disableOutsideScroll:!0,onFocusOutside:he(n.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>e.onOpenChange(!1)})}),hk=z.forwardRef((n,t)=>{const e=Ns(Sr,n.__scopeMenu);return j.jsx(v0,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>e.onOpenChange(!1)})}),gk=ol("MenuContent.ScrollLock"),v0=z.forwardRef((n,t)=>{const{__scopeMenu:e,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:g,onEscapeKeyDown:f,onPointerDownOutside:d,onFocusOutside:y,onInteractOutside:v,onDismiss:w,disableOutsideScroll:F,...B}=n,x=Ns(Sr,e),M=Fl(Sr,e),O=kf(e),$=lA(e),D=ok(e),[V,P]=z.useState(null),_=z.useRef(null),I=vn(t,_,x.onContentChange),nt=z.useRef(0),rt=z.useRef(""),H=z.useRef(0),Q=z.useRef(null),k=z.useRef("right"),W=z.useRef(0),tt=F?k2:z.Fragment,ct=F?{as:gk,allowPinchZoom:!0}:void 0,ut=X=>{const J=rt.current+X,q=D().filter(R=>!R.disabled),lt=document.activeElement,St=q.find(R=>R.ref.current===lt)?.textValue,Ct=q.map(R=>R.textValue),E=xk(Ct,J,St),h=q.find(R=>R.textValue===E)?.ref.current;(function R(p){rt.current=p,window.clearTimeout(nt.current),p!==""&&(nt.current=window.setTimeout(()=>R(""),1e3))})(J),h&&setTimeout(()=>h.focus())};z.useEffect(()=>()=>window.clearTimeout(nt.current),[]),ww();const G=z.useCallback(X=>k.current===Q.current?.side&&Sk(X,Q.current?.area),[]);return j.jsx(dk,{scope:e,searchRef:rt,onItemEnter:z.useCallback(X=>{G(X)&&X.preventDefault()},[G]),onItemLeave:z.useCallback(X=>{G(X)||(_.current?.focus(),P(null))},[G]),onTriggerLeave:z.useCallback(X=>{G(X)&&X.preventDefault()},[G]),pointerGraceTimerRef:H,onPointerGraceIntentChange:z.useCallback(X=>{Q.current=X},[]),children:j.jsx(tt,{...ct,children:j.jsx(O2,{asChild:!0,trapped:i,onMountAutoFocus:he(a,X=>{X.preventDefault(),_.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:j.jsx(S2,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:d,onFocusOutside:y,onInteractOutside:v,onDismiss:w,children:j.jsx(JB,{asChild:!0,...$,dir:M.dir,orientation:"vertical",loop:r,currentTabStopId:V,onCurrentTabStopIdChange:P,onEntryFocus:he(g,X=>{M.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:j.jsx(zB,{role:"menu","aria-orientation":"vertical","data-state":OA(x.open),"data-radix-menu-content":"",dir:M.dir,...O,...B,ref:I,style:{outline:"none",...B.style},onKeyDown:he(B.onKeyDown,X=>{const q=X.target.closest("[data-radix-menu-content]")===X.currentTarget,lt=X.ctrlKey||X.altKey||X.metaKey,St=X.key.length===1;q&&(X.key==="Tab"&&X.preventDefault(),!lt&&St&&ut(X.key));const Ct=_.current;if(X.target!==Ct||!nk.includes(X.key))return;X.preventDefault();const h=D().filter(R=>!R.disabled).map(R=>R.ref.current);aA.includes(X.key)&&h.reverse(),Ck(h)}),onBlur:he(n.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(nt.current),rt.current="")}),onPointerMove:he(n.onPointerMove,_l(X=>{const J=X.target,q=W.current!==X.clientX;if(X.currentTarget.contains(J)&&q){const lt=X.clientX>W.current?"right":"left";k.current=lt,W.current=X.clientX}}))})})})})})})});hA.displayName=Sr;var pk="MenuGroup",b0=z.forwardRef((n,t)=>{const{__scopeMenu:e,...r}=n;return j.jsx(Xe.div,{role:"group",...r,ref:t})});b0.displayName=pk;var mk="MenuLabel",gA=z.forwardRef((n,t)=>{const{__scopeMenu:e,...r}=n;return j.jsx(Xe.div,{...r,ref:t})});gA.displayName=mk;var sf="MenuItem",G3="menu.itemSelect",Mf=z.forwardRef((n,t)=>{const{disabled:e=!1,onSelect:r,...i}=n,a=z.useRef(null),l=Fl(sf,n.__scopeMenu),c=w0(sf,n.__scopeMenu),g=vn(t,a),f=z.useRef(!1),d=()=>{const y=a.current;if(!e&&y){const v=new CustomEvent(G3,{bubbles:!0,cancelable:!0});y.addEventListener(G3,w=>r?.(w),{once:!0}),pw(y,v),v.defaultPrevented?f.current=!1:l.onClose()}};return j.jsx(pA,{...i,ref:g,disabled:e,onClick:he(n.onClick,d),onPointerDown:y=>{n.onPointerDown?.(y),f.current=!0},onPointerUp:he(n.onPointerUp,y=>{f.current||y.currentTarget?.click()}),onKeyDown:he(n.onKeyDown,y=>{const v=c.searchRef.current!=="";e||v&&y.key===" "||Xp.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});Mf.displayName=sf;var pA=z.forwardRef((n,t)=>{const{__scopeMenu:e,disabled:r=!1,textValue:i,...a}=n,l=w0(sf,e),c=lA(e),g=z.useRef(null),f=vn(t,g),[d,y]=z.useState(!1),[v,w]=z.useState("");return z.useEffect(()=>{const F=g.current;F&&w((F.textContent??"").trim())},[a.children]),j.jsx(ml.ItemSlot,{scope:e,disabled:r,textValue:i??v,children:j.jsx(tk,{asChild:!0,...c,focusable:!r,children:j.jsx(Xe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:f,onPointerMove:he(n.onPointerMove,_l(F=>{r?l.onItemLeave(F):(l.onItemEnter(F),F.defaultPrevented||F.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(n.onPointerLeave,_l(F=>l.onItemLeave(F))),onFocus:he(n.onFocus,()=>y(!0)),onBlur:he(n.onBlur,()=>y(!1))})})})}),_k="MenuCheckboxItem",mA=z.forwardRef((n,t)=>{const{checked:e=!1,onCheckedChange:r,...i}=n;return j.jsx(bA,{scope:n.__scopeMenu,checked:e,children:j.jsx(Mf,{role:"menuitemcheckbox","aria-checked":af(e)?"mixed":e,...i,ref:t,"data-state":L0(e),onSelect:he(i.onSelect,()=>r?.(af(e)?!0:!e),{checkForDefaultPrevented:!1})})})});mA.displayName=_k;var _A="MenuRadioGroup",[yk,wk]=Rs(_A,{value:void 0,onValueChange:()=>{}}),yA=z.forwardRef((n,t)=>{const{value:e,onValueChange:r,...i}=n,a=Wi(r);return j.jsx(yk,{scope:n.__scopeMenu,value:e,onValueChange:a,children:j.jsx(b0,{...i,ref:t})})});yA.displayName=_A;var wA="MenuRadioItem",vA=z.forwardRef((n,t)=>{const{value:e,...r}=n,i=wk(wA,n.__scopeMenu),a=e===i.value;return j.jsx(bA,{scope:n.__scopeMenu,checked:a,children:j.jsx(Mf,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":L0(a),onSelect:he(r.onSelect,()=>i.onValueChange?.(e),{checkForDefaultPrevented:!1})})})});vA.displayName=wA;var A0="MenuItemIndicator",[bA,vk]=Rs(A0,{checked:!1}),AA=z.forwardRef((n,t)=>{const{__scopeMenu:e,forceMount:r,...i}=n,a=vk(A0,e);return j.jsx(qo,{present:r||af(a.checked)||a.checked===!0,children:j.jsx(Xe.span,{...i,ref:t,"data-state":L0(a.checked)})})});AA.displayName=A0;var bk="MenuSeparator",LA=z.forwardRef((n,t)=>{const{__scopeMenu:e,...r}=n;return j.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});LA.displayName=bk;var Ak="MenuArrow",CA=z.forwardRef((n,t)=>{const{__scopeMenu:e,...r}=n,i=kf(e);return j.jsx($B,{...i,...r,ref:t})});CA.displayName=Ak;var Lk="MenuSub",[pN,IA]=Rs(Lk),Gc="MenuSubTrigger",xA=z.forwardRef((n,t)=>{const e=Ns(Gc,n.__scopeMenu),r=Fl(Gc,n.__scopeMenu),i=IA(Gc,n.__scopeMenu),a=w0(Gc,n.__scopeMenu),l=z.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:g}=a,f={__scopeMenu:n.__scopeMenu},d=z.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return z.useEffect(()=>d,[d]),z.useEffect(()=>{const y=c.current;return()=>{window.clearTimeout(y),g(null)}},[c,g]),j.jsx(_0,{asChild:!0,...f,children:j.jsx(pA,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":e.open,"aria-controls":i.contentId,"data-state":OA(e.open),...n,ref:Cl(t,i.onTriggerChange),onClick:y=>{n.onClick?.(y),!(n.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),e.open||e.onOpenChange(!0))},onPointerMove:he(n.onPointerMove,_l(y=>{a.onItemEnter(y),!y.defaultPrevented&&!n.disabled&&!e.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{e.onOpenChange(!0),d()},100))})),onPointerLeave:he(n.onPointerLeave,_l(y=>{d();const v=e.content?.getBoundingClientRect();if(v){const w=e.content?.dataset.side,F=w==="right",B=F?-5:5,x=v[F?"left":"right"],M=v[F?"right":"left"];a.onPointerGraceIntentChange({area:[{x:y.clientX+B,y:y.clientY},{x,y:v.top},{x:M,y:v.top},{x:M,y:v.bottom},{x,y:v.bottom}],side:w}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(y),y.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:he(n.onKeyDown,y=>{const v=a.searchRef.current!=="";n.disabled||v&&y.key===" "||rk[r.dir].includes(y.key)&&(e.onOpenChange(!0),e.content?.focus(),y.preventDefault())})})})});xA.displayName=Gc;var EA="MenuSubContent",SA=z.forwardRef((n,t)=>{const e=dA(Sr,n.__scopeMenu),{forceMount:r=e.forceMount,...i}=n,a=Ns(Sr,n.__scopeMenu),l=Fl(Sr,n.__scopeMenu),c=IA(EA,n.__scopeMenu),g=z.useRef(null),f=vn(t,g);return j.jsx(ml.Provider,{scope:n.__scopeMenu,children:j.jsx(qo,{present:r||a.open,children:j.jsx(ml.Slot,{scope:n.__scopeMenu,children:j.jsx(v0,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:f,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{l.isUsingKeyboardRef.current&&g.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:he(n.onFocusOutside,d=>{d.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:he(n.onEscapeKeyDown,d=>{l.onClose(),d.preventDefault()}),onKeyDown:he(n.onKeyDown,d=>{const y=d.currentTarget.contains(d.target),v=ik[l.dir].includes(d.key);y&&v&&(a.onOpenChange(!1),c.trigger?.focus(),d.preventDefault())})})})})})});SA.displayName=EA;function OA(n){return n?"open":"closed"}function af(n){return n==="indeterminate"}function L0(n){return af(n)?"indeterminate":n?"checked":"unchecked"}function Ck(n){const t=document.activeElement;for(const e of n)if(e===t||(e.focus(),document.activeElement!==t))return}function Ik(n,t){return n.map((e,r)=>n[(t+r)%n.length])}function xk(n,t,e){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=e?n.indexOf(e):-1;let l=Ik(n,Math.max(a,0));i.length===1&&(l=l.filter(f=>f!==e));const g=l.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return g!==e?g:void 0}function Ek(n,t){const{x:e,y:r}=n;let i=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const c=t[a],g=t[l],f=c.x,d=c.y,y=g.x,v=g.y;d>r!=v>r&&e<(y-f)*(r-d)/(v-d)+f&&(i=!i)}return i}function Sk(n,t){if(!t)return!1;const e={x:n.clientX,y:n.clientY};return Ek(e,t)}function _l(n){return t=>t.pointerType==="mouse"?n(t):void 0}var Ok=uA,Bk=_0,kk=fA,Mk=hA,Fk=b0,Pk=gA,Tk=Mf,Rk=mA,Nk=yA,jk=vA,Dk=AA,Uk=LA,zk=CA,$k=xA,Qk=SA,Ff="DropdownMenu",[qk]=ja(Ff,[cA]),$n=cA(),[Wk,BA]=qk(Ff),kA=n=>{const{__scopeDropdownMenu:t,children:e,dir:r,open:i,defaultOpen:a,onOpenChange:l,modal:c=!0}=n,g=$n(t),f=z.useRef(null),[d,y]=x2({prop:i,defaultProp:a??!1,onChange:l,caller:Ff});return j.jsx(Wk,{scope:t,triggerId:Ia(),triggerRef:f,contentId:Ia(),open:d,onOpenChange:y,onOpenToggle:z.useCallback(()=>y(v=>!v),[y]),modal:c,children:j.jsx(Ok,{...g,open:d,onOpenChange:y,dir:r,modal:c,children:e})})};kA.displayName=Ff;var MA="DropdownMenuTrigger",FA=z.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,disabled:r=!1,...i}=n,a=BA(MA,e),l=$n(e);return j.jsx(Bk,{asChild:!0,...l,children:j.jsx(Xe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Cl(t,a.triggerRef),onPointerDown:he(n.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:he(n.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});FA.displayName=MA;var Gk="DropdownMenuPortal",PA=n=>{const{__scopeDropdownMenu:t,...e}=n,r=$n(t);return j.jsx(kk,{...r,...e})};PA.displayName=Gk;var TA="DropdownMenuContent",RA=z.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,i=BA(TA,e),a=$n(e),l=z.useRef(!1);return j.jsx(Mk,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:t,onCloseAutoFocus:he(n.onCloseAutoFocus,c=>{l.current||i.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:he(n.onInteractOutside,c=>{const g=c.detail.originalEvent,f=g.button===0&&g.ctrlKey===!0,d=g.button===2||f;(!i.modal||d)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});RA.displayName=TA;var Vk="DropdownMenuGroup",Kk=z.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,i=$n(e);return j.jsx(Fk,{...i,...r,ref:t})});Kk.displayName=Vk;var Hk="DropdownMenuLabel",Yk=z.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,i=$n(e);return j.jsx(Pk,{...i,...r,ref:t})});Yk.displayName=Hk;var Zk="DropdownMenuItem",NA=z.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,i=$n(e);return j.jsx(Tk,{...i,...r,ref:t})});NA.displayName=Zk;var Xk="DropdownMenuCheckboxItem",Jk=z.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,i=$n(e);return j.jsx(Rk,{...i,...r,ref:t})});Jk.displayName=Xk;var tM="DropdownMenuRadioGroup",eM=z.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,i=$n(e);return j.jsx(Nk,{...i,...r,ref:t})});eM.displayName=tM;var nM="DropdownMenuRadioItem",rM=z.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,i=$n(e);return j.jsx(jk,{...i,...r,ref:t})});rM.displayName=nM;var iM="DropdownMenuItemIndicator",oM=z.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,i=$n(e);return j.jsx(Dk,{...i,...r,ref:t})});oM.displayName=iM;var sM="DropdownMenuSeparator",jA=z.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,i=$n(e);return j.jsx(Uk,{...i,...r,ref:t})});jA.displayName=sM;var aM="DropdownMenuArrow",cM=z.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,i=$n(e);return j.jsx(zk,{...i,...r,ref:t})});cM.displayName=aM;var lM="DropdownMenuSubTrigger",uM=z.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,i=$n(e);return j.jsx($k,{...i,...r,ref:t})});uM.displayName=lM;var dM="DropdownMenuSubContent",fM=z.forwardRef((n,t)=>{const{__scopeDropdownMenu:e,...r}=n,i=$n(e);return j.jsx(Qk,{...i,...r,ref:t,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fM.displayName=dM;var hM=kA,gM=FA,pM=PA,mM=RA,DA=NA,_M=jA;const yM={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};class UA extends Error{}class zA extends UA{constructor(t,e){super(t),this.code=e,this.type=yM[e]??"ServerError"}}class wM extends UA{constructor(t,e,r){super(t),this.status=e,this.statusText=r}}var $A=n=>{throw TypeError(n)},C0=(n,t,e)=>t.has(n)||$A("Cannot "+e),Re=(n,t,e)=>(C0(n,t,"read from private field"),e?e.call(n):t.get(n)),as=(n,t,e)=>t.has(n)?$A("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),Oa=(n,t,e,r)=>(C0(n,t,"write to private field"),t.set(n,e),e),QA=(n,t,e)=>(C0(n,t,"access private method"),e),vM=(n,t,e,r)=>({set _(i){Oa(n,t,i)},get _(){return Re(n,t,r)}}),Oo,tl,Di,ys,yl,ws,cf,qA,WA;function bM(n){const t=new URL(n);return t.protocol=t.protocol.replace("http","ws"),t.toString()}const AM={WebSocketConstructor:typeof WebSocket<"u"?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class LM{constructor(t,e={}){if(as(this,cf),as(this,Oo,0),as(this,tl,0),as(this,Di,null),as(this,ys,null),as(this,yl,new Set),as(this,ws,new Map),this.endpoint=t,this.options={...AM,...e},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=bM(this.endpoint))}async makeRequest(t,e,r){const i=await QA(this,cf,qA).call(this);return new Promise((a,l)=>{Oa(this,Oo,Re(this,Oo)+1),Re(this,ws).set(Re(this,Oo),{resolve:a,reject:l,timeout:setTimeout(()=>{Re(this,ws).delete(Re(this,Oo)),l(new Error(`Request timeout: ${t}`))},this.options.callTimeout)}),r?.addEventListener("abort",()=>{Re(this,ws).delete(Re(this,Oo)),l(r.reason)}),i.send(JSON.stringify({jsonrpc:"2.0",id:Re(this,Oo),method:t,params:e}))}).then(({error:a,result:l})=>{if(a)throw new zA(a.message,a.code);return l})}async subscribe(t){const e=new CM(t);return Re(this,yl).add(e),await e.subscribe(this),()=>e.unsubscribe(this)}}Oo=new WeakMap;tl=new WeakMap;Di=new WeakMap;ys=new WeakMap;yl=new WeakMap;ws=new WeakMap;cf=new WeakSet;qA=function(){return Re(this,ys)?Re(this,ys):(Oa(this,ys,new Promise(n=>{Re(this,Di)?.close(),Oa(this,Di,new this.options.WebSocketConstructor(this.endpoint)),Re(this,Di).addEventListener("open",()=>{Oa(this,tl,0),n(Re(this,Di))}),Re(this,Di).addEventListener("close",()=>{vM(this,tl)._++,Re(this,tl)<=this.options.maxReconnects&&setTimeout(()=>{QA(this,cf,WA).call(this)},this.options.reconnectTimeout)}),Re(this,Di).addEventListener("message",({data:t})=>{let e;try{e=JSON.parse(t)}catch(r){console.error(new Error(`Failed to parse RPC message: ${t}`,{cause:r}));return}if("id"in e&&e.id!=null&&Re(this,ws).has(e.id)){const{resolve:r,timeout:i}=Re(this,ws).get(e.id);clearTimeout(i),r(e)}else if("params"in e){const{params:r}=e;Re(this,yl).forEach(i=>{i.subscriptionId===r.subscription&&r.subscription===i.subscriptionId&&i.onMessage(r.result)})}})})),Re(this,ys))};WA=async function(){return Re(this,Di)?.close(),Oa(this,ys,null),Promise.allSettled([...Re(this,yl)].map(n=>n.subscribe(this)))};class CM{constructor(t){this.subscriptionId=null,this.subscribed=!1,this.input=t}onMessage(t){this.subscribed&&this.input.onMessage(t)}async unsubscribe(t){const{subscriptionId:e}=this;return this.subscribed=!1,e==null?!1:(this.subscriptionId=null,t.makeRequest(this.input.unsubscribe,[e]))}async subscribe(t){this.subscriptionId=null,this.subscribed=!0;const e=await t.makeRequest(this.input.method,this.input.params,this.input.signal);this.subscribed&&(this.subscriptionId=e)}}var GA=n=>{throw TypeError(n)},I0=(n,t,e)=>t.has(n)||GA("Cannot "+e),Cr=(n,t,e)=>(I0(n,t,"read from private field"),e?e.call(n):t.get(n)),rd=(n,t,e)=>t.has(n)?GA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),Jp=(n,t,e,r)=>(I0(n,t,"write to private field"),t.set(n,e),e),IM=(n,t,e)=>(I0(n,t,"access private method"),e),Vc,Qr,el,t2,VA;class xM{constructor(t){rd(this,t2),rd(this,Vc,0),rd(this,Qr),rd(this,el),Jp(this,Qr,t)}fetch(t,e){const r=Cr(this,Qr).fetch??fetch;if(!r)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return r(t,e)}async request(t){Jp(this,Vc,Cr(this,Vc)+1);const e=await this.fetch(Cr(this,Qr).rpc?.url??Cr(this,Qr).url,{method:"POST",signal:t.signal,headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":eb,"Client-Target-Api-Version":E6,"Client-Request-Method":t.method,...Cr(this,Qr).rpc?.headers},body:JSON.stringify({jsonrpc:"2.0",id:Cr(this,Vc),method:t.method,params:t.params})});if(!e.ok)throw new wM(`Unexpected status code: ${e.status}`,e.status,e.statusText);const r=await e.json();if("error"in r&&r.error!=null)throw new zA(r.error.message,r.error.code);return r.result}async subscribe(t){const e=await IM(this,t2,VA).call(this).subscribe(t);return t.signal&&(t.signal.throwIfAborted(),t.signal.addEventListener("abort",()=>{e()})),async()=>!!await e()}}Vc=new WeakMap;Qr=new WeakMap;el=new WeakMap;t2=new WeakSet;VA=function(){if(!Cr(this,el)){const n=Cr(this,Qr).WebSocketConstructor??WebSocket;if(!n)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");Jp(this,el,new LM(Cr(this,Qr).websocket?.url??Cr(this,Qr).url,{WebSocketConstructor:n,...Cr(this,Qr).websocket}))}return Cr(this,el)};function Md(n){switch(n){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${n}`)}}class KA{constructor({network:t,base:e,cache:r=e?.cache??new x6}){this.network=t,this.base=e??this,this.cache=r}$extend(...t){return Object.create(this,Object.fromEntries(t.map(e=>[e.name,{value:e.register(this)}])))}}const EM={mainnet:"https://mainnet.mvr.mystenlabs.com",testnet:"https://testnet.mvr.mystenlabs.com"};class SM extends KA{constructor(t){super(t),this.core=this,this.mvr=new B6({cache:this.cache.scope("core.mvr"),url:t.mvr?.url??EM[this.network],pageSize:t.mvr?.pageSize,overrides:t.mvr?.overrides})}async getObject(t){const{objectId:e}=t,{objects:[r]}=await this.getObjects({objectIds:[e],signal:t.signal});if(r instanceof Error)throw r;return{object:r}}async getDynamicField(t){const e=qr.parseFromStr((await this.core.mvr.resolveType({type:t.name.type})).type),r=e8(t.parentId,e,t.name.bcs),{objects:[i]}=await this.getObjects({objectIds:[r],signal:t.signal});if(i instanceof Error)throw i;const a=Es(i.type),l=await i.content;return{dynamicField:{id:i.id,digest:i.digest,version:i.version,type:i.type,previousTransaction:i.previousTransaction,name:{type:typeof a.typeParams[0]=="string"?a.typeParams[0]:Wd(a.typeParams[0]),bcs:t.name.bcs},value:{type:typeof a.typeParams[1]=="string"?a.typeParams[1]:Wd(a.typeParams[1]),bcs:l.slice(Il+t.name.bcs.length)}}}}async waitForTransaction({signal:t,timeout:e=60*1e3,...r}){const i=t?AbortSignal.any([AbortSignal.timeout(e),t]):AbortSignal.timeout(e),a=new Promise((l,c)=>{i.addEventListener("abort",()=>c(i.reason))});for(a.catch(()=>{});;){i.throwIfAborted();try{return await this.getTransaction({...r,signal:i})}catch{await Promise.race([new Promise(l=>setTimeout(l,2e3)),a])}}}}class OM extends Error{}class Ro extends OM{constructor(t,e){super(e),this.code=t}static fromResponse(t,e){switch(t.code){case"notExists":return new Ro(t.code,`Object ${t.object_id} does not exist`);case"dynamicFieldNotFound":return new Ro(t.code,`Dynamic field not found for object ${t.parent_object_id}`);case"deleted":return new Ro(t.code,`Object ${t.object_id} has been deleted`);case"displayError":return new Ro(t.code,`Display error: ${t.error}`);case"unknown":default:return new Ro(t.code,`Unknown error while loading object${e?` ${e}`:""}`)}}}function BM(n){return{...tr.fromBytes(n).snapshot(),bcs:n}}function kM(n){const t=fe.TransactionEffects.parse(n);switch(t.$kind){case"V1":return MM({effects:t.V1});case"V2":return FM({bytes:n,effects:t.V2});default:throw new Error(`Unknown transaction effects version: ${t.$kind}`)}}function MM(n){throw new Error("V1 effects are not supported yet")}function FM({bytes:n,effects:t}){const e=t.changedObjects.map(([r,i])=>({id:r,inputState:i.inputState.$kind==="Exist"?"Exists":"DoesNotExist",inputVersion:i.inputState.Exist?.[0][0]??null,inputDigest:i.inputState.Exist?.[0][1]??null,inputOwner:i.inputState.Exist?.[1]??null,outputState:i.outputState.$kind==="NotExist"?"DoesNotExist":i.outputState.$kind,outputVersion:i.outputState.$kind==="PackageWrite"?i.outputState.PackageWrite?.[0]:i.outputState.ObjectWrite?t.lamportVersion:null,outputDigest:i.outputState.$kind==="PackageWrite"?i.outputState.PackageWrite?.[1]:i.outputState.ObjectWrite?.[0]??null,outputOwner:i.outputState.ObjectWrite?i.outputState.ObjectWrite[1]:null,idOperation:i.idOperation.$kind}));return{bcs:n,digest:t.transactionDigest,version:2,status:t.status.$kind==="Success"?{success:!0,error:null}:{success:!1,error:t.status.Failed.error.$kind},gasUsed:t.gasUsed,transactionDigest:t.transactionDigest,gasObject:t.gasObjectIndex===null?null:e[t.gasObjectIndex]??null,eventsDigest:t.eventsDigest,dependencies:t.dependencies,lamportVersion:t.lamportVersion,changedObjects:e,unchangedConsensusObjects:t.unchangedSharedObjects.map(([r,i])=>({kind:i.$kind==="MutateDeleted"?"MutateConsensusStreamEnded":i.$kind==="ReadDeleted"?"ReadConsensusStreamEnded":i.$kind,objectId:r,version:i.$kind==="ReadOnlyRoot"?i.ReadOnlyRoot[0]:i[i.$kind],digest:i.$kind==="ReadOnlyRoot"?i.ReadOnlyRoot[1]:null})),auxiliaryDataDigest:t.auxDataDigest}}var HA=n=>{throw TypeError(n)},YA=(n,t,e)=>t.has(n)||HA("Cannot "+e),Xn=(n,t,e)=>(YA(n,t,"read from private field"),e?e.call(n):t.get(n)),PM=(n,t,e)=>t.has(n)?HA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),TM=(n,t,e,r)=>(YA(n,t,"write to private field"),t.set(n,e),e),wn;class RM extends SM{constructor({jsonRpcClient:t,mvr:e}){super({network:t.network,base:t,mvr:e}),PM(this,wn),TM(this,wn,t)}async getObjects(t){const e=vf(t.objectIds,50),r=[];for(const i of e){const a=await Xn(this,wn).multiGetObjects({ids:i,options:{showOwner:!0,showType:!0,showBcs:!0,showPreviousTransaction:!0},signal:t.signal});for(const[l,c]of a.entries())c.error?r.push(Ro.fromResponse(c.error,i[l])):r.push(V3(c.data))}return{objects:r}}async getOwnedObjects(t){const e=await Xn(this,wn).getOwnedObjects({owner:t.address,limit:t.limit,cursor:t.cursor,options:{showOwner:!0,showType:!0,showBcs:!0,showPreviousTransaction:!0},filter:t.type?{StructType:t.type}:null,signal:t.signal});return{objects:e.data.map(r=>{if(r.error)throw Ro.fromResponse(r.error);return V3(r.data)}),hasNextPage:e.hasNextPage,cursor:e.nextCursor??null}}async getCoins(t){const e=await Xn(this,wn).getCoins({owner:t.address,coinType:t.coinType,limit:t.limit,cursor:t.cursor,signal:t.signal});return{objects:e.data.map(r=>({id:r.coinObjectId,version:r.version,digest:r.digest,balance:r.balance,type:`0x2::coin::Coin<${r.coinType}>`,content:Promise.resolve(DM.serialize({id:r.coinObjectId,balance:{value:r.balance}}).toBytes()),owner:{$kind:"ObjectOwner",ObjectOwner:t.address},previousTransaction:r.previousTransaction})),hasNextPage:e.hasNextPage,cursor:e.nextCursor??null}}async getBalance(t){const e=await Xn(this,wn).getBalance({owner:t.address,coinType:t.coinType,signal:t.signal});return{balance:{coinType:e.coinType,balance:e.totalBalance}}}async getAllBalances(t){return{balances:(await Xn(this,wn).getAllBalances({owner:t.address,signal:t.signal})).map(r=>({coinType:r.coinType,balance:r.totalBalance})),hasNextPage:!1,cursor:null}}async getTransaction(t){const e=await Xn(this,wn).getTransactionBlock({digest:t.digest,options:{showRawInput:!0,showObjectChanges:!0,showRawEffects:!0,showEvents:!0,showEffects:!0,showBalanceChanges:!0},signal:t.signal});return{transaction:K3(e)}}async executeTransaction(t){const e=await Xn(this,wn).executeTransactionBlock({transactionBlock:t.transaction,signature:t.signatures,options:{showRawEffects:!0,showEvents:!0,showObjectChanges:!0,showRawInput:!0,showEffects:!0,showBalanceChanges:!0},signal:t.signal});return{transaction:K3(e)}}async dryRunTransaction(t){const e=zi.from(t.transaction),r=await Xn(this,wn).dryRunTransactionBlock({transactionBlock:t.transaction,signal:t.signal}),{effects:i,objectTypes:a}=NM({effects:r.effects,objectChanges:r.objectChanges});return{transaction:{digest:await e.getDigest(),epoch:null,effects:i,objectTypes:Promise.resolve(a),signatures:[],transaction:BM(t.transaction),balanceChanges:r.balanceChanges.map(l=>({coinType:l.coinType,address:ZA(l.owner),amount:l.amount}))}}}async getReferenceGasPrice(t){const e=await Xn(this,wn).getReferenceGasPrice({signal:t?.signal});return{referenceGasPrice:String(e)}}async getDynamicFields(t){const e=await Xn(this,wn).getDynamicFields({parentId:t.parentId,limit:t.limit,cursor:t.cursor});return{dynamicFields:e.data.map(r=>({id:r.objectId,type:r.objectType,name:{type:r.name.type,bcs:kn(r.bcsName)}})),hasNextPage:e.hasNextPage,cursor:e.nextCursor}}async verifyZkLoginSignature(t){const e=await Xn(this,wn).verifyZkLoginSignature({bytes:t.bytes,signature:t.signature,intentScope:t.intentScope,author:t.author});return{success:e.success,errors:e.errors}}async defaultNameServiceName(t){return{data:{name:(await Xn(this,wn).resolveNameServiceNames(t)).data[0]}}}resolveTransactionPlugin(){return Yv(Xn(this,wn))}async getMoveFunction(t){const e=await Xn(this,wn).getNormalizedMoveFunction({package:(await this.mvr.resolvePackage({package:t.packageId})).package,module:t.moduleName,function:t.name});return{function:{packageId:me(t.packageId),moduleName:t.moduleName,name:t.name,visibility:zM(e.visibility),isEntry:e.isEntry,typeParameters:e.typeParameters.map(r=>({isPhantom:!1,constraints:UM(r)})),parameters:e.parameters.map(r=>H3(r)),returns:e.return.map(r=>H3(r))}}}}wn=new WeakMap;function V3(n){return{id:n.objectId,version:n.version,digest:n.digest,type:n.type,content:Promise.resolve(n.bcs?.dataType==="moveObject"?kn(n.bcs.bcsBytes):new Uint8Array),owner:_a(n.owner),previousTransaction:n.previousTransaction??null}}function _a(n){if(n==="Immutable")return{$kind:"Immutable",Immutable:!0};if("ConsensusAddressOwner"in n)return{$kind:"ConsensusAddressOwner",ConsensusAddressOwner:{owner:n.ConsensusAddressOwner.owner,startVersion:n.ConsensusAddressOwner.start_version}};if("AddressOwner"in n)return{$kind:"AddressOwner",AddressOwner:n.AddressOwner};if("ObjectOwner"in n)return{$kind:"ObjectOwner",ObjectOwner:n.ObjectOwner};if("Shared"in n)return{$kind:"Shared",Shared:{initialSharedVersion:n.Shared.initial_shared_version}};throw new Error(`Unknown owner type: ${JSON.stringify(n)}`)}function ZA(n){if(n==="Immutable")return null;if("ConsensusAddressOwner"in n)return n.ConsensusAddressOwner.owner;if("AddressOwner"in n)return n.AddressOwner;if("ObjectOwner"in n)return n.ObjectOwner;if("Shared"in n)return null;throw new Error(`Unknown owner type: ${JSON.stringify(n)}`)}function K3(n){const t=fe.SenderSignedData.parse(kn(n.rawTransaction))[0],e={};n.objectChanges?.forEach(a=>{a.type!=="published"&&(e[a.objectId]=a.objectType)});const r=fe.TransactionData.serialize(t.intentMessage.value).toBytes(),i=tr.restore({version:2,sender:t.intentMessage.value.V1.sender,expiration:t.intentMessage.value.V1.expiration,gasData:t.intentMessage.value.V1.gasData,inputs:t.intentMessage.value.V1.kind.ProgrammableTransaction.inputs,commands:t.intentMessage.value.V1.kind.ProgrammableTransaction.commands});return{digest:n.digest,epoch:n.effects?.executedEpoch??null,effects:kM(new Uint8Array(n.rawEffects)),objectTypes:Promise.resolve(e),transaction:{...i,bcs:r},signatures:t.txSignatures,balanceChanges:n.balanceChanges?.map(a=>({coinType:a.coinType,address:ZA(a.owner),amount:a.amount}))??[]}}function NM({bytes:n,effects:t,objectChanges:e}){const r=[],i=[],a={};return e?.forEach(l=>{switch(l.type){case"published":r.push({id:l.packageId,inputState:"DoesNotExist",inputVersion:null,inputDigest:null,inputOwner:null,outputState:"PackageWrite",outputVersion:l.version,outputDigest:l.digest,outputOwner:null,idOperation:"Created"});break;case"transferred":r.push({id:l.objectId,inputState:"Exists",inputVersion:l.version,inputDigest:l.digest,inputOwner:{$kind:"AddressOwner",AddressOwner:l.sender},outputState:"ObjectWrite",outputVersion:l.version,outputDigest:l.digest,outputOwner:_a(l.recipient),idOperation:"None"}),a[l.objectId]=l.objectType;break;case"mutated":r.push({id:l.objectId,inputState:"Exists",inputVersion:l.previousVersion,inputDigest:null,inputOwner:_a(l.owner),outputState:"ObjectWrite",outputVersion:l.version,outputDigest:l.digest,outputOwner:_a(l.owner),idOperation:"None"}),a[l.objectId]=l.objectType;break;case"deleted":r.push({id:l.objectId,inputState:"Exists",inputVersion:l.version,inputDigest:t.deleted?.find(c=>c.objectId===l.objectId)?.digest??null,inputOwner:null,outputState:"DoesNotExist",outputVersion:null,outputDigest:null,outputOwner:null,idOperation:"Deleted"}),a[l.objectId]=l.objectType;break;case"wrapped":r.push({id:l.objectId,inputState:"Exists",inputVersion:l.version,inputDigest:null,inputOwner:{$kind:"AddressOwner",AddressOwner:l.sender},outputState:"ObjectWrite",outputVersion:l.version,outputDigest:t.wrapped?.find(c=>c.objectId===l.objectId)?.digest??null,outputOwner:{$kind:"ObjectOwner",ObjectOwner:l.sender},idOperation:"None"}),a[l.objectId]=l.objectType;break;case"created":r.push({id:l.objectId,inputState:"DoesNotExist",inputVersion:null,inputDigest:null,inputOwner:null,outputState:"ObjectWrite",outputVersion:l.version,outputDigest:l.digest,outputOwner:_a(l.owner),idOperation:"Created"}),a[l.objectId]=l.objectType;break}}),{objectTypes:a,effects:{bcs:n??null,digest:t.transactionDigest,version:2,status:t.status.status==="success"?{success:!0,error:null}:{success:!1,error:t.status.error},gasUsed:t.gasUsed,transactionDigest:t.transactionDigest,gasObject:{id:t.gasObject?.reference.objectId,inputState:"Exists",inputVersion:null,inputDigest:null,inputOwner:null,outputState:"ObjectWrite",outputVersion:t.gasObject.reference.version,outputDigest:t.gasObject.reference.digest,outputOwner:_a(t.gasObject.owner),idOperation:"None"},eventsDigest:t.eventsDigest??null,dependencies:t.dependencies??[],lamportVersion:t.gasObject.reference.version,changedObjects:r,unchangedConsensusObjects:i,auxiliaryDataDigest:null}}}const jM=fe.struct("Balance",{value:fe.u64()}),DM=fe.struct("Coin",{id:fe.Address,balance:jM});function H3(n){if(typeof n!="string"){if("Reference"in n)return{reference:"immutable",body:nl(n.Reference)};if("MutableReference"in n)return{reference:"mutable",body:nl(n.MutableReference)}}return{reference:null,body:nl(n)}}function nl(n){switch(n){case"Address":return{$kind:"address"};case"Bool":return{$kind:"bool"};case"U8":return{$kind:"u8"};case"U16":return{$kind:"u16"};case"U32":return{$kind:"u32"};case"U64":return{$kind:"u64"};case"U128":return{$kind:"u128"};case"U256":return{$kind:"u256"}}if(typeof n=="string")throw new Error(`Unknown type: ${n}`);if("Vector"in n)return{$kind:"vector",vector:nl(n.Vector)};if("Struct"in n)return{$kind:"datatype",datatype:{typeName:`${me(n.Struct.address)}::${n.Struct.module}::${n.Struct.name}`,typeParameters:n.Struct.typeArguments.map(t=>nl(t))}};if("TypeParameter"in n)return{$kind:"typeParameter",index:n.TypeParameter};throw new Error(`Unknown type: ${JSON.stringify(n)}`)}function UM(n){return n.abilities.map(t=>{switch(t){case"Copy":return"copy";case"Drop":return"drop";case"Store":return"store";case"Key":return"key";default:return"unknown"}})}function zM(n){switch(n){case"Public":return"public";case"Private":return"private";case"Friend":return"friend";default:return"unknown"}}const XA=Symbol.for("@mysten/SuiClient");function $M(n){return typeof n=="object"&&n!==null&&n[XA]===!0}class JA extends KA{constructor(t){super({network:t.network??"unknown"}),this.jsonRpc=this,this.transport=t.transport??new xM({url:t.url}),this.core=new RM({jsonRpcClient:this,mvr:t.mvr})}get[XA](){return!0}async getRpcApiVersion({signal:t}={}){return(await this.transport.request({method:"rpc.discover",params:[],signal:t})).info.version}async getCoins({coinType:t,owner:e,cursor:r,limit:i,signal:a}){if(!e||!$r(me(e)))throw new Error("Invalid Sui address");return t&&Bn(t)&&(t=(await this.core.mvr.resolveType({type:t})).type),await this.transport.request({method:"suix_getCoins",params:[e,t,r,i],signal:a})}async getAllCoins(t){if(!t.owner||!$r(me(t.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[t.owner,t.cursor,t.limit],signal:t.signal})}async getBalance({owner:t,coinType:e,signal:r}){if(!t||!$r(me(t)))throw new Error("Invalid Sui address");return e&&Bn(e)&&(e=(await this.core.mvr.resolveType({type:e})).type),await this.transport.request({method:"suix_getBalance",params:[t,e],signal:r})}async getAllBalances(t){if(!t.owner||!$r(me(t.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[t.owner],signal:t.signal})}async getCoinMetadata({coinType:t,signal:e}){return t&&Bn(t)&&(t=(await this.core.mvr.resolveType({type:t})).type),await this.transport.request({method:"suix_getCoinMetadata",params:[t],signal:e})}async getTotalSupply({coinType:t,signal:e}){return t&&Bn(t)&&(t=(await this.core.mvr.resolveType({type:t})).type),await this.transport.request({method:"suix_getTotalSupply",params:[t],signal:e})}async call(t,e,{signal:r}={}){return await this.transport.request({method:t,params:e,signal:r})}async getMoveFunctionArgTypes({package:t,module:e,function:r,signal:i}){return t&&cr(t)&&(t=(await this.core.mvr.resolvePackage({package:t})).package),await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[t,e,r],signal:i})}async getNormalizedMoveModulesByPackage({package:t,signal:e}){return t&&cr(t)&&(t=(await this.core.mvr.resolvePackage({package:t})).package),await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[t],signal:e})}async getNormalizedMoveModule({package:t,module:e,signal:r}){return t&&cr(t)&&(t=(await this.core.mvr.resolvePackage({package:t})).package),await this.transport.request({method:"sui_getNormalizedMoveModule",params:[t,e],signal:r})}async getNormalizedMoveFunction({package:t,module:e,function:r,signal:i}){return t&&cr(t)&&(t=(await this.core.mvr.resolvePackage({package:t})).package),await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[t,e,r],signal:i})}async getNormalizedMoveStruct({package:t,module:e,struct:r,signal:i}){return t&&cr(t)&&(t=(await this.core.mvr.resolvePackage({package:t})).package),await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[t,e,r],signal:i})}async getOwnedObjects(t){if(!t.owner||!$r(me(t.owner)))throw new Error("Invalid Sui address");const e=t.filter?{...t.filter}:void 0;return e&&"MoveModule"in e&&cr(e.MoveModule.package)?e.MoveModule={module:e.MoveModule.module,package:(await this.core.mvr.resolvePackage({package:e.MoveModule.package})).package}:e&&"StructType"in e&&Bn(e.StructType)&&(e.StructType=(await this.core.mvr.resolveType({type:e.StructType})).type),await this.transport.request({method:"suix_getOwnedObjects",params:[t.owner,{filter:e,options:t.options},t.cursor,t.limit],signal:t.signal})}async getObject(t){if(!t.id||!Xu(gi(t.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[t.id,t.options],signal:t.signal})}async tryGetPastObject(t){return await this.transport.request({method:"sui_tryGetPastObject",params:[t.id,t.version,t.options],signal:t.signal})}async multiGetObjects(t){if(t.ids.forEach(r=>{if(!r||!Xu(gi(r)))throw new Error(`Invalid Sui Object id ${r}`)}),t.ids.length!==new Set(t.ids).size)throw new Error(`Duplicate object ids in batch call ${t.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[t.ids,t.options],signal:t.signal})}async queryTransactionBlocks({filter:t,options:e,cursor:r,limit:i,order:a,signal:l}){return t&&"MoveFunction"in t&&cr(t.MoveFunction.package)&&(t={...t,MoveFunction:{package:(await this.core.mvr.resolvePackage({package:t.MoveFunction.package})).package}}),await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:t,options:e},r,i,(a||"descending")==="descending"],signal:l})}async getTransactionBlock(t){if(!Vy(t.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[t.digest,t.options],signal:t.signal})}async multiGetTransactionBlocks(t){if(t.digests.forEach(r=>{if(!Vy(r))throw new Error(`Invalid Transaction digest ${r}`)}),t.digests.length!==new Set(t.digests).size)throw new Error(`Duplicate digests in batch call ${t.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[t.digests,t.options],signal:t.signal})}async executeTransactionBlock({transactionBlock:t,signature:e,options:r,requestType:i,signal:a}){const l=await this.transport.request({method:"sui_executeTransactionBlock",params:[typeof t=="string"?t:Se(t),Array.isArray(e)?e:[e],r],signal:a});if(i==="WaitForLocalExecution")try{await this.waitForTransaction({digest:l.digest})}catch{}return l}async signAndExecuteTransaction({transaction:t,signer:e,...r}){let i;t instanceof Uint8Array?i=t:(t.setSenderIfNotSet(e.toSuiAddress()),i=await t.build({client:this}));const{signature:a,bytes:l}=await e.signTransaction(i);return this.executeTransactionBlock({transactionBlock:l,signature:a,...r})}async getTotalTransactionBlocks({signal:t}={}){const e=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[],signal:t});return BigInt(e)}async getReferenceGasPrice({signal:t}={}){const e=await this.transport.request({method:"suix_getReferenceGasPrice",params:[],signal:t});return BigInt(e)}async getStakes(t){if(!t.owner||!$r(me(t.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[t.owner],signal:t.signal})}async getStakesByIds(t){return t.stakedSuiIds.forEach(e=>{if(!e||!Xu(gi(e)))throw new Error(`Invalid Sui Stake id ${e}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[t.stakedSuiIds],signal:t.signal})}async getLatestSuiSystemState({signal:t}={}){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[],signal:t})}async queryEvents({query:t,cursor:e,limit:r,order:i,signal:a}){return t&&"MoveEventType"in t&&Bn(t.MoveEventType)&&(t={...t,MoveEventType:(await this.core.mvr.resolveType({type:t.MoveEventType})).type}),t&&"MoveEventModule"in t&&cr(t.MoveEventModule.package)&&(t={...t,MoveEventModule:{module:t.MoveEventModule.module,package:(await this.core.mvr.resolvePackage({package:t.MoveEventModule.package})).package}}),"MoveModule"in t&&cr(t.MoveModule.package)&&(t={...t,MoveModule:{module:t.MoveModule.module,package:(await this.core.mvr.resolvePackage({package:t.MoveModule.package})).package}}),await this.transport.request({method:"suix_queryEvents",params:[t,e,r,(i||"descending")==="descending"],signal:a})}async subscribeEvent(t){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[t.filter],onMessage:t.onMessage,signal:t.signal})}async subscribeTransaction(t){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[t.filter],onMessage:t.onMessage,signal:t.signal})}async devInspectTransactionBlock(t){let e;if(db(t.transactionBlock))t.transactionBlock.setSenderIfNotSet(t.sender),e=Se(await t.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if(typeof t.transactionBlock=="string")e=t.transactionBlock;else if(t.transactionBlock instanceof Uint8Array)e=Se(t.transactionBlock);else throw new Error("Unknown transaction block format.");return t.signal?.throwIfAborted(),await this.transport.request({method:"sui_devInspectTransactionBlock",params:[t.sender,e,t.gasPrice?.toString(),t.epoch],signal:t.signal})}async dryRunTransactionBlock(t){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:[typeof t.transactionBlock=="string"?t.transactionBlock:Se(t.transactionBlock)]})}async getDynamicFields(t){if(!t.parentId||!Xu(gi(t.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[t.parentId,t.cursor,t.limit],signal:t.signal})}async getDynamicFieldObject(t){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[t.parentId,t.name],signal:t.signal})}async getLatestCheckpointSequenceNumber({signal:t}={}){const e=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[],signal:t});return String(e)}async getCheckpoint(t){return await this.transport.request({method:"sui_getCheckpoint",params:[t.id],signal:t.signal})}async getCheckpoints(t){return await this.transport.request({method:"sui_getCheckpoints",params:[t.cursor,t?.limit,t.descendingOrder],signal:t.signal})}async getCommitteeInfo(t){return await this.transport.request({method:"suix_getCommitteeInfo",params:[t?.epoch],signal:t?.signal})}async getNetworkMetrics({signal:t}={}){return await this.transport.request({method:"suix_getNetworkMetrics",params:[],signal:t})}async getAddressMetrics({signal:t}={}){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[],signal:t})}async getEpochMetrics(t){return await this.transport.request({method:"suix_getEpochMetrics",params:[t?.cursor,t?.limit,t?.descendingOrder],signal:t?.signal})}async getAllEpochAddressMetrics(t){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[t?.descendingOrder],signal:t?.signal})}async getEpochs(t){return await this.transport.request({method:"suix_getEpochs",params:[t?.cursor,t?.limit,t?.descendingOrder],signal:t?.signal})}async getMoveCallMetrics({signal:t}={}){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[],signal:t})}async getCurrentEpoch({signal:t}={}){return await this.transport.request({method:"suix_getCurrentEpoch",params:[],signal:t})}async getValidatorsApy({signal:t}={}){return await this.transport.request({method:"suix_getValidatorsApy",params:[],signal:t})}async getChainIdentifier({signal:t}={}){const e=await this.getCheckpoint({id:"0",signal:t}),r=al(e.digest);return xs(r.slice(0,4))}async resolveNameServiceAddress(t){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[t.name],signal:t.signal})}async resolveNameServiceNames({format:t="dot",...e}){const{nextCursor:r,hasNextPage:i,data:a}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[e.address,e.cursor,e.limit],signal:e.signal});return{hasNextPage:i,nextCursor:r,data:a.map(l=>r4(l,t))}}async getProtocolConfig(t){return await this.transport.request({method:"sui_getProtocolConfig",params:[t?.version],signal:t?.signal})}async verifyZkLoginSignature(t){return await this.transport.request({method:"sui_verifyZkLoginSignature",params:[t.bytes,t.signature,t.intentScope,t.author],signal:t.signal})}async waitForTransaction({signal:t,timeout:e=60*1e3,pollInterval:r=2*1e3,...i}){const a=AbortSignal.timeout(e),l=new Promise((c,g)=>{a.addEventListener("abort",()=>g(a.reason))});for(l.catch(()=>{});!a.aborted;){t?.throwIfAborted();try{return await this.getTransactionBlock(i)}catch{await Promise.race([new Promise(c=>setTimeout(c,r)),l])}}throw a.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}}const tL=L4(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),QM=tL[0],qM=tL[1],Lo=new Uint32Array(80),Co=new Uint32Array(80);class WM extends A4{constructor(t=64){super(128,t,16,!1),this.Ah=En[0]|0,this.Al=En[1]|0,this.Bh=En[2]|0,this.Bl=En[3]|0,this.Ch=En[4]|0,this.Cl=En[5]|0,this.Dh=En[6]|0,this.Dl=En[7]|0,this.Eh=En[8]|0,this.El=En[9]|0,this.Fh=En[10]|0,this.Fl=En[11]|0,this.Gh=En[12]|0,this.Gl=En[13]|0,this.Hh=En[14]|0,this.Hl=En[15]|0}get(){const{Ah:t,Al:e,Bh:r,Bl:i,Ch:a,Cl:l,Dh:c,Dl:g,Eh:f,El:d,Fh:y,Fl:v,Gh:w,Gl:F,Hh:B,Hl:x}=this;return[t,e,r,i,a,l,c,g,f,d,y,v,w,F,B,x]}set(t,e,r,i,a,l,c,g,f,d,y,v,w,F,B,x){this.Ah=t|0,this.Al=e|0,this.Bh=r|0,this.Bl=i|0,this.Ch=a|0,this.Cl=l|0,this.Dh=c|0,this.Dl=g|0,this.Eh=f|0,this.El=d|0,this.Fh=y|0,this.Fl=v|0,this.Gh=w|0,this.Gl=F|0,this.Hh=B|0,this.Hl=x|0}process(t,e){for(let $=0;$<16;$++,e+=4)Lo[$]=t.getUint32(e),Co[$]=t.getUint32(e+=4);for(let $=16;$<80;$++){const D=Lo[$-15]|0,V=Co[$-15]|0,P=ko(D,V,1)^ko(D,V,8)^Xy(D,V,7),_=Mo(D,V,1)^Mo(D,V,8)^Jy(D,V,7),I=Lo[$-2]|0,nt=Co[$-2]|0,rt=ko(I,nt,19)^Nc(I,nt,61)^Xy(I,nt,6),H=Mo(I,nt,19)^jc(I,nt,61)^Jy(I,nt,6),Q=x4(_,H,Co[$-7],Co[$-16]),k=E4(Q,P,rt,Lo[$-7],Lo[$-16]);Lo[$]=k|0,Co[$]=Q|0}let{Ah:r,Al:i,Bh:a,Bl:l,Ch:c,Cl:g,Dh:f,Dl:d,Eh:y,El:v,Fh:w,Fl:F,Gh:B,Gl:x,Hh:M,Hl:O}=this;for(let $=0;$<80;$++){const D=ko(y,v,14)^ko(y,v,18)^Nc(y,v,41),V=Mo(y,v,14)^Mo(y,v,18)^jc(y,v,41),P=y&w^~y&B,_=v&F^~v&x,I=S4(O,V,_,qM[$],Co[$]),nt=O4(I,M,D,P,QM[$],Lo[$]),rt=I|0,H=ko(r,i,28)^Nc(r,i,34)^Nc(r,i,39),Q=Mo(r,i,28)^jc(r,i,34)^jc(r,i,39),k=r&a^r&c^a&c,W=i&l^i&g^l&g;M=B|0,O=x|0,B=w|0,x=F|0,w=y|0,F=v|0,{h:y,l:v}=Dr(f|0,d|0,nt|0,rt|0),f=c|0,d=g|0,c=a|0,g=l|0,a=r|0,l=i|0;const tt=U2(rt,Q,W);r=z2(tt,nt,H,k),i=tt|0}({h:r,l:i}=Dr(this.Ah|0,this.Al|0,r|0,i|0)),{h:a,l}=Dr(this.Bh|0,this.Bl|0,a|0,l|0),{h:c,l:g}=Dr(this.Ch|0,this.Cl|0,c|0,g|0),{h:f,l:d}=Dr(this.Dh|0,this.Dl|0,f|0,d|0),{h:y,l:v}=Dr(this.Eh|0,this.El|0,y|0,v|0),{h:w,l:F}=Dr(this.Fh|0,this.Fl|0,w|0,F|0),{h:B,l:x}=Dr(this.Gh|0,this.Gl|0,B|0,x|0),{h:M,l:O}=Dr(this.Hh|0,this.Hl|0,M|0,O|0),this.set(r,i,a,l,c,g,f,d,y,v,w,F,B,x,M,O)}roundClean(){Uo(Lo,Co)}destroy(){Uo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const x0=_4(()=>new WM);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const E0=BigInt(0),e2=BigInt(1);function n2(n,t){if(typeof t!="boolean")throw new Error(n+" boolean expected, got "+t)}function eL(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?E0:BigInt("0x"+n)}function GM(n){return eL(bf(n))}function lf(n){return Zr(n),eL(bf(Uint8Array.from(n).reverse()))}function nL(n,t){return mv(n.toString(16).padStart(t*2,"0"))}function S0(n,t){return nL(n,t).reverse()}function Ti(n,t,e){let r;if(typeof t=="string")try{r=mv(t)}catch(a){throw new Error(n+" must be hex string or Uint8Array, cause: "+a)}else if(uv(t))r=Uint8Array.from(t);else throw new Error(n+" must be hex string or Uint8Array");const i=r.length;if(typeof e=="number"&&i!==e)throw new Error(n+" of length "+e+" expected, got "+i);return r}const Zg=n=>typeof n=="bigint"&&E0<=n;function VM(n,t,e){return Zg(n)&&Zg(t)&&Zg(e)&&t<=n&&n<e}function Kc(n,t,e,r){if(!VM(t,e,r))throw new Error("expected valid "+n+": "+e+" <= n < "+r+", got "+t)}function KM(n){let t;for(t=0;n>E0;n>>=e2,t+=1);return t}const O0=n=>(e2<<BigInt(n))-e2;function B0(n,t,e={}){if(!n||typeof n!="object")throw new Error("expected valid options object");function r(i,a,l){const c=n[i];if(l&&c===void 0)return;const g=typeof c;if(g!==a||c===null)throw new Error(`param "${i}" is invalid: expected ${a}, got ${g}`)}Object.entries(t).forEach(([i,a])=>r(i,a,!1)),Object.entries(e).forEach(([i,a])=>r(i,a,!0))}function Y3(n){const t=new WeakMap;return(e,...r)=>{const i=t.get(e);if(i!==void 0)return i;const a=n(e,...r);return t.set(e,a),a}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const er=BigInt(0),Un=BigInt(1),vs=BigInt(2),rL=BigInt(3),iL=BigInt(4),oL=BigInt(5),HM=BigInt(7),sL=BigInt(8),YM=BigInt(9),aL=BigInt(16);function an(n,t){const e=n%t;return e>=er?e:t+e}function ai(n,t,e){let r=n;for(;t-- >er;)r*=r,r%=e;return r}function Z3(n,t){if(n===er)throw new Error("invert: expected non-zero number");if(t<=er)throw new Error("invert: expected positive modulus, got "+t);let e=an(n,t),r=t,i=er,a=Un;for(;e!==er;){const c=r/e,g=r%e,f=i-a*c;r=e,e=g,i=a,a=f}if(r!==Un)throw new Error("invert: does not exist");return an(i,t)}function k0(n,t,e){if(!n.eql(n.sqr(t),e))throw new Error("Cannot find square root")}function cL(n,t){const e=(n.ORDER+Un)/iL,r=n.pow(t,e);return k0(n,r,t),r}function ZM(n,t){const e=(n.ORDER-oL)/sL,r=n.mul(t,vs),i=n.pow(r,e),a=n.mul(t,i),l=n.mul(n.mul(a,vs),i),c=n.mul(a,n.sub(l,n.ONE));return k0(n,c,t),c}function XM(n){const t=Pl(n),e=lL(n),r=e(t,t.neg(t.ONE)),i=e(t,r),a=e(t,t.neg(r)),l=(n+HM)/aL;return(c,g)=>{let f=c.pow(g,l),d=c.mul(f,r);const y=c.mul(f,i),v=c.mul(f,a),w=c.eql(c.sqr(d),g),F=c.eql(c.sqr(y),g);f=c.cmov(f,d,w),d=c.cmov(v,y,F);const B=c.eql(c.sqr(d),g),x=c.cmov(f,d,B);return k0(c,x,g),x}}function lL(n){if(n<rL)throw new Error("sqrt is not defined for small field");let t=n-Un,e=0;for(;t%vs===er;)t/=vs,e++;let r=vs;const i=Pl(n);for(;X3(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(e===1)return cL;let a=i.pow(r,t);const l=(t+Un)/vs;return function(g,f){if(g.is0(f))return f;if(X3(g,f)!==1)throw new Error("Cannot find square root");let d=e,y=g.mul(g.ONE,a),v=g.pow(f,t),w=g.pow(f,l);for(;!g.eql(v,g.ONE);){if(g.is0(v))return g.ZERO;let F=1,B=g.sqr(v);for(;!g.eql(B,g.ONE);)if(F++,B=g.sqr(B),F===d)throw new Error("Cannot find square root");const x=Un<<BigInt(d-F-1),M=g.pow(y,x);d=F,y=g.sqr(M),v=g.mul(v,y),w=g.mul(w,M)}return w}}function JM(n){return n%iL===rL?cL:n%sL===oL?ZM:n%aL===YM?XM(n):lL(n)}const tF=(n,t)=>(an(n,t)&Un)===Un,eF=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nF(n){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},e=eF.reduce((r,i)=>(r[i]="function",r),t);return B0(n,e),n}function rF(n,t,e){if(e<er)throw new Error("invalid exponent, negatives unsupported");if(e===er)return n.ONE;if(e===Un)return t;let r=n.ONE,i=t;for(;e>er;)e&Un&&(r=n.mul(r,i)),i=n.sqr(i),e>>=Un;return r}function uL(n,t,e=!1){const r=new Array(t.length).fill(e?n.ZERO:void 0),i=t.reduce((l,c,g)=>n.is0(c)?l:(r[g]=l,n.mul(l,c)),n.ONE),a=n.inv(i);return t.reduceRight((l,c,g)=>n.is0(c)?l:(r[g]=n.mul(l,r[g]),n.mul(l,c)),a),r}function X3(n,t){const e=(n.ORDER-Un)/vs,r=n.pow(t,e),i=n.eql(r,n.ONE),a=n.eql(r,n.ZERO),l=n.eql(r,n.neg(n.ONE));if(!i&&!a&&!l)throw new Error("invalid Legendre symbol result");return i?1:a?0:-1}function iF(n,t){t!==void 0&&$i(t);const e=t!==void 0?t:n.toString(2).length,r=Math.ceil(e/8);return{nBitLength:e,nByteLength:r}}function Pl(n,t,e=!1,r={}){if(n<=er)throw new Error("invalid field: expected ORDER > 0, got "+n);let i,a,l=!1,c;if(typeof t=="object"&&t!=null){if(r.sqrt||e)throw new Error("cannot specify opts in two arguments");const v=t;v.BITS&&(i=v.BITS),v.sqrt&&(a=v.sqrt),typeof v.isLE=="boolean"&&(e=v.isLE),typeof v.modOnDecode=="boolean"&&(l=v.modOnDecode),c=v.allowedLengths}else typeof t=="number"&&(i=t),r.sqrt&&(a=r.sqrt);const{nBitLength:g,nByteLength:f}=iF(n,i);if(f>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let d;const y=Object.freeze({ORDER:n,isLE:e,BITS:g,BYTES:f,MASK:O0(g),ZERO:er,ONE:Un,allowedLengths:c,create:v=>an(v,n),isValid:v=>{if(typeof v!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof v);return er<=v&&v<n},is0:v=>v===er,isValidNot0:v=>!y.is0(v)&&y.isValid(v),isOdd:v=>(v&Un)===Un,neg:v=>an(-v,n),eql:(v,w)=>v===w,sqr:v=>an(v*v,n),add:(v,w)=>an(v+w,n),sub:(v,w)=>an(v-w,n),mul:(v,w)=>an(v*w,n),pow:(v,w)=>rF(y,v,w),div:(v,w)=>an(v*Z3(w,n),n),sqrN:v=>v*v,addN:(v,w)=>v+w,subN:(v,w)=>v-w,mulN:(v,w)=>v*w,inv:v=>Z3(v,n),sqrt:a||(v=>(d||(d=JM(n)),d(y,v))),toBytes:v=>e?S0(v,f):nL(v,f),fromBytes:(v,w=!0)=>{if(c){if(!c.includes(v.length)||v.length>f)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+v.length);const B=new Uint8Array(f);B.set(v,e?0:B.length-v.length),v=B}if(v.length!==f)throw new Error("Field.fromBytes: expected "+f+" bytes, got "+v.length);let F=e?lf(v):GM(v);if(l&&(F=an(F,n)),!w&&!y.isValid(F))throw new Error("invalid field element: outside of range 0..ORDER");return F},invertBatch:v=>uL(y,v),cmov:(v,w,F)=>F?w:v});return Object.freeze(y)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uf=BigInt(0),r2=BigInt(1);function J3(n,t){const e=t.negate();return n?e:t}function id(n,t){const e=uL(n.Fp,t.map(r=>r.Z));return t.map((r,i)=>n.fromAffine(r.toAffine(e[i])))}function dL(n,t){if(!Number.isSafeInteger(n)||n<=0||n>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+n)}function Xg(n,t){dL(n,t);const e=Math.ceil(t/n)+1,r=2**(n-1),i=2**n,a=O0(n),l=BigInt(n);return{windows:e,windowSize:r,mask:a,maxNumber:i,shiftBy:l}}function t1(n,t,e){const{windowSize:r,mask:i,maxNumber:a,shiftBy:l}=e;let c=Number(n&i),g=n>>l;c>r&&(c-=a,g+=r2);const f=t*r,d=f+Math.abs(c)-1,y=c===0,v=c<0,w=t%2!==0;return{nextN:g,offset:d,isZero:y,isNeg:v,isNegF:w,offsetF:f}}function oF(n,t){if(!Array.isArray(n))throw new Error("array expected");n.forEach((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)})}function sF(n,t){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)})}const Jg=new WeakMap,fL=new WeakMap;function tp(n){return fL.get(n)||1}function e1(n){if(n!==uf)throw new Error("invalid wNAF")}class aF{constructor(t,e){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=e}_unsafeLadder(t,e,r=this.ZERO){let i=t;for(;e>uf;)e&r2&&(r=r.add(i)),i=i.double(),e>>=r2;return r}precomputeWindow(t,e){const{windows:r,windowSize:i}=Xg(e,this.bits),a=[];let l=t,c=l;for(let g=0;g<r;g++){c=l,a.push(c);for(let f=1;f<i;f++)c=c.add(l),a.push(c);l=c.double()}return a}wNAF(t,e,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,a=this.BASE;const l=Xg(t,this.bits);for(let c=0;c<l.windows;c++){const{nextN:g,offset:f,isZero:d,isNeg:y,isNegF:v,offsetF:w}=t1(r,c,l);r=g,d?a=a.add(J3(v,e[w])):i=i.add(J3(y,e[f]))}return e1(r),{p:i,f:a}}wNAFUnsafe(t,e,r,i=this.ZERO){const a=Xg(t,this.bits);for(let l=0;l<a.windows&&r!==uf;l++){const{nextN:c,offset:g,isZero:f,isNeg:d}=t1(r,l,a);if(r=c,!f){const y=e[g];i=i.add(d?y.negate():y)}}return e1(r),i}getPrecomputes(t,e,r){let i=Jg.get(e);return i||(i=this.precomputeWindow(e,t),t!==1&&(typeof r=="function"&&(i=r(i)),Jg.set(e,i))),i}cached(t,e,r){const i=tp(t);return this.wNAF(i,this.getPrecomputes(i,t,r),e)}unsafe(t,e,r,i){const a=tp(t);return a===1?this._unsafeLadder(t,e,i):this.wNAFUnsafe(a,this.getPrecomputes(a,t,r),e,i)}createCache(t,e){dL(e,this.bits),fL.set(t,e),Jg.delete(t)}hasCache(t){return tp(t)!==1}}function cF(n,t,e,r){oF(e,n),sF(r,t);const i=e.length,a=r.length;if(i!==a)throw new Error("arrays of points and scalars must have equal length");const l=n.ZERO,c=KM(BigInt(i));let g=1;c>12?g=c-3:c>4?g=c-2:c>0&&(g=2);const f=O0(g),d=new Array(Number(f)+1).fill(l),y=Math.floor((t.BITS-1)/g)*g;let v=l;for(let w=y;w>=0;w-=g){d.fill(l);for(let B=0;B<a;B++){const x=r[B],M=Number(x>>BigInt(w)&f);d[M]=d[M].add(e[B])}let F=l;for(let B=d.length-1,x=l;B>0;B--)x=x.add(d[B]),F=F.add(x);if(v=v.add(F),w!==0)for(let B=0;B<g;B++)v=v.double()}return v}function n1(n,t){if(t){if(t.ORDER!==n)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return nF(t),t}else return Pl(n)}function lF(n,t,e={}){if(!t||typeof t!="object")throw new Error(`expected valid ${n} CURVE object`);for(const c of["p","n","h"]){const g=t[c];if(!(typeof g=="bigint"&&g>uf))throw new Error(`CURVE.${c} must be positive bigint`)}const r=n1(t.p,e.Fp),i=n1(t.n,e.Fn),l=["Gx","Gy","a","d"];for(const c of l)if(!r.isValid(t[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const li=BigInt(0),on=BigInt(1),ep=BigInt(2),uF=BigInt(8);function dF(n,t,e,r){const i=n.sqr(e),a=n.sqr(r),l=n.add(n.mul(t.a,i),a),c=n.add(n.ONE,n.mul(t.d,n.mul(i,a)));return n.eql(l,c)}function fF(n,t={}){const{Fp:e,Fn:r}=lF("edwards",n,t),{h:i,n:a}=n;B0(t,{},{uvRatio:"function"});const l=ep<<BigInt(r.BYTES*8)-on,c=B=>e.create(B),g=t.uvRatio||((B,x)=>{try{return{isValid:!0,value:e.sqrt(e.div(B,x))}}catch{return{isValid:!1,value:li}}});if(!dF(e,n,n.Gx,n.Gy))throw new Error("bad curve params: generator point");function f(B,x,M=!1){const O=M?on:li;return Kc("coordinate "+B,x,O,l),x}function d(B){if(!(B instanceof w))throw new Error("ExtendedPoint expected")}const y=Y3((B,x)=>{const{X:M,Y:O,Z:$}=B,D=B.is0();x==null&&(x=D?uF:e.inv($));const V=c(M*x),P=c(O*x),_=e.mul($,x);if(D)return{x:li,y:on};if(_!==on)throw new Error("invZ was invalid");return{x:V,y:P}}),v=Y3(B=>{const{a:x,d:M}=n;if(B.is0())throw new Error("bad point: ZERO");const{X:O,Y:$,Z:D,T:V}=B,P=c(O*O),_=c($*$),I=c(D*D),nt=c(I*I),rt=c(P*x),H=c(I*c(rt+_)),Q=c(nt+c(M*c(P*_)));if(H!==Q)throw new Error("bad point: equation left != right (1)");const k=c(O*$),W=c(D*V);if(k!==W)throw new Error("bad point: equation left != right (2)");return!0});class w{constructor(x,M,O,$){this.X=f("x",x),this.Y=f("y",M),this.Z=f("z",O,!0),this.T=f("t",$),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(x){return id(w,x)}static msm(x,M){return cF(w,r,x,M)}_setWindowSize(x){this.precompute(x)}static fromAffine(x){if(x instanceof w)throw new Error("extended point not allowed");const{x:M,y:O}=x||{};return f("x",M),f("y",O),new w(M,O,on,c(M*O))}precompute(x=8,M=!0){return F.createCache(this,x),M||this.multiply(ep),this}assertValidity(){v(this)}equals(x){d(x);const{X:M,Y:O,Z:$}=this,{X:D,Y:V,Z:P}=x,_=c(M*P),I=c(D*$),nt=c(O*P),rt=c(V*$);return _===I&&nt===rt}is0(){return this.equals(w.ZERO)}negate(){return new w(c(-this.X),this.Y,this.Z,c(-this.T))}double(){const{a:x}=n,{X:M,Y:O,Z:$}=this,D=c(M*M),V=c(O*O),P=c(ep*c($*$)),_=c(x*D),I=M+O,nt=c(c(I*I)-D-V),rt=_+V,H=rt-P,Q=_-V,k=c(nt*H),W=c(rt*Q),tt=c(nt*Q),ct=c(H*rt);return new w(k,W,ct,tt)}add(x){d(x);const{a:M,d:O}=n,{X:$,Y:D,Z:V,T:P}=this,{X:_,Y:I,Z:nt,T:rt}=x,H=c($*_),Q=c(D*I),k=c(P*O*rt),W=c(V*nt),tt=c(($+D)*(_+I)-H-Q),ct=W-k,ut=W+k,G=c(Q-M*H),X=c(tt*ct),J=c(ut*G),q=c(tt*G),lt=c(ct*ut);return new w(X,J,lt,q)}subtract(x){return this.add(x.negate())}multiply(x){const M=x;Kc("scalar",M,on,a);const{p:O,f:$}=F.cached(this,M,D=>id(w,D));return id(w,[O,$])[0]}multiplyUnsafe(x,M=w.ZERO){const O=x;return Kc("scalar",O,li,a),O===li?w.ZERO:this.is0()||O===on?this:F.unsafe(this,O,$=>id(w,$),M)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}isTorsionFree(){return F.unsafe(this,a).is0()}toAffine(x){return y(this,x)}clearCofactor(){return i===on?this:this.multiplyUnsafe(i)}static fromBytes(x,M=!1){return Zr(x),w.fromHex(x,M)}static fromHex(x,M=!1){const{d:O,a:$}=n,D=e.BYTES;x=Ti("pointHex",x,D),n2("zip215",M);const V=x.slice(),P=x[D-1];V[D-1]=P&-129;const _=lf(V),I=M?l:e.ORDER;Kc("pointHex.y",_,li,I);const nt=c(_*_),rt=c(nt-on),H=c(O*nt-$);let{isValid:Q,value:k}=g(rt,H);if(!Q)throw new Error("Point.fromHex: invalid y coordinate");const W=(k&on)===on,tt=(P&128)!==0;if(!M&&k===li&&tt)throw new Error("Point.fromHex: x=0 and x_0=1");return tt!==W&&(k=c(-k)),w.fromAffine({x:k,y:_})}toBytes(){const{x,y:M}=this.toAffine(),O=S0(M,e.BYTES);return O[O.length-1]|=x&on?128:0,O}toRawBytes(){return this.toBytes()}toHex(){return bf(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}w.BASE=new w(n.Gx,n.Gy,on,c(n.Gx*n.Gy)),w.ZERO=new w(li,on,on,li),w.Fp=e,w.Fn=r;const F=new aF(w,r.BYTES*8);return w}function hF(n,t,e){if(typeof t!="function")throw new Error('"hash" function param is required');B0(e,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=e,{BASE:i,Fp:a,Fn:l}=n,c=l.ORDER,g=e.randomBytes||w4,f=e.adjustScalarBytes||(H=>H),d=e.domain||((H,Q,k)=>{if(n2("phflag",k),Q.length||k)throw new Error("Contexts/pre-hash are not supported");return H});function y(H){return l.create(H)}function v(H){return y(lf(H))}function w(H){const Q=a.BYTES;H=Ti("private key",H,Q);const k=Ti("hashed private key",t(H),2*Q),W=f(k.slice(0,Q)),tt=k.slice(Q,2*Q),ct=v(W);return{head:W,prefix:tt,scalar:ct}}function F(H){const{head:Q,prefix:k,scalar:W}=w(H),tt=i.multiply(W),ct=tt.toBytes();return{head:Q,prefix:k,scalar:W,point:tt,pointBytes:ct}}function B(H){return F(H).pointBytes}function x(H=Uint8Array.of(),...Q){const k=Yy(...Q);return v(t(d(k,Ti("context",H),!!r)))}function M(H,Q,k={}){H=Ti("message",H),r&&(H=r(H));const{prefix:W,scalar:tt,pointBytes:ct}=F(Q),ut=x(k.context,W,H),G=i.multiply(ut).toBytes(),X=x(k.context,G,ct,H),J=y(ut+X*tt);Kc("signature.s",J,li,c);const q=a.BYTES,lt=Yy(G,S0(J,q));return Ti("result",lt,q*2)}const O={zip215:!0};function $(H,Q,k,W=O){const{context:tt,zip215:ct}=W,ut=a.BYTES;H=Ti("signature",H,2*ut),Q=Ti("message",Q),k=Ti("publicKey",k,ut),ct!==void 0&&n2("zip215",ct),r&&(Q=r(Q));const G=lf(H.slice(ut,2*ut));let X,J,q;try{X=n.fromHex(k,ct),J=n.fromHex(H.slice(0,ut),ct),q=i.multiplyUnsafe(G)}catch{return!1}if(!ct&&X.isSmallOrder())return!1;const lt=x(tt,J.toBytes(),X.toBytes(),Q);return J.add(X.multiplyUnsafe(lt)).subtract(q).clearCofactor().is0()}i.precompute(8);const D=a.BYTES,V={secret:D,public:D,signature:2*D,seed:D};function P(H=g(V.seed)){return H}const _={getExtendedPublicKey:F,randomSecretKey:P,isValidSecretKey:nt,isValidPublicKey:rt,randomPrivateKey:P,toMontgomery(H){const{y:Q}=n.fromBytes(H),k=D===32;if(!k&&D!==57)throw new Error("only defined for 25519 and 448");const W=k?a.div(on+Q,on-Q):a.div(Q-on,Q+on);return a.toBytes(W)},toMontgomeryPriv(H){Zr(H,D);const Q=t(H.subarray(0,D));return f(Q).subarray(0,D)},precompute(H=8,Q=n.BASE){return Q.precompute(H,!1)}};function I(H){const Q=_.randomSecretKey(H);return{secretKey:Q,publicKey:B(Q)}}function nt(H){try{return!!l.fromBytes(H,!1)}catch{return!1}}function rt(H,Q){try{return!!n.fromBytes(H,Q)}catch{return!1}}return Object.freeze({keygen:I,getPublicKey:B,sign:M,verify:$,utils:_,Point:n,info:{type:"edwards",lengths:V}})}function gF(n){const t={a:n.a,d:n.d,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},e=n.Fp,r=Pl(t.n,n.nBitLength,!0),i={Fp:e,Fn:r,uvRatio:n.uvRatio},a={randomBytes:n.randomBytes,adjustScalarBytes:n.adjustScalarBytes,domain:n.domain,prehash:n.prehash,mapToCurve:n.mapToCurve};return{CURVE:t,curveOpts:i,hash:n.hash,eddsaOpts:a}}function pF(n,t){return Object.assign({},t,{ExtendedPoint:t.Point,CURVE:n})}function mF(n){const{CURVE:t,curveOpts:e,hash:r,eddsaOpts:i}=gF(n),a=fF(t,e),l=hF(a,r,i);return pF(n,l)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const _F=BigInt(1),r1=BigInt(2);BigInt(3);const yF=BigInt(5),wF=BigInt(8),Pf={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:wF,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function vF(n){const t=BigInt(10),e=BigInt(20),r=BigInt(40),i=BigInt(80),a=Pf.p,c=n*n%a*n%a,g=ai(c,r1,a)*c%a,f=ai(g,_F,a)*n%a,d=ai(f,yF,a)*f%a,y=ai(d,t,a)*d%a,v=ai(y,e,a)*y%a,w=ai(v,r,a)*v%a,F=ai(w,i,a)*w%a,B=ai(F,i,a)*w%a,x=ai(B,t,a)*d%a;return{pow_p_5_8:ai(x,r1,a)*n%a,b2:c}}function bF(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}const i1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function AF(n,t){const e=Pf.p,r=an(t*t*t,e),i=an(r*r*t,e),a=vF(n*i).pow_p_5_8;let l=an(n*r*a,e);const c=an(t*l*l,e),g=l,f=an(l*i1,e),d=c===n,y=c===an(-n,e),v=c===an(-n*i1,e);return d&&(l=g),(y||v)&&(l=f),tF(l,e)&&(l=an(-l,e)),{isValid:d||y,value:l}}const LF=Pl(Pf.p,{isLE:!0}),CF={...Pf,Fp:LF,hash:x0,adjustScalarBytes:bF,uvRatio:AF},Ri=mF(CF);function hL(n,t){return fe.IntentMessage(fe.bytes(t.length)).serialize({intent:{scope:{[n]:!0},version:{V0:!0},appId:{Sui:!0}},value:t}).toBytes()}const M0={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5,Passkey:6},IF={ED25519:32,Secp256k1:33,Secp256r1:33,Passkey:33},gL={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin",6:"Passkey"};class pL extends D2{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,dv(t);const r=No(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(r.length>i?t.create().update(r).digest():r);for(let l=0;l<a.length;l++)a[l]^=54;this.iHash.update(a),this.oHash=t.create();for(let l=0;l<a.length;l++)a[l]^=106;this.oHash.update(a),Uo(a)}update(t){return ka(this),this.iHash.update(t),this}digestInto(t){ka(this),Zr(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:i,destroyed:a,blockLen:l,outputLen:c}=this;return t=t,t.finished=i,t.destroyed=a,t.blockLen=l,t.outputLen=c,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Tf=(n,t,e)=>new pL(n,t).update(e).digest();Tf.create=(n,t)=>new pL(n,t);function mL(n,t){if(n===t)return!0;if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}class xF{equals(t){return mL(this.toRawBytes(),t.toRawBytes())}toBase64(){return Se(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){const t=this.toSuiBytes();return Se(t)}verifyWithIntent(t,e,r){const i=hL(r,t),a=cl(i,{dkLen:32});return this.verify(a,e)}verifyPersonalMessage(t,e){return this.verifyWithIntent(fe.byteVector().serialize(t).toBytes(),e,"PersonalMessage")}verifyTransaction(t,e){return this.verifyWithIntent(t,e,"TransactionData")}verifyAddress(t){return this.toSuiAddress()===t}toSuiBytes(){const t=this.toRawBytes(),e=new Uint8Array(t.length+1);return e.set([this.flag()]),e.set(t,1),e}toSuiAddress(){return me(bf(cl(this.toSuiBytes(),{dkLen:32})).slice(0,Il*2))}}function EF(n){const t=kn(n),e=gL[t[0]];switch(e){case"ED25519":case"Secp256k1":case"Secp256r1":const r=IF[e],i=t.slice(1,t.length-r),a=t.slice(1+i.length);return{serializedSignature:n,signatureScheme:e,signature:i,publicKey:a,bytes:t};default:throw new Error("Unsupported signature scheme")}}function SF({signature:n,signatureScheme:t,publicKey:e}){if(!e)throw new Error("`publicKey` is required");const r=e.toRawBytes(),i=new Uint8Array(1+n.length+r.length);return i.set([M0[t]]),i.set(n,1),i.set(r,1+n.length),Se(i)}const Fd=32,_L="suiprivkey";class OF{async signWithIntent(t,e){const r=hL(e,t),i=cl(r,{dkLen:32});return{signature:SF({signature:await this.sign(i),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:Se(t)}}async signTransaction(t){return this.signWithIntent(t,"TransactionData")}async signPersonalMessage(t){const{signature:e}=await this.signWithIntent(Y.byteVector().serialize(t).toBytes(),"PersonalMessage");return{bytes:Se(t),signature:e}}async signAndExecuteTransaction({transaction:t,client:e}){const r=await t.build({client:e}),{signature:i}=await this.signTransaction(r);return(await e.core.executeTransaction({transaction:r,signatures:[i]})).transaction}toSuiAddress(){return this.getPublicKey().toSuiAddress()}}class BF extends OF{}function kF(n){const{prefix:t,words:e}=Ud.decode(n);if(t!==_L)throw new Error("invalid private key prefix");const r=new Uint8Array(Ud.fromWords(e)),i=r.slice(1),a=gL[r[0]];return{scheme:a,schema:a,secretKey:i}}function MF(n,t){if(n.length!==Fd)throw new Error("Invalid bytes length");const e=M0[t],r=new Uint8Array(n.length+1);return r.set([e]),r.set(n,1),Ud.encode(_L,Ud.toWords(r))}function FF(n,t,e,r){dv(n);const i=m4({dkLen:32,asyncTick:10},r),{c:a,dkLen:l,asyncTick:c}=i;if($i(a),$i(l),$i(c),a<1)throw new Error("iterations (c) should be >= 1");const g=Hy(t),f=Hy(e),d=new Uint8Array(l),y=Tf.create(n,g),v=y._cloneInto().update(f);return{c:a,dkLen:l,asyncTick:c,DK:d,PRF:y,PRFSalt:v}}function PF(n,t,e,r,i){return n.destroy(),t.destroy(),r&&r.destroy(),Uo(i),e}function TF(n,t,e,r){const{c:i,dkLen:a,DK:l,PRF:c,PRFSalt:g}=FF(n,t,e,r);let f;const d=new Uint8Array(4),y=dd(d),v=new Uint8Array(c.outputLen);for(let w=1,F=0;F<a;w++,F+=c.outputLen){const B=l.subarray(F,F+c.outputLen);y.setInt32(0,w,!1),(f=g._cloneInto(f)).update(d).digestInto(v),B.set(v.subarray(0,B.length));for(let x=1;x<i;x++){c._cloneInto(f).update(v).digestInto(v);for(let M=0;M<B.length;M++)B[M]^=v[M]}}return PF(c,g,l,f,v)}/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */function yL(n){if(typeof n!="string")throw new TypeError("invalid mnemonic type: "+typeof n);return n.normalize("NFKD")}function RF(n){const t=yL(n),e=t.split(" ");if(![12,15,18,21,24].includes(e.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:e}}const NF=n=>yL("mnemonic"+n);function jF(n,t=""){return TF(x0,RF(n).nfkd,NF(t),{c:2048,dkLen:64})}function o1(n){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(n)}function DF(n){return jF(n,"")}function UF(n){return xs(DF(n))}const wL=x0,zF="ed25519 seed",$F=2147483648,QF=new RegExp("^m(\\/[0-9]+')+$"),vL=n=>n.replace("'",""),qF=n=>{const e=Tf.create(wL,zF).update(N2(n)).digest(),r=e.slice(0,32),i=e.slice(32);return{key:r,chainCode:i}},WF=({key:n,chainCode:t},e)=>{const r=new ArrayBuffer(4);new DataView(r).setUint32(0,e);const a=new Uint8Array(1+n.length+r.byteLength);a.set(new Uint8Array(1).fill(0)),a.set(n,1),a.set(new Uint8Array(r,0,r.byteLength),n.length+1);const l=Tf.create(wL,t).update(a).digest(),c=l.slice(0,32),g=l.slice(32);return{key:c,chainCode:g}},GF=n=>QF.test(n)?!n.split("/").slice(1).map(vL).some(isNaN):!1,s1=(n,t,e=$F)=>{if(!GF(n))throw new Error("Invalid derivation path");const{key:r,chainCode:i}=qF(t);return n.split("/").slice(1).map(vL).map(l=>parseInt(l,10)).reduce((l,c)=>WF(l,c+e),{key:r,chainCode:i})},i2=32;class bL extends xF{constructor(t){if(super(),typeof t=="string"?this.data=kn(t):t instanceof Uint8Array?this.data=t:this.data=Uint8Array.from(t),this.data.length!==i2)throw new Error(`Invalid public key input. Expected ${i2} bytes, got ${this.data.length}`)}equals(t){return super.equals(t)}toRawBytes(){return this.data}flag(){return M0.ED25519}async verify(t,e){let r;if(typeof e=="string"){const i=EF(e);if(i.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!mL(this.toRawBytes(),i.publicKey))throw new Error("Signature does not match public key");r=i.signature}else r=e;return Ri.verify(r,t,this.toRawBytes())}}bL.SIZE=i2;const a1="m/44'/784'/0'/0'/0'";class va extends BF{constructor(t){if(super(),t)this.keypair={publicKey:t.publicKey,secretKey:t.secretKey.slice(0,32)};else{const e=Ri.utils.randomPrivateKey();this.keypair={publicKey:Ri.getPublicKey(e),secretKey:e}}}getKeyScheme(){return"ED25519"}static generate(){const t=Ri.utils.randomPrivateKey();return new va({publicKey:Ri.getPublicKey(t),secretKey:t})}static fromSecretKey(t,e){if(typeof t=="string"){const a=kF(t);if(a.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${a.schema}`);return this.fromSecretKey(a.secretKey,e)}const r=t.length;if(r!==Fd)throw new Error(`Wrong secretKey size. Expected ${Fd} bytes, got ${r}.`);const i={publicKey:Ri.getPublicKey(t),secretKey:t};if(!e||!e.skipValidation){const l=new TextEncoder().encode("sui validation"),c=Ri.sign(l,t);if(!Ri.verify(c,l,i.publicKey))throw new Error("provided secretKey is invalid")}return new va(i)}getPublicKey(){return new bL(this.keypair.publicKey)}getSecretKey(){return MF(this.keypair.secretKey.slice(0,Fd),this.getKeyScheme())}async sign(t){return Ri.sign(t,this.keypair.secretKey)}static deriveKeypair(t,e){if(e==null&&(e=a1),!o1(e))throw new Error("Invalid derivation path");const{key:r}=s1(e,UF(t));return va.fromSecretKey(r)}static deriveKeypairFromSeed(t,e){if(e==null&&(e=a1),!o1(e))throw new Error("Invalid derivation path");const{key:r}=s1(e,t);return va.fromSecretKey(r)}}const VF={};function AL(n,t){let e;try{e=n()}catch{return}return{getItem:i=>{var a;const l=g=>g===null?null:JSON.parse(g,void 0),c=(a=e.getItem(i))!=null?a:null;return c instanceof Promise?c.then(l):l(c)},setItem:(i,a)=>e.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>e.removeItem(i)}}const wl=n=>t=>{try{const e=n(t);return e instanceof Promise?e:{then(r){return wl(r)(e)},catch(r){return this}}}catch(e){return{then(r){return this},catch(r){return wl(r)(e)}}}},KF=(n,t)=>(e,r,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,M)=>({...M,...x}),...t},l=!1;const c=new Set,g=new Set;let f;try{f=a.getStorage()}catch{}if(!f)return n((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),e(...x)},r,i);const d=wl(a.serialize),y=()=>{const x=a.partialize({...r()});let M;const O=d({state:x,version:a.version}).then($=>f.setItem(a.name,$)).catch($=>{M=$});if(M)throw M;return O},v=i.setState;i.setState=(x,M)=>{v(x,M),y()};const w=n((...x)=>{e(...x),y()},r,i);let F;const B=()=>{var x;if(!f)return;l=!1,c.forEach(O=>O(r()));const M=((x=a.onRehydrateStorage)==null?void 0:x.call(a,r()))||void 0;return wl(f.getItem.bind(f))(a.name).then(O=>{if(O)return a.deserialize(O)}).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==a.version){if(a.migrate)return a.migrate(O.state,O.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return O.state}).then(O=>{var $;return F=a.merge(O,($=r())!=null?$:w),e(F,!0),y()}).then(()=>{M?.(F,void 0),l=!0,g.forEach(O=>O(F))}).catch(O=>{M?.(void 0,O)})};return i.persist={setOptions:x=>{a={...a,...x},x.getStorage&&(f=x.getStorage())},clearStorage:()=>{f?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>B(),hasHydrated:()=>l,onHydrate:x=>(c.add(x),()=>{c.delete(x)}),onFinishHydration:x=>(g.add(x),()=>{g.delete(x)})},B(),F||w},HF=(n,t)=>(e,r,i)=>{let a={storage:AL(()=>localStorage),partialize:B=>B,version:0,merge:(B,x)=>({...x,...B}),...t},l=!1;const c=new Set,g=new Set;let f=a.storage;if(!f)return n((...B)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),e(...B)},r,i);const d=()=>{const B=a.partialize({...r()});return f.setItem(a.name,{state:B,version:a.version})},y=i.setState;i.setState=(B,x)=>{y(B,x),d()};const v=n((...B)=>{e(...B),d()},r,i);i.getInitialState=()=>v;let w;const F=()=>{var B,x;if(!f)return;l=!1,c.forEach(O=>{var $;return O(($=r())!=null?$:v)});const M=((x=a.onRehydrateStorage)==null?void 0:x.call(a,(B=r())!=null?B:v))||void 0;return wl(f.getItem.bind(f))(a.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==a.version){if(a.migrate)return[!0,a.migrate(O.state,O.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var $;const[D,V]=O;if(w=a.merge(V,($=r())!=null?$:v),e(w,!0),D)return d()}).then(()=>{M?.(w,void 0),w=r(),l=!0,g.forEach(O=>O(w))}).catch(O=>{M?.(void 0,O)})};return i.persist={setOptions:B=>{a={...a,...B},B.storage&&(f=B.storage)},clearStorage:()=>{f?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>F(),hasHydrated:()=>l,onHydrate:B=>(c.add(B),()=>{c.delete(B)}),onFinishHydration:B=>(g.add(B),()=>{g.delete(B)})},a.skipHydration||F(),w||v},YF=(n,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((VF?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),KF(n,t)):HF(n,t),ZF=YF;function c1(n){var t=n.match(/^var\((.*)\)$/);return t?t[1]:n}function XF(n,t){var e=n;for(var r of t){if(!(r in e))throw new Error("Path ".concat(t.join(" -> ")," does not exist in object"));e=e[r]}return e}function F0(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r={};for(var i in n){var a=n[i],l=[...e,i];typeof a=="string"||typeof a=="number"||a==null?r[i]=t(a,l):typeof a=="object"&&!Array.isArray(a)?r[i]=F0(a,t,l):console.warn('Skipping invalid key "'.concat(l.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(a)?"Array":typeof a,'"'))}return r}function JF(n,t){var e={};if(typeof t=="object"){var r=n;F0(t,(c,g)=>{if(c!=null){var f=XF(r,g);e[c1(f)]=String(c)}})}else{var i=n;for(var a in i){var l=i[a];l!=null&&(e[c1(a)]=l)}}return Object.defineProperty(e,"toString",{value:function(){return Object.keys(this).map(g=>"".concat(g,":").concat(this[g])).join(";")},writable:!1}),e}/*! https://mths.be/cssesc v3.0.0 by @mathias */var np,l1;function t7(){if(l1)return np;l1=1;var n={},t=n.hasOwnProperty,e=function(g,f){if(!g)return f;var d={};for(var y in f)d[y]=t.call(g,y)?g[y]:f[y];return d},r=/[ -,\.\/:-@\[-\^`\{-~]/,i=/[ -,\.\/:-@\[\]\^`\{-~]/,a=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,l=function c(g,f){f=e(f,c.options),f.quotes!="single"&&f.quotes!="double"&&(f.quotes="single");for(var d=f.quotes=="double"?'"':"'",y=f.isIdentifier,v=g.charAt(0),w="",F=0,B=g.length;F<B;){var x=g.charAt(F++),M=x.charCodeAt(),O=void 0;if(M<32||M>126){if(M>=55296&&M<=56319&&F<B){var $=g.charCodeAt(F++);($&64512)==56320?M=((M&1023)<<10)+($&1023)+65536:F--}O="\\"+M.toString(16).toUpperCase()+" "}else f.escapeEverything?r.test(x)?O="\\"+x:O="\\"+M.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(x)?O="\\"+M.toString(16).toUpperCase()+" ":x=="\\"||!y&&(x=='"'&&d==x||x=="'"&&d==x)||y&&i.test(x)?O="\\"+x:O=x;w+=O}return y&&(/^-[-\d]/.test(w)?w="\\-"+w.slice(1):/\d/.test(v)&&(w="\\3"+v+" "+w.slice(1))),w=w.replace(a,function(D,V,P){return V&&V.length%2?D:(V||"")+P}),!y&&f.wrap?d+w+d:w};return l.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},l.version="3.0.0",np=l,np}var e7=t7();const n7=pf(e7);var LL=!1,r7=n=>{LL||i7(n)},i7=n=>{if(!n)throw new Error('No adapter provided when calling "setAdapter"');LL=!0};function u1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function d1(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?u1(Object(e),!0).forEach(function(r){o7(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):u1(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function o7(n,t,e){return t=s7(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function s7(n){var t=a7(n,"string");return typeof t=="symbol"?t:String(t)}function a7(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}CL({});function CL(n){return t.withOptions=e=>CL(d1(d1({},n),e)),t;function t(e,...r){const i=typeof e=="string"?[e]:e.raw,{alignValues:a=!1,escapeSpecialCharacters:l=Array.isArray(e),trimWhitespace:c=!0}=n;let g="";for(let y=0;y<i.length;y++){let v=i[y];if(l&&(v=v.replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\\{/g,"{")),g+=v,y<r.length){const w=a?c7(r[y],g):r[y];g+=w}}const f=g.split(`
`);let d=null;for(const y of f){const v=y.match(/^(\s+)\S+/);if(v){const w=v[1].length;d?d=Math.min(d,w):d=w}}if(d!==null){const y=d;g=f.map(v=>v[0]===" "||v[0]==="	"?v.slice(y):v).join(`
`)}return c&&(g=g.trim()),l&&(g=g.replace(/\\n/g,`
`)),g}}function c7(n,t){if(typeof n!="string"||!n.includes(`
`))return n;const r=t.slice(t.lastIndexOf(`
`)+1).match(/^(\s+)/);if(r){const i=r[1];return n.replace(/\n/g,`
${i}`)}return n}var l7={":-moz-any-link":!0,":-moz-full-screen":!0,":-moz-placeholder":!0,":-moz-read-only":!0,":-moz-read-write":!0,":-ms-fullscreen":!0,":-ms-input-placeholder":!0,":-webkit-any-link":!0,":-webkit-full-screen":!0,"::-moz-color-swatch":!0,"::-moz-list-bullet":!0,"::-moz-list-number":!0,"::-moz-page-sequence":!0,"::-moz-page":!0,"::-moz-placeholder":!0,"::-moz-progress-bar":!0,"::-moz-range-progress":!0,"::-moz-range-thumb":!0,"::-moz-range-track":!0,"::-moz-scrolled-page-sequence":!0,"::-moz-selection":!0,"::-ms-backdrop":!0,"::-ms-browse":!0,"::-ms-check":!0,"::-ms-clear":!0,"::-ms-fill-lower":!0,"::-ms-fill-upper":!0,"::-ms-fill":!0,"::-ms-reveal":!0,"::-ms-thumb":!0,"::-ms-ticks-after":!0,"::-ms-ticks-before":!0,"::-ms-tooltip":!0,"::-ms-track":!0,"::-ms-value":!0,"::-webkit-backdrop":!0,"::-webkit-calendar-picker-indicator":!0,"::-webkit-inner-spin-button":!0,"::-webkit-input-placeholder":!0,"::-webkit-meter-bar":!0,"::-webkit-meter-even-less-good-value":!0,"::-webkit-meter-inner-element":!0,"::-webkit-meter-optimum-value":!0,"::-webkit-meter-suboptimum-value":!0,"::-webkit-outer-spin-button":!0,"::-webkit-progress-bar":!0,"::-webkit-progress-inner-element":!0,"::-webkit-progress-inner-value":!0,"::-webkit-progress-value":!0,"::-webkit-resizer":!0,"::-webkit-scrollbar-button":!0,"::-webkit-scrollbar-corner":!0,"::-webkit-scrollbar-thumb":!0,"::-webkit-scrollbar-track-piece":!0,"::-webkit-scrollbar-track":!0,"::-webkit-scrollbar":!0,"::-webkit-search-cancel-button":!0,"::-webkit-search-results-button":!0,"::-webkit-slider-runnable-track":!0,"::-webkit-slider-thumb":!0,"::after":!0,"::backdrop":!0,"::before":!0,"::cue":!0,"::file-selector-button":!0,"::first-letter":!0,"::first-line":!0,"::grammar-error":!0,"::marker":!0,"::placeholder":!0,"::selection":!0,"::spelling-error":!0,"::target-text":!0,"::view-transition-group":!0,"::view-transition-image-pair":!0,"::view-transition-new":!0,"::view-transition-old":!0,"::view-transition":!0,":active":!0,":after":!0,":any-link":!0,":before":!0,":blank":!0,":checked":!0,":default":!0,":defined":!0,":disabled":!0,":empty":!0,":enabled":!0,":first-child":!0,":first-letter":!0,":first-line":!0,":first-of-type":!0,":first":!0,":focus-visible":!0,":focus-within":!0,":focus":!0,":fullscreen":!0,":hover":!0,":in-range":!0,":indeterminate":!0,":invalid":!0,":last-child":!0,":last-of-type":!0,":left":!0,":link":!0,":only-child":!0,":only-of-type":!0,":optional":!0,":out-of-range":!0,":placeholder-shown":!0,":read-only":!0,":read-write":!0,":required":!0,":right":!0,":root":!0,":scope":!0,":target":!0,":valid":!0,":visited":!0},u7=Object.keys(l7);[...u7];const ga=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,IL=new Set,o2=typeof process=="object"&&process?process:{},xL=(n,t,e,r)=>{typeof o2.emitWarning=="function"?o2.emitWarning(n,t,e,r):console.error(`[${e}] ${t}: ${n}`)};let df=globalThis.AbortController,f1=globalThis.AbortSignal;if(typeof df>"u"){f1=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(r,i){this._onabort.push(i)}},df=class{constructor(){t()}signal=new f1;abort(r){if(!this.signal.aborted){this.signal.reason=r,this.signal.aborted=!0;for(const i of this.signal._onabort)i(r);this.signal.onabort?.(r)}}};let n=o2.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{n&&(n=!1,xL("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const d7=n=>!IL.has(n),Bo=n=>n&&n===Math.floor(n)&&n>0&&isFinite(n),EL=n=>Bo(n)?n<=Math.pow(2,8)?Uint8Array:n<=Math.pow(2,16)?Uint16Array:n<=Math.pow(2,32)?Uint32Array:n<=Number.MAX_SAFE_INTEGER?Pd:null:null;class Pd extends Array{constructor(t){super(t),this.fill(0)}}class ba{heap;length;static#t=!1;static create(t){const e=EL(t);if(!e)return[];ba.#t=!0;const r=new ba(t,e);return ba.#t=!1,r}constructor(t,e){if(!ba.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class P0{#t;#e;#n;#i;#o;#d;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#a;#u;#c;#r;#p;#m;#f;#h;#y;#g;#v;#b;#w;#A;#C;#_;static unsafeExposeInternals(t){return{starts:t.#b,ttls:t.#w,sizes:t.#v,keyMap:t.#u,keyList:t.#c,valList:t.#r,next:t.#p,prev:t.#m,get head(){return t.#f},get tail(){return t.#h},free:t.#y,isBackgroundFetch:e=>t.#l(e),backgroundFetch:(e,r,i,a)=>t.#T(e,r,i,a),moveToTail:e=>t.#M(e),indexes:e=>t.#I(e),rindexes:e=>t.#x(e),isStale:e=>t.#L(e)}}get max(){return this.#t}get maxSize(){return this.#e}get calculatedSize(){return this.#a}get size(){return this.#s}get fetchMethod(){return this.#o}get memoMethod(){return this.#d}get dispose(){return this.#n}get disposeAfter(){return this.#i}constructor(t){const{max:e=0,ttl:r,ttlResolution:i=1,ttlAutopurge:a,updateAgeOnGet:l,updateAgeOnHas:c,allowStale:g,dispose:f,disposeAfter:d,noDisposeOnSet:y,noUpdateTTL:v,maxSize:w=0,maxEntrySize:F=0,sizeCalculation:B,fetchMethod:x,memoMethod:M,noDeleteOnFetchRejection:O,noDeleteOnStaleGet:$,allowStaleOnFetchRejection:D,allowStaleOnFetchAbort:V,ignoreFetchAbort:P}=t;if(e!==0&&!Bo(e))throw new TypeError("max option must be a nonnegative integer");const _=e?EL(e):Array;if(!_)throw new Error("invalid max value: "+e);if(this.#t=e,this.#e=w,this.maxEntrySize=F||this.#e,this.sizeCalculation=B,this.sizeCalculation){if(!this.#e&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(M!==void 0&&typeof M!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#d=M,x!==void 0&&typeof x!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=x,this.#C=!!x,this.#u=new Map,this.#c=new Array(e).fill(void 0),this.#r=new Array(e).fill(void 0),this.#p=new _(e),this.#m=new _(e),this.#f=0,this.#h=0,this.#y=ba.create(e),this.#s=0,this.#a=0,typeof f=="function"&&(this.#n=f),typeof d=="function"?(this.#i=d,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#A=!!this.#n,this.#_=!!this.#i,this.noDisposeOnSet=!!y,this.noUpdateTTL=!!v,this.noDeleteOnFetchRejection=!!O,this.allowStaleOnFetchRejection=!!D,this.allowStaleOnFetchAbort=!!V,this.ignoreFetchAbort=!!P,this.maxEntrySize!==0){if(this.#e!==0&&!Bo(this.#e))throw new TypeError("maxSize must be a positive integer if specified");if(!Bo(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#z()}if(this.allowStale=!!g,this.noDeleteOnStaleGet=!!$,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!c,this.ttlResolution=Bo(i)||i===0?i:1,this.ttlAutopurge=!!a,this.ttl=r||0,this.ttl){if(!Bo(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#O()}if(this.#t===0&&this.ttl===0&&this.#e===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#e){const I="LRU_CACHE_UNBOUNDED";d7(I)&&(IL.add(I),xL("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",I,P0))}}getRemainingTTL(t){return this.#u.has(t)?1/0:0}#O(){const t=new Pd(this.#t),e=new Pd(this.#t);this.#w=t,this.#b=e,this.#R=(a,l,c=ga.now())=>{if(e[a]=l!==0?c:0,t[a]=l,l!==0&&this.ttlAutopurge){const g=setTimeout(()=>{this.#L(a)&&this.#E(this.#c[a],"expire")},l+1);g.unref&&g.unref()}},this.#B=a=>{e[a]=t[a]!==0?ga.now():0},this.#S=(a,l)=>{if(t[l]){const c=t[l],g=e[l];if(!c||!g)return;a.ttl=c,a.start=g,a.now=r||i();const f=a.now-g;a.remainingTTL=c-f}};let r=0;const i=()=>{const a=ga.now();if(this.ttlResolution>0){r=a;const l=setTimeout(()=>r=0,this.ttlResolution);l.unref&&l.unref()}return a};this.getRemainingTTL=a=>{const l=this.#u.get(a);if(l===void 0)return 0;const c=t[l],g=e[l];if(!c||!g)return 1/0;const f=(r||i())-g;return c-f},this.#L=a=>{const l=e[a],c=t[a];return!!c&&!!l&&(r||i())-l>c}}#B=()=>{};#S=()=>{};#R=()=>{};#L=()=>!1;#z(){const t=new Pd(this.#t);this.#a=0,this.#v=t,this.#k=e=>{this.#a-=t[e],t[e]=0},this.#N=(e,r,i,a)=>{if(this.#l(r))return 0;if(!Bo(i))if(a){if(typeof a!="function")throw new TypeError("sizeCalculation must be a function");if(i=a(r,e),!Bo(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#F=(e,r,i)=>{if(t[e]=r,this.#e){const a=this.#e-t[e];for(;this.#a>a;)this.#P(!0)}this.#a+=t[e],i&&(i.entrySize=r,i.totalCalculatedSize=this.#a)}}#k=t=>{};#F=(t,e,r)=>{};#N=(t,e,r,i)=>{if(r||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#I({allowStale:t=this.allowStale}={}){if(this.#s)for(let e=this.#h;!(!this.#j(e)||((t||!this.#L(e))&&(yield e),e===this.#f));)e=this.#m[e]}*#x({allowStale:t=this.allowStale}={}){if(this.#s)for(let e=this.#f;!(!this.#j(e)||((t||!this.#L(e))&&(yield e),e===this.#h));)e=this.#p[e]}#j(t){return t!==void 0&&this.#u.get(this.#c[t])===t}*entries(){for(const t of this.#I())this.#r[t]!==void 0&&this.#c[t]!==void 0&&!this.#l(this.#r[t])&&(yield[this.#c[t],this.#r[t]])}*rentries(){for(const t of this.#x())this.#r[t]!==void 0&&this.#c[t]!==void 0&&!this.#l(this.#r[t])&&(yield[this.#c[t],this.#r[t]])}*keys(){for(const t of this.#I()){const e=this.#c[t];e!==void 0&&!this.#l(this.#r[t])&&(yield e)}}*rkeys(){for(const t of this.#x()){const e=this.#c[t];e!==void 0&&!this.#l(this.#r[t])&&(yield e)}}*values(){for(const t of this.#I())this.#r[t]!==void 0&&!this.#l(this.#r[t])&&(yield this.#r[t])}*rvalues(){for(const t of this.#x())this.#r[t]!==void 0&&!this.#l(this.#r[t])&&(yield this.#r[t])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,e={}){for(const r of this.#I()){const i=this.#r[r],a=this.#l(i)?i.__staleWhileFetching:i;if(a!==void 0&&t(a,this.#c[r],this))return this.get(this.#c[r],e)}}forEach(t,e=this){for(const r of this.#I()){const i=this.#r[r],a=this.#l(i)?i.__staleWhileFetching:i;a!==void 0&&t.call(e,a,this.#c[r],this)}}rforEach(t,e=this){for(const r of this.#x()){const i=this.#r[r],a=this.#l(i)?i.__staleWhileFetching:i;a!==void 0&&t.call(e,a,this.#c[r],this)}}purgeStale(){let t=!1;for(const e of this.#x({allowStale:!0}))this.#L(e)&&(this.#E(this.#c[e],"expire"),t=!0);return t}info(t){const e=this.#u.get(t);if(e===void 0)return;const r=this.#r[e],i=this.#l(r)?r.__staleWhileFetching:r;if(i===void 0)return;const a={value:i};if(this.#w&&this.#b){const l=this.#w[e],c=this.#b[e];if(l&&c){const g=l-(ga.now()-c);a.ttl=g,a.start=Date.now()}}return this.#v&&(a.size=this.#v[e]),a}dump(){const t=[];for(const e of this.#I({allowStale:!0})){const r=this.#c[e],i=this.#r[e],a=this.#l(i)?i.__staleWhileFetching:i;if(a===void 0||r===void 0)continue;const l={value:a};if(this.#w&&this.#b){l.ttl=this.#w[e];const c=ga.now()-this.#b[e];l.start=Math.floor(Date.now()-c)}this.#v&&(l.size=this.#v[e]),t.unshift([r,l])}return t}load(t){this.clear();for(const[e,r]of t){if(r.start){const i=Date.now()-r.start;r.start=ga.now()-i}this.set(e,r.value,r)}}set(t,e,r={}){if(e===void 0)return this.delete(t),this;const{ttl:i=this.ttl,start:a,noDisposeOnSet:l=this.noDisposeOnSet,sizeCalculation:c=this.sizeCalculation,status:g}=r;let{noUpdateTTL:f=this.noUpdateTTL}=r;const d=this.#N(t,e,r.size||0,c);if(this.maxEntrySize&&d>this.maxEntrySize)return g&&(g.set="miss",g.maxEntrySizeExceeded=!0),this.#E(t,"set"),this;let y=this.#s===0?void 0:this.#u.get(t);if(y===void 0)y=this.#s===0?this.#h:this.#y.length!==0?this.#y.pop():this.#s===this.#t?this.#P(!1):this.#s,this.#c[y]=t,this.#r[y]=e,this.#u.set(t,y),this.#p[this.#h]=y,this.#m[y]=this.#h,this.#h=y,this.#s++,this.#F(y,d,g),g&&(g.set="add"),f=!1;else{this.#M(y);const v=this.#r[y];if(e!==v){if(this.#C&&this.#l(v)){v.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:w}=v;w!==void 0&&!l&&(this.#A&&this.#n?.(w,t,"set"),this.#_&&this.#g?.push([w,t,"set"]))}else l||(this.#A&&this.#n?.(v,t,"set"),this.#_&&this.#g?.push([v,t,"set"]));if(this.#k(y),this.#F(y,d,g),this.#r[y]=e,g){g.set="replace";const w=v&&this.#l(v)?v.__staleWhileFetching:v;w!==void 0&&(g.oldValue=w)}}else g&&(g.set="update")}if(i!==0&&!this.#w&&this.#O(),this.#w&&(f||this.#R(y,i,a),g&&this.#S(g,y)),!l&&this.#_&&this.#g){const v=this.#g;let w;for(;w=v?.shift();)this.#i?.(...w)}return this}pop(){try{for(;this.#s;){const t=this.#r[this.#f];if(this.#P(!0),this.#l(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#_&&this.#g){const t=this.#g;let e;for(;e=t?.shift();)this.#i?.(...e)}}}#P(t){const e=this.#f,r=this.#c[e],i=this.#r[e];return this.#C&&this.#l(i)?i.__abortController.abort(new Error("evicted")):(this.#A||this.#_)&&(this.#A&&this.#n?.(i,r,"evict"),this.#_&&this.#g?.push([i,r,"evict"])),this.#k(e),t&&(this.#c[e]=void 0,this.#r[e]=void 0,this.#y.push(e)),this.#s===1?(this.#f=this.#h=0,this.#y.length=0):this.#f=this.#p[e],this.#u.delete(r),this.#s--,e}has(t,e={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:i}=e,a=this.#u.get(t);if(a!==void 0){const l=this.#r[a];if(this.#l(l)&&l.__staleWhileFetching===void 0)return!1;if(this.#L(a))i&&(i.has="stale",this.#S(i,a));else return r&&this.#B(a),i&&(i.has="hit",this.#S(i,a)),!0}else i&&(i.has="miss");return!1}peek(t,e={}){const{allowStale:r=this.allowStale}=e,i=this.#u.get(t);if(i===void 0||!r&&this.#L(i))return;const a=this.#r[i];return this.#l(a)?a.__staleWhileFetching:a}#T(t,e,r,i){const a=e===void 0?void 0:this.#r[e];if(this.#l(a))return a;const l=new df,{signal:c}=r;c?.addEventListener("abort",()=>l.abort(c.reason),{signal:l.signal});const g={signal:l.signal,options:r,context:i},f=(B,x=!1)=>{const{aborted:M}=l.signal,O=r.ignoreFetchAbort&&B!==void 0;if(r.status&&(M&&!x?(r.status.fetchAborted=!0,r.status.fetchError=l.signal.reason,O&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),M&&!O&&!x)return y(l.signal.reason);const $=w;return this.#r[e]===w&&(B===void 0?$.__staleWhileFetching?this.#r[e]=$.__staleWhileFetching:this.#E(t,"fetch"):(r.status&&(r.status.fetchUpdated=!0),this.set(t,B,g.options))),B},d=B=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=B),y(B)),y=B=>{const{aborted:x}=l.signal,M=x&&r.allowStaleOnFetchAbort,O=M||r.allowStaleOnFetchRejection,$=O||r.noDeleteOnFetchRejection,D=w;if(this.#r[e]===w&&(!$||D.__staleWhileFetching===void 0?this.#E(t,"fetch"):M||(this.#r[e]=D.__staleWhileFetching)),O)return r.status&&D.__staleWhileFetching!==void 0&&(r.status.returnedStale=!0),D.__staleWhileFetching;if(D.__returned===D)throw B},v=(B,x)=>{const M=this.#o?.(t,a,g);M&&M instanceof Promise&&M.then(O=>B(O===void 0?void 0:O),x),l.signal.addEventListener("abort",()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(B(void 0),r.allowStaleOnFetchAbort&&(B=O=>f(O,!0)))})};r.status&&(r.status.fetchDispatched=!0);const w=new Promise(v).then(f,d),F=Object.assign(w,{__abortController:l,__staleWhileFetching:a,__returned:void 0});return e===void 0?(this.set(t,F,{...g.options,status:void 0}),e=this.#u.get(t)):this.#r[e]=F,F}#l(t){if(!this.#C)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof df}async fetch(t,e={}){const{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,ttl:l=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:g=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:y=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:v=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:F=this.allowStaleOnFetchAbort,context:B,forceRefresh:x=!1,status:M,signal:O}=e;if(!this.#C)return M&&(M.fetch="get"),this.get(t,{allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:a,status:M});const $={allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:a,ttl:l,noDisposeOnSet:c,size:g,sizeCalculation:f,noUpdateTTL:d,noDeleteOnFetchRejection:y,allowStaleOnFetchRejection:v,allowStaleOnFetchAbort:F,ignoreFetchAbort:w,status:M,signal:O};let D=this.#u.get(t);if(D===void 0){M&&(M.fetch="miss");const V=this.#T(t,D,$,B);return V.__returned=V}else{const V=this.#r[D];if(this.#l(V)){const rt=r&&V.__staleWhileFetching!==void 0;return M&&(M.fetch="inflight",rt&&(M.returnedStale=!0)),rt?V.__staleWhileFetching:V.__returned=V}const P=this.#L(D);if(!x&&!P)return M&&(M.fetch="hit"),this.#M(D),i&&this.#B(D),M&&this.#S(M,D),V;const _=this.#T(t,D,$,B),nt=_.__staleWhileFetching!==void 0&&r;return M&&(M.fetch=P?"stale":"refresh",nt&&P&&(M.returnedStale=!0)),nt?_.__staleWhileFetching:_.__returned=_}}async forceFetch(t,e={}){const r=await this.fetch(t,e);if(r===void 0)throw new Error("fetch() returned undefined");return r}memo(t,e={}){const r=this.#d;if(!r)throw new Error("no memoMethod provided to constructor");const{context:i,forceRefresh:a,...l}=e,c=this.get(t,l);if(!a&&c!==void 0)return c;const g=r(t,c,{options:l,context:i});return this.set(t,g,l),g}get(t,e={}){const{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,status:l}=e,c=this.#u.get(t);if(c!==void 0){const g=this.#r[c],f=this.#l(g);return l&&this.#S(l,c),this.#L(c)?(l&&(l.get="stale"),f?(l&&r&&g.__staleWhileFetching!==void 0&&(l.returnedStale=!0),r?g.__staleWhileFetching:void 0):(a||this.#E(t,"expire"),l&&r&&(l.returnedStale=!0),r?g:void 0)):(l&&(l.get="hit"),f?g.__staleWhileFetching:(this.#M(c),i&&this.#B(c),g))}else l&&(l.get="miss")}#D(t,e){this.#m[e]=t,this.#p[t]=e}#M(t){t!==this.#h&&(t===this.#f?this.#f=this.#p[t]:this.#D(this.#m[t],this.#p[t]),this.#D(this.#h,t),this.#h=t)}delete(t){return this.#E(t,"delete")}#E(t,e){let r=!1;if(this.#s!==0){const i=this.#u.get(t);if(i!==void 0)if(r=!0,this.#s===1)this.#U(e);else{this.#k(i);const a=this.#r[i];if(this.#l(a)?a.__abortController.abort(new Error("deleted")):(this.#A||this.#_)&&(this.#A&&this.#n?.(a,t,e),this.#_&&this.#g?.push([a,t,e])),this.#u.delete(t),this.#c[i]=void 0,this.#r[i]=void 0,i===this.#h)this.#h=this.#m[i];else if(i===this.#f)this.#f=this.#p[i];else{const l=this.#m[i];this.#p[l]=this.#p[i];const c=this.#p[i];this.#m[c]=this.#m[i]}this.#s--,this.#y.push(i)}}if(this.#_&&this.#g?.length){const i=this.#g;let a;for(;a=i?.shift();)this.#i?.(...a)}return r}clear(){return this.#U("delete")}#U(t){for(const e of this.#x({allowStale:!0})){const r=this.#r[e];if(this.#l(r))r.__abortController.abort(new Error("deleted"));else{const i=this.#c[e];this.#A&&this.#n?.(r,i,t),this.#_&&this.#g?.push([r,i,t])}}if(this.#u.clear(),this.#r.fill(void 0),this.#c.fill(void 0),this.#w&&this.#b&&(this.#w.fill(0),this.#b.fill(0)),this.#v&&this.#v.fill(0),this.#f=0,this.#h=0,this.#y.length=0,this.#a=0,this.#s=0,this.#_&&this.#g){const e=this.#g;let r;for(;r=e?.shift();)this.#i?.(...r)}}}var rp,h1;function f7(){if(h1)return rp;h1=1;var n=function(O){return t(O)&&!e(O)};function t(M){return!!M&&typeof M=="object"}function e(M){var O=Object.prototype.toString.call(M);return O==="[object RegExp]"||O==="[object Date]"||a(M)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function a(M){return M.$$typeof===i}function l(M){return Array.isArray(M)?[]:{}}function c(M,O){return O.clone!==!1&&O.isMergeableObject(M)?B(l(M),M,O):M}function g(M,O,$){return M.concat(O).map(function(D){return c(D,$)})}function f(M,O){if(!O.customMerge)return B;var $=O.customMerge(M);return typeof $=="function"?$:B}function d(M){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(M).filter(function(O){return Object.propertyIsEnumerable.call(M,O)}):[]}function y(M){return Object.keys(M).concat(d(M))}function v(M,O){try{return O in M}catch{return!1}}function w(M,O){return v(M,O)&&!(Object.hasOwnProperty.call(M,O)&&Object.propertyIsEnumerable.call(M,O))}function F(M,O,$){var D={};return $.isMergeableObject(M)&&y(M).forEach(function(V){D[V]=c(M[V],$)}),y(O).forEach(function(V){w(M,V)||(v(M,V)&&$.isMergeableObject(O[V])?D[V]=f(V,$)(M[V],O[V],$):D[V]=c(O[V],$))}),D}function B(M,O,$){$=$||{},$.arrayMerge=$.arrayMerge||g,$.isMergeableObject=$.isMergeableObject||n,$.cloneUnlessOtherwiseSpecified=c;var D=Array.isArray(O),V=Array.isArray(M),P=D===V;return P?D?$.arrayMerge(M,O,$):F(M,O,$):c(O,$)}B.all=function(O,$){if(!Array.isArray(O))throw new Error("first argument should be an array");return O.reduce(function(D,V){return B(D,V,$)},{})};var x=B;return rp=x,rp}f7();var h7={};r7(h7);var g1=(n,t)=>{for(var e=t-1;e>=0;){if(n[e]==="/")return e;e--}return-1},g7=n=>{var t,e=n.lastIndexOf(".css");if(e===-1)return"";var r=g1(n,e);if(t=n.slice(r+1,e),r===-1)return t;var i=g1(n,r-1),a=n.slice(i+1,r),l=t!=="index"?t:a;return l},p7=()=>{var n=new P0({max:500});return t=>{var e=n.get(t);if(e)return e;var r=g7(t);return n.set(t,r),r}};p7();function m7(n,t){return F0(n,(e,r)=>{var i=typeof t=="function"?t(e,r):e,a=typeof i=="string"?i.replace(/^\-\-/,""):null;if(typeof a!="string"||a!==n7(a,{isIdentifier:!0}))throw new Error('Invalid variable name for "'.concat(r.join("."),'": ').concat(a));return"var(--".concat(a,")")})}var _7=Object.create,SL=Object.defineProperty,y7=Object.getOwnPropertyDescriptor,T0=Object.getOwnPropertyNames,w7=Object.getPrototypeOf,v7=Object.prototype.hasOwnProperty,OL=n=>{throw TypeError(n)},b7=(n,t)=>function(){return n&&(t=(0,n[T0(n)[0]])(n=0)),t},A7=(n,t)=>function(){return t||(0,n[T0(n)[0]])((t={exports:{}}).exports,t),t.exports},L7=(n,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of T0(t))!v7.call(n,i)&&i!==e&&SL(n,i,{get:()=>t[i],enumerable:!(r=y7(t,i))||r.enumerable});return n},C7=(n,t,e)=>(e=n!=null?_7(w7(n)):{},L7(!n||!n.__esModule?SL(e,"default",{value:n,enumerable:!0}):e,n)),I7=(n,t,e)=>t.has(n)||OL("Cannot "+e),cs=(n,t,e)=>(I7(n,t,"read from private field"),e?e.call(n):t.get(n)),ls=(n,t,e)=>t.has(n)?OL("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),x7=b7({"vanilla-extract-css-ns:src/components/styling/StyleMarker.css.ts.vanilla.css?source=OndoZXJlKCopIHsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGNvbG9yOiB2YXIoLS1kYXBwLWtpdC1jb2xvcnMtYm9keSk7CiAgZm9udC1mYW1pbHk6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udEZhbWlseSk7CiAgZm9udC1zaXplOiB2YXIoLS1kYXBwLWtpdC1mb250V2VpZ2h0cy1ub3JtYWwpOwogIGZvbnQtc3R5bGU6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udFN0eWxlKTsKICBmb250LXdlaWdodDogdmFyKC0tZGFwcC1raXQtZm9udFdlaWdodHMtbm9ybWFsKTsKICBsaW5lLWhlaWdodDogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1saW5lSGVpZ2h0KTsKICBsZXR0ZXItc3BhY2luZzogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1sZXR0ZXJTcGFjaW5nKTsKfQo6d2hlcmUoYnV0dG9uKSB7CiAgYXBwZWFyYW5jZTogbm9uZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7CiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7CiAgbGV0dGVyLXNwYWNpbmc6IGluaGVyaXQ7CiAgY29sb3I6IGluaGVyaXQ7CiAgYm9yZGVyOiAwOwogIHBhZGRpbmc6IDA7CiAgbWFyZ2luOiAwOwp9Cjp3aGVyZShhKSB7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGNvbG9yOiBpbmhlcml0OwogIG91dGxpbmU6IG5vbmU7Cn0KOndoZXJlKG9sLCB1bCkgewogIGxpc3Qtc3R5bGU6IG5vbmU7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDA7Cn0KOndoZXJlKGgxLCBoMiwgaDMsIGg0LCBoNSwgaDYpIHsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7CiAgbWFyZ2luOiAwOwp9"(){}}),E7=A7({"src/components/styling/StyleMarker.css.ts"(){x7()}});function BL(){const n=new Map;return{getItem(t){return n.get(t)},setItem(t,e){n.set(t,e)},removeItem(t){n.delete(t)}}}var S7="Sui Wallet",O7=typeof window<"u"&&window.localStorage?localStorage:BL(),B7="sui-dapp-kit:wallet-connection-info",k7=["sui:signTransaction","sui:signTransactionBlock"],R0=n=>k7.some(t=>n.features[t]),kL=[S7,o5],Qa={all:{baseScope:"wallet"},connectWallet:Io("connect-wallet"),autoconnectWallet:Io("autoconnect-wallet"),disconnectWallet:Io("disconnect-wallet"),signPersonalMessage:Io("sign-personal-message"),signTransaction:Io("sign-transaction"),signAndExecuteTransaction:Io("sign-and-execute-transaction"),switchAccount:Io("switch-account"),reportTransactionEffects:Io("report-transaction-effects")};function Io(n){return function(e=[]){return[{...Qa.all,baseEntity:n},...e]}}var ML=z.createContext(null);function Mn(n){const t=z.useContext(ML);if(!t)throw new Error("Could not find WalletContext. Ensure that you have set up the WalletProvider.");return sO(t,n)}function FL({mutationKey:n,...t}={}){const e=Mn(i=>i.setWalletConnected),r=Mn(i=>i.setConnectionStatus);return Sl({mutationKey:Qa.connectWallet(n),mutationFn:async({wallet:i,accountAddress:a,...l})=>{try{r("connecting");const c=await i.features["standard:connect"].connect(l);let g=c.supportedIntents;!g&&i.features["sui:getCapabilities"]&&(g=(await i.features["sui:getCapabilities"].getCapabilities()).supportedIntents??[]);const f=c.accounts.filter(y=>y.chains.some(v=>v.split(":")[0]==="sui")),d=M7(f,a);return e(i,f,d,g),{accounts:f}}catch(c){throw r("disconnected"),c}},...t})}function M7(n,t){return n.length===0?null:t?n.find(r=>r.address===t)??n[0]:n[0]}function PL(){return Mn(n=>n.wallets)}function Td(n,t){const i=Lf().get().filter(a=>j6(a)&&(!t||t(a)));return[...n.map(a=>i.find(l=>l.name===a)).filter(Boolean),...i.filter(a=>!n.includes(a.name))]}function Ls(n){return n?.id??n?.name}function F7(n){return j.jsx("svg",{width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:j.jsx("path",{d:"M7.57 12.262c0 .341.13.629.403.895l5.175 5.059c.204.205.45.307.751.307.609 0 1.101-.485 1.101-1.087 0-.293-.123-.574-.349-.8L10.14 12.27l4.511-4.375A1.13 1.13 0 0 0 15 7.087C15 6.485 14.508 6 13.9 6c-.295 0-.54.103-.752.308l-5.175 5.058c-.28.28-.404.56-.404.896Z",fill:"currentColor"})})}function P7(n){return j.jsx("svg",{width:10,height:10,fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:j.jsx("path",{d:"M9.708.292a.999.999 0 0 0-1.413 0l-3.289 3.29L1.717.291A.999.999 0 0 0 .305 1.705l3.289 3.289-3.29 3.289a.999.999 0 1 0 1.413 1.412l3.29-3.289 3.288 3.29a.999.999 0 0 0 1.413-1.413l-3.29-3.29 3.29-3.288a.999.999 0 0 0 0-1.413Z",fill:"currentColor"})})}var TL="data-dapp-kit",T7=`[${TL}]`,R7={[TL]:""};C7(E7());var vl=z.forwardRef(({children:n,...t},e)=>j.jsx(Ol,{ref:e,...t,...R7,children:n}));vl.displayName="StyleMarker";var N7=c0({defaultClassName:"Heading__1aa835k0",variantClassNames:{size:{sm:"Heading_headingVariants_size_sm__1aa835k1",md:"Heading_headingVariants_size_md__1aa835k2",lg:"Heading_headingVariants_size_lg__1aa835k3",xl:"Heading_headingVariants_size_xl__1aa835k4"},weight:{normal:"Heading_headingVariants_weight_normal__1aa835k5",bold:"Heading_headingVariants_weight_bold__1aa835k6"},truncate:{true:"Heading_headingVariants_truncate_true__1aa835k7"}},defaultVariants:{size:"lg",weight:"bold"},compoundVariants:[]}),js=z.forwardRef(({children:n,className:t,asChild:e=!1,as:r="h1",size:i,weight:a,truncate:l,...c},g)=>j.jsx(Ol,{...c,ref:g,className:Gi(N7({size:i,weight:a,truncate:l}),t),children:e?n:j.jsx(r,{children:n})}));js.displayName="Heading";var j7="IconButton_container__s6n7bq0",s2=z.forwardRef(({className:n,asChild:t=!1,...e},r)=>{const i=t?Ol:"button";return j.jsx(i,{...e,className:Gi(j7,n),ref:r})});s2.displayName="Button";var D7="ConnectModal_backButtonContainer__gz8z96",U7="ConnectModal_closeButtonContainer__gz8z97",z7="ConnectModal_content__gz8z92",$7="ConnectModal_overlay__gz8z90",Q7="ConnectModal_selectedViewContainer__gz8z95",q7="ConnectModal_title__gz8z91",W7="ConnectModal_viewContainer__gz8z94",G7="ConnectModal_walletListContainer__gz8z99",V7="ConnectModal_walletListContainerWithViewSelected__gz8z9a",K7="ConnectModal_walletListContent__gz8z98",H7="ConnectModal_whatIsAWalletButton__gz8z93",Y7=c0({defaultClassName:"Button_buttonVariants__x1s81q0",variantClassNames:{variant:{primary:"Button_buttonVariants_variant_primary__x1s81q1",outline:"Button_buttonVariants_variant_outline__x1s81q2"},size:{md:"Button_buttonVariants_size_md__x1s81q3",lg:"Button_buttonVariants_size_lg__x1s81q4"}},defaultVariants:{variant:"primary",size:"md"},compoundVariants:[]}),Tl=z.forwardRef(({className:n,variant:t,size:e,asChild:r=!1,...i},a)=>{const l=r?Ol:"button";return j.jsx(l,{...i,className:Gi(Y7({variant:t,size:e}),n),ref:a})});Tl.displayName="Button";var Z7=c0({defaultClassName:"Text__2bv1ur0",variantClassNames:{size:{sm:"Text_textVariants_size_sm__2bv1ur1"},weight:{normal:"Text_textVariants_weight_normal__2bv1ur2",medium:"Text_textVariants_weight_medium__2bv1ur3",bold:"Text_textVariants_weight_bold__2bv1ur4"},color:{muted:"Text_textVariants_color_muted__2bv1ur5",danger:"Text_textVariants_color_danger__2bv1ur6"},mono:{true:"Text_textVariants_mono_true__2bv1ur7"}},defaultVariants:{size:"sm",weight:"normal"},compoundVariants:[]}),Pa=z.forwardRef(({children:n,className:t,asChild:e=!1,as:r="div",size:i,weight:a,color:l,mono:c,...g},f)=>j.jsx(Ol,{...g,ref:f,className:Gi(Z7({size:i,weight:a,color:l,mono:c}),t),children:e?n:j.jsx(r,{children:n})}));Pa.displayName="Text";var X7="ConnectionStatus_connectionStatus__nckm2d3",J7="ConnectionStatus_container__nckm2d0",tP="ConnectionStatus_retryButtonContainer__nckm2d4",eP="ConnectionStatus_title__nckm2d2",nP="ConnectionStatus_walletIcon__nckm2d1";function rP({selectedWallet:n,hadConnectionError:t,onRetryConnection:e}){return j.jsxs("div",{className:J7,children:[n.icon&&j.jsx("img",{className:nP,src:n.icon,alt:`${n.name} logo`}),j.jsx("div",{className:eP,children:j.jsxs(js,{as:"h2",size:"xl",children:["Opening ",n.name]})}),j.jsx("div",{className:X7,children:t?j.jsx(Pa,{color:"danger",children:"Connection failed"}):j.jsx(Pa,{color:"muted",children:"Confirm connection in the wallet..."})}),t?j.jsx("div",{className:tP,children:j.jsx(Tl,{type:"button",variant:"outline",onClick:()=>e(n),children:"Retry Connection"})}):null]})}var iP="InfoSection_container__1wtioi70";function rl({title:n,children:t}){return j.jsxs("section",{className:iP,children:[j.jsx(js,{as:"h3",size:"sm",weight:"normal",children:n}),j.jsx(Pa,{weight:"medium",color:"muted",children:t})]})}var oP="GettingStarted_container__1fp07e10",sP="GettingStarted_content__1fp07e11",aP="GettingStarted_installButtonContainer__1fp07e12";function cP(){return j.jsxs("div",{className:oP,children:[j.jsx(js,{as:"h2",children:"Get Started with Sui"}),j.jsxs("div",{className:sP,children:[j.jsx(rl,{title:"Install the Sui Wallet Extension",children:"We recommend pinning Sui Wallet to your taskbar for quicker access."}),j.jsx(rl,{title:"Create or Import a Wallet",children:"Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."}),j.jsx(rl,{title:"Refresh Your Browser",children:"Once you set up your wallet, refresh this window browser to load up the extension."}),j.jsx("div",{className:aP,children:j.jsx(Tl,{variant:"outline",asChild:!0,children:j.jsx("a",{href:"https://chrome.google.com/webstore/detail/sui-wallet/opcgpfmipidbgpenhmajoajpbobppdil",target:"_blank",rel:"noreferrer",children:"Install Wallet Extension"})})})]})]})}var lP="WhatIsAWallet_container__1ktpkq90",uP="WhatIsAWallet_content__1ktpkq91";function p1(){return j.jsxs("div",{className:lP,children:[j.jsx(js,{as:"h2",children:"What is a Wallet"}),j.jsxs("div",{className:uP,children:[j.jsx(rl,{title:"Easy Login",children:"No need to create new accounts and passwords for every website. Just connect your wallet and get going."}),j.jsx(rl,{title:"Store your Digital Assets",children:"Send, receive, store, and display your digital assets like NFTs & coins."})]})]})}function dP(n){return j.jsxs("svg",{width:28,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:[j.jsx("rect",{width:28,height:28,rx:6,fill:"#6FBCF0"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.942 20.527A6.875 6.875 0 0 0 13.957 24c2.51 0 4.759-1.298 6.015-3.473a6.875 6.875 0 0 0 0-6.945l-5.29-9.164a.837.837 0 0 0-1.45 0l-5.29 9.164a6.875 6.875 0 0 0 0 6.945Zm4.524-11.75 1.128-1.953a.418.418 0 0 1 .725 0l4.34 7.516a5.365 5.365 0 0 1 .449 4.442 4.675 4.675 0 0 0-.223-.73c-.599-1.512-1.954-2.68-4.029-3.47-1.426-.54-2.336-1.336-2.706-2.364-.476-1.326.021-2.77.316-3.44Zm-1.923 3.332L9.255 14.34a5.373 5.373 0 0 0 0 5.43 5.373 5.373 0 0 0 4.702 2.714 5.38 5.38 0 0 0 3.472-1.247c.125-.314.51-1.462.034-2.646-.44-1.093-1.5-1.965-3.15-2.594-1.864-.707-3.076-1.811-3.6-3.28a4.601 4.601 0 0 1-.17-.608Z",fill:"#fff"})]})}var fP="WalletList_container__1v2s6cz0",hP="WalletListItem_container__1dqqtqs0",gP="WalletListItem_selectedWalletItem__1dqqtqs2",pP="WalletListItem_walletIcon__1dqqtqs3",mP="WalletListItem_walletItem__1dqqtqs1";function m1({name:n,icon:t,onClick:e,isSelected:r=!1}){return j.jsx("li",{className:hP,children:j.jsxs("button",{className:Gi(mP,{[gP]:r}),type:"button",onClick:e,children:[t&&typeof t=="string"?j.jsx("img",{className:pP,src:t,alt:`${n} logo`}):t,j.jsx(js,{size:"md",truncate:!0,asChild:!0,children:j.jsx("div",{children:n})})]})})}function _P({selectedWalletName:n,onPlaceholderClick:t,onSelect:e,wallets:r}){return j.jsx("ul",{className:fP,children:r.length>0?r.map(i=>j.jsx(m1,{name:i.name,icon:i.icon,isSelected:Ls(i)===n,onClick:()=>e(i)},Ls(i))):j.jsx(m1,{name:"Sui Wallet",icon:j.jsx(dP,{}),onClick:t,isSelected:!0})})}function yP({trigger:n,open:t,defaultOpen:e,onOpenChange:r,walletFilter:i=R0}){const[a,l]=z.useState(t??e),[c,g]=z.useState(),[f,d]=z.useState(),y=PL().filter(i),{mutate:v,isError:w}=FL(),F=()=>{d(void 0),g(void 0)},B=O=>{O||F(),l(O),r?.(O)},x=O=>{g("connection-status"),v({wallet:O},{onSuccess:()=>B(!1)})};let M;switch(c){case"what-is-a-wallet":M=j.jsx(p1,{});break;case"getting-started":M=j.jsx(cP,{});break;case"connection-status":M=j.jsx(rP,{selectedWallet:f,hadConnectionError:w,onRetryConnection:x});break;default:M=j.jsx(p1,{})}return j.jsxs(_S,{open:t??a,onOpenChange:B,children:[j.jsx(yS,{asChild:!0,children:n}),j.jsx(wS,{children:j.jsx(vl,{children:j.jsx(vS,{className:$7,children:j.jsxs(bS,{className:z7,"aria-describedby":void 0,children:[j.jsxs("div",{className:Gi(G7,{[V7]:!!c}),children:[j.jsxs("div",{className:K7,children:[j.jsx(AS,{className:q7,asChild:!0,children:j.jsx(js,{as:"h2",children:"Connect a Wallet"})}),j.jsx(_P,{wallets:y,selectedWalletName:Ls(f),onPlaceholderClick:()=>g("getting-started"),onSelect:O=>{Ls(f)!==Ls(O)&&(d(O),x(O))}})]}),j.jsx("button",{className:H7,onClick:()=>g("what-is-a-wallet"),type:"button",children:"What is a Wallet?"})]}),j.jsxs("div",{className:Gi(W7,{[Q7]:!!c}),children:[j.jsx("div",{className:D7,children:j.jsx(s2,{type:"button","aria-label":"Back",onClick:()=>F(),children:j.jsx(F7,{})})}),M]}),j.jsx(LS,{className:U7,asChild:!0,children:j.jsx(s2,{type:"button","aria-label":"Close",children:j.jsx(P7,{})})})]})})})})]})}function qa(){return Mn(n=>n.currentAccount)}var RL=z.createContext(null),wP={localnet:{url:Md("localnet")}},vP=function(t,e){return $M(e)?e:new JA(e)};function bP(n){const{onNetworkChange:t,network:e,children:r}=n,i=n.networks??wP,a=n.createClient??vP,[l,c]=z.useState(n.network??n.defaultNetwork??Object.keys(i)[0]),g=n.network??l,f=z.useMemo(()=>a(g,i[g]),[a,g,i]),d=z.useMemo(()=>({client:f,networks:i,network:g,config:i[g]instanceof JA?null:i[g],selectNetwork:y=>{g!==y&&(!e&&y!==l&&c(y),t?.(y))}}),[f,i,l,g,e,t]);return j.jsx(RL.Provider,{value:d,children:r})}function Rf(){const n=z.useContext(RL);if(!n)throw new Error("Could not find SuiClientContext. Ensure that you have set up the SuiClientProvider");return n}function N0(){return Rf().client}function j0(...n){const[t,e,{queryKey:r=[],...i}={}]=n,a=Rf();return Ob({...i,queryKey:[a.network,t,e,...r],queryFn:async()=>await a.client[t](e)})}function NL(n,t){return j0("resolveNameServiceNames",{address:n,limit:1},{...t,refetchOnWindowFocus:!1,retry:!1,select:e=>e.data.length>0?e.data[0]:null,enabled:!!n&&t?.enabled!==!1})}function AP(){return Mn(n=>n.accounts)}var Nf=class extends Error{},jL=class extends Error{},LP=class extends Error{},CP=class extends Error{};function Wa(){const n=Mn(r=>r.currentWallet),t=Mn(r=>r.connectionStatus),e=Mn(r=>r.supportedIntents);switch(t){case"connecting":return{connectionStatus:t,currentWallet:null,isDisconnected:!1,isConnecting:!0,isConnected:!1,supportedIntents:[]};case"disconnected":return{connectionStatus:t,currentWallet:null,isDisconnected:!0,isConnecting:!1,isConnected:!1,supportedIntents:[]};case"connected":return{connectionStatus:t,currentWallet:n,isDisconnected:!1,isConnecting:!1,isConnected:!0,supportedIntents:e}}}function IP({mutationKey:n,...t}={}){const{currentWallet:e}=Wa(),r=Mn(i=>i.setWalletDisconnected);return Sl({mutationKey:Qa.disconnectWallet(n),mutationFn:async()=>{if(!e)throw new Nf("No wallet is connected.");try{await e.features["standard:disconnect"]?.disconnect()}catch(i){console.error("Failed to disconnect the application from the current wallet.",i)}r()},...t})}function xP({mutationKey:n,...t}={}){const{currentWallet:e}=Wa(),r=Mn(i=>i.setAccountSwitched);return Sl({mutationKey:Qa.switchAccount(n),mutationFn:async({account:i})=>{if(!e)throw new Nf("No wallet is connected.");const a=e.accounts.find(l=>l.address===i.address);if(!a)throw new CP(`No account with address ${i.address} is connected to ${e.name}.`);r(a)},...t})}var EP="AccountDropdownMenu_connectedAccount__div2ql0",SP="AccountDropdownMenu_menuContainer__div2ql1",OP="AccountDropdownMenu_menuContent__div2ql2",DL="AccountDropdownMenu_menuItem__div2ql3",BP="AccountDropdownMenu_separator__div2ql5",kP="AccountDropdownMenu_switchAccountMenuItem__div2ql4";function MP(n){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...n,children:j.jsx("path",{fill:"currentColor",d:"m11.726 5.048-4.73 5.156-1.722-1.879a.72.72 0 0 0-.529-.23.722.722 0 0 0-.525.24.858.858 0 0 0-.22.573.86.86 0 0 0 .211.576l2.255 2.458c.14.153.332.24.53.24.2 0 .391-.087.532-.24l5.261-5.735A.86.86 0 0 0 13 5.63a.858.858 0 0 0-.22-.572.722.722 0 0 0-.525-.24.72.72 0 0 0-.529.23Z"})})}function FP(n){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",...n,children:j.jsx("path",{stroke:"#A0B6C3",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m4 6 4 4 4-4"})})}function PP({currentAccount:n}){const{mutate:t}=IP(),{data:e}=NL(n.label?null:n.address),r=AP();return j.jsxs(hM,{modal:!1,children:[j.jsx(vl,{children:j.jsx(gM,{asChild:!0,children:j.jsxs(Tl,{size:"lg",className:EP,children:[j.jsx(Pa,{mono:!0,weight:"bold",children:n.label??e??Ww(n.address)}),j.jsx(FP,{})]})})}),j.jsx(pM,{children:j.jsx(vl,{className:SP,children:j.jsxs(mM,{className:OP,children:[r.map(i=>j.jsx(TP,{account:i,active:n.address===i.address},i.address)),j.jsx(_M,{className:BP}),j.jsx(DA,{className:Gi(DL),onSelect:()=>t(),children:"Disconnect"})]})})})]})}function TP({account:n,active:t}){const{mutate:e}=xP(),{data:r}=NL(n.label?null:n.address);return j.jsxs(DA,{className:Gi(DL,kP),onSelect:()=>e({account:n}),children:[j.jsx(Pa,{mono:!0,children:n.label??r??Ww(n.address)}),t?j.jsx(MP,{}):null]})}function RP({connectText:n="Connect Wallet",walletFilter:t,...e}){const r=qa();return r?j.jsx(PP,{currentAccount:r}):j.jsx(yP,{walletFilter:t,trigger:j.jsx(vl,{children:j.jsx(Tl,{...e,children:n})})})}function NP(){const{mutateAsync:n}=FL(),t=Mn(d=>d.autoConnectEnabled),e=Mn(d=>d.lastConnectedWalletName),r=Mn(d=>d.lastConnectedAccountAddress),i=PL(),{isConnected:a}=Wa(),[l,c]=z.useState(!1);z.useLayoutEffect(()=>{c(!0)},[]);const{data:g,isError:f}=Ob({queryKey:["@mysten/dapp-kit","autoconnect",{isConnected:a,autoConnectEnabled:t,lastConnectedWalletName:e,lastConnectedAccountAddress:r,walletCount:i.length}],queryFn:async()=>{if(!t)return"disabled";if(!e||!r||a)return"attempted";const d=i.find(y=>Ls(y)===e);return d&&await n({wallet:d,accountAddress:r,silent:!0}),"attempted"},enabled:t,persister:void 0,gcTime:0,staleTime:0,networkMode:"always",retry:!1,retryOnMount:!1,refetchInterval:!1,refetchIntervalInBackground:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1});return t?l?a||!e||f?"attempted":g??"idle":"idle":"disabled"}function jP(n){z.useLayoutEffect(()=>{if(!n?.name)return;let t,e=!0;try{const r=h5(n.name,{origin:n.origin});e&&r?t=r.unregister:r&&r.unregister()}catch(r){console.error("Failed to register Slush wallet:",r)}return()=>{e=!1,t&&t()}},[n?.name,n?.origin])}var _1="Unsafe Burner Wallet";function DP(n){const t=N0();z.useEffect(()=>n?UP(t):void 0,[n,t])}function UP(n){var t,e,r,i,a,l,c;const g=Lf();if(g.get().find(w=>w.name===_1)){console.warn("registerUnsafeBurnerWallet: Unsafe Burner Wallet already registered, skipping duplicate registration.");return}console.warn("Your application is currently using the unsafe burner wallet. Make sure that this wallet is disabled in production.");const d=new va,y=new Cf({address:d.getPublicKey().toSuiAddress(),publicKey:d.getPublicKey().toSuiBytes(),chains:["sui:unknown"],features:["sui:signAndExecuteTransactionBlock","sui:signTransactionBlock","sui:signTransaction","sui:signAndExecuteTransaction"]});class v{constructor(){ls(this,t,()=>()=>{}),ls(this,e,async()=>({accounts:this.accounts})),ls(this,r,async F=>{const{bytes:B,signature:x}=await d.signPersonalMessage(F.message);return{bytes:B,signature:x}}),ls(this,i,async F=>{const{bytes:B,signature:x}=await F.transactionBlock.sign({client:n,signer:d});return{transactionBlockBytes:B,signature:x}}),ls(this,a,async F=>{const{bytes:B,signature:x}=await zi.from(await F.transaction.toJSON()).sign({client:n,signer:d});return F.signal?.throwIfAborted(),{bytes:B,signature:x}}),ls(this,l,async F=>{const{bytes:B,signature:x}=await F.transactionBlock.sign({client:n,signer:d});return n.executeTransactionBlock({signature:x,transactionBlock:B,options:F.options})}),ls(this,c,async F=>{const{bytes:B,signature:x}=await zi.from(await F.transaction.toJSON()).sign({client:n,signer:d});F.signal?.throwIfAborted();const{rawEffects:M,digest:O}=await n.executeTransactionBlock({signature:x,transactionBlock:B,options:{showRawEffects:!0}});return{bytes:B,signature:x,digest:O,effects:Se(new Uint8Array(M))}})}get version(){return"1.0.0"}get name(){return _1}get icon(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAJrElEQVR42tWbe2xT1x3H7UxAyD3XrdrSbGXlUbKWsq5rWdVuVOMRSEqSOmnVRZMmJqZNYv1nf3R/jWmVmVrtRRM/YwPd1nVTNcrE3pQCoikrIRAC4VVNY0hlD9ZOo1uCfe3ra9979v0dcy3s5Pper76Oh/STE+495/4+5/c85zqe2f7HAx5vKsS+monJj/CdHi/f4/HWW4f6AwdblmXjTM0NyS+movKtw9v+j6C5gKhyTMTTpA2x15Qwy+Pz75motOGdgKep8WF5ATgVZIt5NeO2wMqD0hfVGNPh3oYaYflsjG0l63PeyLCDnqbsLpZIhaRNFI+Ox+Le5KB0RybK8gDmJOkI07U4i/FhT1NDQl8Me5rUIfaDfELOJ0NsFa/SJQHm1WLsHcDqRWiy9BCL8s0N5t6UWWFVvxplejYm60hC91cNjPtzCTZsAptCVoeLP8PDDQJNCSodap6H+LtE8ZcdkvVkkD38vwDn4/Jvy4EhBhZSvRaUHiTXn31gJJxkUPoClBKKFizM+inhVA2cYIdM4HJouPvoe9s9H+KzDhyGK6KkmIqitBhww2C11rjQL2L4kgUwFxk8yPyzauUA3Pk/353XnA6zKbKCaQ2UlMvJF6W5uF5F8yHfZWZpC9HRmBziaEpm1bpY9XvhxuWJRldC7Mt03WlZwpjnkZUNa2DMG2EaPj9MGd2l2mofd0hQ7ZSopsXckHxVCUp32fXGdD0ZktrgFUmMqwhcWFjp87RArsD+9bn585IRaSHAKgBL3SZwOTRc8BKg7yYoskp5OJDiiPmF2Sj7ox0siYJ7lJA04EqvzZ9B1xSVt6PlW0IxZgUMJdZYAJuWngLQt9IRuZXmoTEkmci8ZtTXTViUKyasA9FRun5d8z6bfw0gYWm9mmCXxZatQgxfC7I2NVpRYQOxKWppLs4mcgn5NcibgL1K40xYp8CYY5TXEpjcb3LAJ0OZyyg3+2nySm6fjEtzkEz+7VBx3RTb+60z9dma7pkvwO2QQL5HzTtAdpKF7euw/HuzfrosBHy+ZsBimzbQshjWTVMDgez53B5MbjcGbr1ZjdUJOM5O0SLXzJ2R+uOA1dMAVoLsm5zb73JSId8t8Aa1LsAJdoTCrCaw6e3NC2DdFMUXWRg173mysJNOSUNskUJ1cOlXa2LhcbgmSszXYSn9hl3KSxTDjrZ2cbbfbWDyumsh9m3e7zCG7a3ETt+gtI7fx6lEOanZKDVvuA2cjYmt5xNOd2Louz3IQ12UZ2Zo3lkb9cDlvSs6m4Vk5Yqlabs0B97wT7PUuCXQz0Bnt9QxMPTW4iwBtmUlY8hFsHJPlzcQ1xuG75CVK1kXofCUGnU9fg1aVD7kfE9MoabtYkcAvIUYS2op3Hc3TTrDQzIAeojugTVLFolWDR6wFPtY0R66n6HltwjCIawnE2ymresk9NtN+pfUUi0mX6RJLfrh9zMRaRPOqubSA8W2MNzC0mHpK7j2ruuw5mYkxl5+2+HGQeg4yNYg7vNg+xMxFsuRMuiTsRJZG3cysAl4D9n4aC4un8L9qUyVvbCyYwFXX1nGUxFf1cCiEQqy75O+TpMwYKNKSPQUqhLyyWLsRbESLctx0YnixgfphRWA8pOPc+N4F9d+eV9V4OlCX/As5w5g+wtGhJGukp5go2R3D7EW9rSDcnGL56YgJHj+8GcFND/Vy41jj/H0jxc6HU/AA2QlR01UlH3D7CmITQnJq4lVWBi1yl8XYEh278c5H++F+Iui7r7bYR8tH/gbqoJN7fVODUhLYVVxzmYCEyOxFg7RUVa0egCHZZ55eRHnp/tKgMna6s/bbMdTxZgMzl9CCcmq7k690OzDfaeSN4QcsREjsQpgXHwyWyfg9K5WE7hc6JqTWjyihObfygOFOkv6i5K5TZx8LsL1sVS4NL8ItiB7sgAcEKcWHfUCVhK3kUVnBNbfXIs4l5xAv5sJs234eTUy93L0Au2otQOw5ORMyfQ6WwexFupVSHowG6uThXfebmlhWojMS3fazmMeGxEI6S2SUti6RAo2vKohVuH3qUG5FWm/PjH8kzutgSH5g58xrVwzIbZkxHf7OFjFC+wrMDXcpOqOKX/g01U/XPvVJyxdWsiJblqYmnZoWbDxAcR56X5WPuh4ewcL5PY9JBRUYjc7fzjG6Uc3mHBWbg23X1BLaFHOSnrw4bWiNAXSEWcWRntIignXTP/oDsfKZX66mMbZAPfhviU1AyYmJLYAMZa/QXjUSeIiixpj3UUFtd884KytjN7EjdGNNMbWwtlf3FvbQ4OQtIoYSzbxqVDLXMTxP8jnnbiyKcaJLvueGLD6kXW2sKZov1tpn7hwXf3ZUvq0K2FXOM7Op/Xgb6PhxsWIErYGVuK3WGXWkkwMMZVCVl5kWtax5A6usgemvnx4DelUcYcFC0eIbcbXKzggeyBjeXIhkftaKknJKLtnuSg7KmKQsrH+1nqbmLWY6w/tBGy/8xrruR5SM99LLIjfT/4ZbNZnQEPssIVb21rKTGRIPDagNoLdFMKgcuLc/TF6Bulk6c7ovg4TU+XvS6FNw1tDfVqH9MOPmBDui0hcK6wz744FlDjNe0m3aVldJYagtI6YbF+3ZGPsQHlN1vbeh8lJofqJ+uo9Zi4wXZxKFiXKGxbHT7pNq71oNg4Qi6MviE0FpRVqjGXILYoJ4tCjdYU1rWeMdPLc/ochj3B9pGNGL4NupGPRlUl35KMVxFLNO6ZnxYlBsUPqoMkbUqAb6VhMVKQ7MVT1dYdrL8hzEAcjpmvjHKphgaFb0ZVJZw7dwVD9q5fkgPTRbBxnzmGfgRLQsMCkG+moQdcp6GzzZsL2MGyllvBNGWM9RqMCk26kI7aBK526csVShZTfzid6FEzeiNAGP92jpCPQEbrW7EW5MbZxAz/fN9lg0IbQaaxrQ83/VoKPb/HqJx67Hw+43CDQBPsX0gm6ufXNvH4vP9rZapzx7+Nn+oxZAjfo2caZ3n350c5W6FSEdQ86sNarj3c/jRV+H42AXsdGRBfPPIlnb/mUtxzWXfALn/PmRze2Gud6E/xsXwYtnlsWN8Tc5/oyxjn/jvyJrlY82xLUfWuPr/TqxzuXQZkIP9M7CXiyuP4B4WmsTnNhzinjrD+WO9bRhmdZWLXe4EKRtV5tpN3Hx3s2G+d79/MJf4qff0LnE72kfFEs4ITQvWLMab8C131dP9n9Je1Yx000Nz2jAf+UJwCBchc3NvGR1Qx71XXY2Ww1Jvx7YalzAPkX9rp5E5Z+pv+ja8bE43uN491b9dHO9Xx4lUxziLn21Nai/wXWM6t9vkvtrwAAAABJRU5ErkJggg=="}get chains(){return t0}get accounts(){return[y]}get features(){return{"standard:connect":{version:"1.0.0",connect:cs(this,e)},"standard:events":{version:"1.0.0",on:cs(this,t)},"sui:signPersonalMessage":{version:"1.1.0",signPersonalMessage:cs(this,r)},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:cs(this,i)},"sui:signAndExecuteTransactionBlock":{version:"1.0.0",signAndExecuteTransactionBlock:cs(this,l)},"sui:signTransaction":{version:"2.0.0",signTransaction:cs(this,a)},"sui:signAndExecuteTransaction":{version:"2.0.0",signAndExecuteTransaction:cs(this,c)}}}}return t=new WeakMap,e=new WeakMap,r=new WeakMap,i=new WeakMap,a=new WeakMap,l=new WeakMap,c=new WeakMap,g.register(new v)}function zP(){const{currentWallet:n}=Wa(),t=Mn(e=>e.updateWalletAccounts);z.useEffect(()=>n?.features["standard:events"].on("change",({accounts:r})=>{r&&t(r)}),[n?.features,t])}function $P(n,t){const e=Mn(i=>i.setWalletRegistered),r=Mn(i=>i.setWalletUnregistered);z.useEffect(()=>{const i=Lf();e(Td(n,t));const a=i.on("register",()=>{e(Td(n,t))}),l=i.on("unregister",c=>{r(Td(n,t),c)});return()=>{a(),l()}},[n,t,e,r])}var QP={blurs:{modalOverlay:"blur(0)"},backgroundColors:{primaryButton:"#F6F7F9",primaryButtonHover:"#F0F2F5",outlineButtonHover:"#F4F4F5",modalOverlay:"rgba(24 36 53 / 20%)",modalPrimary:"white",modalSecondary:"#F7F8F8",iconButton:"transparent",iconButtonHover:"#F0F1F2",dropdownMenu:"#FFFFFF",dropdownMenuSeparator:"#F3F6F8",walletItemSelected:"white",walletItemHover:"#3C424226"},borderColors:{outlineButton:"#E4E4E7"},colors:{primaryButton:"#373737",outlineButton:"#373737",iconButton:"#000000",body:"#182435",bodyMuted:"#767A81",bodyDanger:"#FF794B"},radii:{small:"6px",medium:"8px",large:"12px",xlarge:"16px"},shadows:{primaryButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",walletItemSelected:"0px 2px 6px rgba(0, 0, 0, 0.05)"},fontWeights:{normal:"400",medium:"500",bold:"600"},fontSizes:{small:"14px",medium:"16px",large:"18px",xlarge:"20px"},typography:{fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontStyle:"normal",lineHeight:"1.3",letterSpacing:"1"}};function qP({wallets:n,storage:t,storageKey:e,autoConnectEnabled:r}){return Y5()(ZF((i,a)=>({autoConnectEnabled:r,wallets:n,accounts:[],currentWallet:null,currentAccount:null,lastConnectedAccountAddress:null,lastConnectedWalletName:null,connectionStatus:"disconnected",supportedIntents:[],setConnectionStatus(l){i(()=>({connectionStatus:l}))},setWalletConnected(l,c,g,f=[]){i(()=>({accounts:c,currentWallet:l,currentAccount:g,lastConnectedWalletName:Ls(l),lastConnectedAccountAddress:g?.address,connectionStatus:"connected",supportedIntents:f}))},setWalletDisconnected(){i(()=>({accounts:[],currentWallet:null,currentAccount:null,lastConnectedWalletName:null,lastConnectedAccountAddress:null,connectionStatus:"disconnected",supportedIntents:[]}))},setAccountSwitched(l){i(()=>({currentAccount:l,lastConnectedAccountAddress:l.address}))},setWalletRegistered(l){i(()=>({wallets:l}))},setWalletUnregistered(l,c){c===a().currentWallet?i(()=>({wallets:l,accounts:[],currentWallet:null,currentAccount:null,lastConnectedWalletName:null,lastConnectedAccountAddress:null,connectionStatus:"disconnected",supportedIntents:[]})):i(()=>({wallets:l}))},updateWalletAccounts(l){const c=a().currentAccount;i(()=>({accounts:l,currentAccount:c&&l.find(({address:g})=>g===c.address)||l[0]}))}}),{name:e,storage:AL(()=>t),partialize:({lastConnectedWalletName:i,lastConnectedAccountAddress:a})=>({lastConnectedWalletName:i,lastConnectedAccountAddress:a})}))}var WP={blurs:{modalOverlay:""},backgroundColors:{primaryButton:"",primaryButtonHover:"",outlineButtonHover:"",walletItemHover:"",walletItemSelected:"",modalOverlay:"",modalPrimary:"",modalSecondary:"",iconButton:"",iconButtonHover:"",dropdownMenu:"",dropdownMenuSeparator:""},borderColors:{outlineButton:""},colors:{primaryButton:"",outlineButton:"",body:"",bodyMuted:"",bodyDanger:"",iconButton:""},radii:{small:"",medium:"",large:"",xlarge:""},shadows:{primaryButton:"",walletItemSelected:""},fontWeights:{normal:"",medium:"",bold:""},fontSizes:{small:"",medium:"",large:"",xlarge:""},typography:{fontFamily:"",fontStyle:"",lineHeight:"",letterSpacing:""}},GP=m7(WP,(n,t)=>`dapp-kit-${t.join("-")}`);function VP({theme:n}){const t=Array.isArray(n)?KP(n):UL(n);return j.jsx("style",{precedence:"default",href:"mysten-dapp-kit-theme",dangerouslySetInnerHTML:{__html:t}})}function KP(n){return n.map(({mediaQuery:t,selector:e,variables:r})=>{const i=UL(r),a=e?`${e} ${i}`:i;return t?`@media ${t}{${a}}`:a}).join(" ")}function UL(n){return`${T7} {${HP(n)}}`}function HP(n){return Object.entries(JF(GP,n)).map(([t,e])=>`${t}:${e};`).join("")}function YP({preferredWallets:n=kL,walletFilter:t=R0,storage:e=O7,storageKey:r=B7,enableUnsafeBurner:i=!1,autoConnect:a=!1,slushWallet:l,theme:c=QP,children:g}){const f=z.useRef(qP({autoConnectEnabled:a,wallets:Td(n,t),storage:e||BL(),storageKey:r}));return j.jsx(ML.Provider,{value:f.current,children:j.jsxs(ZP,{preferredWallets:n,walletFilter:t,enableUnsafeBurner:i,slushWallet:l,children:[c?j.jsx(VP,{theme:c}):null,g]})})}function ZP({preferredWallets:n=kL,walletFilter:t=R0,enableUnsafeBurner:e=!1,slushWallet:r,children:i}){return $P(n,t),zP(),jP(r),DP(e),NP(),i}function XP(n){function t(){const{config:i}=Rf();if(!i)throw new Error("No network config found");return i}function e(){const{variables:i}=t();return i??{}}function r(i){return e()[i]}return{networkConfig:n,useNetworkConfig:t,useNetworkVariables:e,useNetworkVariable:r}}function JP({mutationKey:n,...t}={}){const{currentWallet:e}=Wa(),r=qa();return Sl({mutationKey:Qa.reportTransactionEffects(n),mutationFn:async({effects:i,chain:a=e?.chains[0],account:l=r})=>{if(!e)throw new Nf("No wallet is connected.");if(!l)throw new jL("No wallet account is selected to report transaction effects for");const c=e.features["sui:reportTransactionEffects"];if(c)return await c.reportTransactionEffects({effects:Array.isArray(i)?Se(new Uint8Array(i)):i,account:l,chain:a??e?.chains[0]})},...t})}function zL({mutationKey:n,execute:t,...e}={}){const{currentWallet:r,supportedIntents:i}=Wa(),a=qa(),{client:l,network:c}=Rf(),{mutate:g}=JP(),f=t??(async({bytes:d,signature:y})=>{const{digest:v,rawEffects:w}=await l.executeTransactionBlock({transactionBlock:d,signature:y,options:{showRawEffects:!0}});return{digest:v,rawEffects:w,effects:Se(new Uint8Array(w)),bytes:d,signature:y}});return Sl({mutationKey:Qa.signAndExecuteTransaction(n),mutationFn:async({transaction:d,...y})=>{if(!r)throw new Nf("No wallet is connected.");const v=y.account??a;if(!v)throw new jL("No wallet account is selected to sign the transaction with.");if(!r.features["sui:signTransaction"]&&!r.features["sui:signTransactionBlock"])throw new LP("This wallet doesn't support the `signTransaction` feature.");typeof d!="string"&&"setSenderIfNotSet"in d&&d.setSenderIfNotSet(v.address);const w=y.chain??`sui:${c}`,{signature:F,bytes:B}=await R6(r,{...y,transaction:{async toJSON(){return typeof d=="string"?d:await d.toJSON({supportedIntents:i,client:l})}},account:v,chain:w}),x=await f({bytes:B,signature:F});let M;if("effects"in x&&x.effects?.bcs)M=x.effects.bcs;else if("rawEffects"in x)M=Se(new Uint8Array(x.rawEffects));else throw new Error("Could not parse effects from transaction result.");return g({effects:M,account:v,chain:w}),x},...e})}const tT=()=>{const{toggleDarkMode:n}=fw(),{currentPage:t,navigate:e}=gw();return j.jsx("nav",{className:"bg-gray-200 dark:bg-gray-800 p-4 shadow-md",children:j.jsxs("div",{className:"flex flex-row justify-between items-center",children:[j.jsxs("ul",{className:"flex space-x-6",children:[j.jsx("li",{children:j.jsx("button",{onClick:()=>e("/"),className:`px-4 py-2 rounded ${t==="/"?"bg-blue-500 text-white":"hover:bg-gray-300 dark:hover:bg-gray-700"}`,children:"Home"})}),j.jsx("li",{children:j.jsx("button",{onClick:()=>e("/wallet"),className:`px-4 py-2 rounded ${t==="/wallet"?"bg-blue-500 text-white":"hover:bg-gray-300 dark:hover:bg-gray-700"}`,children:"Wallet"})})]}),j.jsxs("div",{className:"flex space-x-6 all-[initial]",children:[j.jsx("button",{onClick:n,className:"px-4 py-2 rounded bg-blue-500 text-white  hover:bg-gray-300 dark:hover:bg-gray-700",children:"Toggle Me"}),j.jsx(RP,{})]})]})})},eT=({children:n})=>{const[t,e]=z.useState(window.location.pathname),r=i=>{e(i),window.history.pushState({},"",i)};return z.useEffect(()=>{const i=()=>{e(window.location.pathname)};return window.addEventListener("popstate",i),()=>window.removeEventListener("popstate",i)},[]),j.jsx(hw.Provider,{value:{currentPage:t,navigate:r},children:n})},nT=({objectId:n})=>{const{data:t,isPending:e,error:r}=j0("getObject",{id:n,options:{showType:!0,showContent:!0,showOwner:!0}},{enabled:!!n});if(e)return j.jsx("div",{className:"text-gray-500",children:"Loading object details..."});if(r)return j.jsxs("div",{className:"text-red-500",children:["Error: ",r.message]});const i=t?.data?.type,l=i?.includes("0x2::coin::Coin")?t.data?.content?.fields?.balance:null;return j.jsxs("div",{className:"p-2 border rounded-lg bg-gray-50 dark:bg-gray-800",children:[j.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[j.jsx("strong",{children:"Object ID:"})," ",n]}),j.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[j.jsx("strong",{children:"Type:"})," ",i||"Unknown"]}),i?.startsWith("0x2::coin::Coin")&&l&&j.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[j.jsx("strong",{children:"Balance:"})," ",Number(l)," SUI"]})]})},rT=()=>{const n=qa(),{data:t,isPending:e,error:r}=j0("getOwnedObjects",{owner:n?.address},{enabled:!!n});return n?r?j.jsxs("div",{className:"text-red-500",children:["Error: ",r.message]}):e||!t?j.jsx("div",{className:"text-center text-gray-500",children:"Loading..."}):j.jsxs("div",{className:"flex flex-col my-4 space-y-4",children:[t.data.length===0?j.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"No objects owned by the connected wallet"}):j.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Objects owned by the connected wallet"}),j.jsx("div",{className:"space-y-2",children:t.data.map(i=>j.jsx(nT,{objectId:i.data?.objectId}))})]}):null},iT=()=>{const n=qa();return j.jsxs("div",{className:"my-2 p-4 border rounded-lg bg-gray-100 dark:bg-gray-800",children:[j.jsx("h2",{className:"mb-2 text-xl font-bold",children:"Wallet Status"}),n?j.jsxs("div",{className:"flex flex-col space-y-1",children:[j.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Wallet connected"}),j.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Address: ",j.jsx("span",{className:"font-mono",children:n.address})]})]}):j.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Wallet not connected"}),j.jsx(rT,{})]})},oT=()=>j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"text-center",children:j.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Wallet Info"})}),j.jsx(iT,{})]}),Aa="0xcd6a27ea0cbb9b409f66b83fa0856f30e91a326e0d885f189ff123da642e4a0b",sT="0x8",Cs=1e8,a2=15e6,Er=n=>parseFloat((n/1e9).toFixed(9)).toString(),y1=()=>{const n=new Uint8Array(4);crypto.getRandomValues(n);let t=0n;for(let e=0;e<4;e++)t=t<<8n|BigInt(n[e]);return t&(1n<<31n)-1n},w1=(n,t)=>{const e=n*n,r=t*t;return e+r},$L=()=>{const[n,t]=z.useState(""),[e,r]=z.useState(""),[i,a]=z.useState(""),[l,c]=z.useState(!1),[g,f]=z.useState(!1),[d,y]=z.useState("");return z.useEffect(()=>{const F=localStorage.getItem("lotteryCommitment"),B=localStorage.getItem("lotterySecret");F&&t(F),B&&a(B)},[]),{commitment:n,walrusBlobId:e,generatedSecret:i,isGeneratingSecret:l,isRetrievingSecret:g,status:d,handleGenerateAndUploadSecret:async()=>{c(!0),y("Generating commitment...");try{const F=y1(),B=y1(),x=w1(F,B),M=`${F.toString()},${B.toString()}`;a(M),t(x.toString()),r(""),localStorage.setItem("lotterySecret",M),localStorage.setItem("lotteryCommitment",x.toString()),y(` Commitment generated!

Secret: ${F.toString()}
Nullifier: ${B.toString()}
Commitment: ${x.toString()}

 Saved to localStorage! You can now use this for all lottery picks.

 IMPORTANT: Copy these values somewhere safe! If you lose them, you won't be able to claim prizes.`),c(!1)}catch(F){console.error("Error generating commitment:",F),y(`Error: ${F.message}`),c(!1)}},handleRetrieveSecretFromWalrus:async F=>{const B=F.trim();if(!B){y("Please enter your secret data (format: secret,nullifier)");return}f(!0),y("Loading secret...");try{const[x,M]=B.split(",");if(!x||!M)throw new Error("Invalid format. Please use: secret,nullifier");const O=BigInt(x.trim()),$=BigInt(M.trim()),D=w1(O,$);a(B),t(D.toString()),r(""),localStorage.setItem("lotterySecret",B),localStorage.setItem("lotteryCommitment",D.toString()),y(` Secret loaded!
Commitment: ${D.toString()}

You can now use this for lottery picks.`)}catch(x){console.error("Error loading secret:",x),y(`Error: ${x.message}`)}finally{f(!1)}}}},aT=({onStatusChange:n})=>{const{commitment:t,generatedSecret:e,isGeneratingSecret:r,isRetrievingSecret:i,status:a,handleGenerateAndUploadSecret:l,handleRetrieveSecretFromWalrus:c}=$L(),[g,f]=z.useState("");n&&a&&n(a);const d=()=>{c(g)};return j.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[j.jsx("h3",{className:"text-xl font-semibold mb-4",children:"My Secret (One-Time Setup)"}),j.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Generate your secret once and use it for all lottery picks. This allows anonymous prize claiming with ZK proofs."}),j.jsxs("div",{className:"flex flex-col gap-4",children:[j.jsx("div",{children:j.jsx("button",{onClick:l,disabled:r,className:"w-full px-6 py-3 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",children:r?"Generating...":t?" Secret Active - Click to Regenerate":"Generate Secret"})}),j.jsxs("div",{className:"border-t dark:border-gray-700 pt-4",children:[j.jsx("h4",{className:"font-semibold mb-2",children:"Or Load Existing Secret"}),j.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:"If you have your secret from before, enter it here (format: secret,nullifier)"}),j.jsxs("div",{className:"flex gap-2",children:[j.jsx("input",{type:"text",value:g,onChange:y=>f(y.target.value),placeholder:"secret,nullifier",className:"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 font-mono text-sm"}),j.jsx("button",{onClick:d,disabled:i||!g.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",children:i?"Loading...":"Load Secret"})]})]}),e&&t&&j.jsxs("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded",children:[j.jsx("p",{className:"text-xs font-semibold text-green-800 dark:text-green-200 mb-2",children:" Secret Active - Use this for all lottery picks!"}),j.jsxs("div",{className:"space-y-2",children:[j.jsxs("div",{children:[j.jsx("p",{className:"text-xs font-medium mb-1",children:"Your Secret Data:"}),j.jsx("code",{className:"block text-xs bg-white dark:bg-gray-800 p-2 rounded break-all font-mono",children:e})]}),j.jsxs("div",{children:[j.jsx("p",{className:"text-xs font-medium mb-1",children:"Base Commitment (for reference):"}),j.jsx("code",{className:"block text-xs bg-white dark:bg-gray-800 p-2 rounded break-all font-mono",children:t})]}),j.jsx("p",{className:"text-xs text-yellow-800 dark:text-yellow-200 mt-2 font-medium",children:" Save your secret data somewhere safe! You'll need it to claim prizes."})]})]})]})]})};function jf(n){const t=[];for(let e=0;e<n.length;e+=2)t.push(parseInt(n.substr(e,2),16));return t}const cT="28c0a0bd10a78b77800f12f2cc20f7a1023ebac332f05cd324b362576a474b262a30d066418b9291aed7015e79edb0bedaaf4611d6d440facfae311a761b51f5226cbc2437913f351113c4cd7aa1b02286dabbfac9b0277eec3991d4576617ed1fc2d63fe201442f143ff7a16537e976e12e23a3c37f611a8674f56f0c557922089b150cc1fe4ea2c1ed905fa6ac3279808067fd2a94d62e0e006921b436dcf815b9645b78dd93d9caeb7e958da07a23a7263cd6def017d9df276ae06ddd91a8",lT="1d2c6d90e83ebedd50dd18e9aad4f7e0aecdd35329cc0c4bccc4c7c923a26fe116a90cd4268a9219a9fd2edbeb3d5a3ef62de1e2d6d993d2d29956386dca5075293f8c2ea380e6ad29962e8428b506b08776e8ead48e4a34e85dbfd44c4b83f01c5788b47ef959de41f759976ae04f9ae4e386b19579769fc3aa1b4e1d9e46c92ee84af4c31d0646e958c24dcbac41ec4174f879eba6a5e2e4195acd164dd11328a20e8fd086eb6570499156729238cc48678220e7fb03f19eba3ec844b687f401093d03f32aceef3ac2d575afe20bf165822aa697ac539135dc9e6f52efe06824319674d48678e82ca30042ac2ef072fd5454df1fd1dc36b16cf0ca57feb92404bd9668884026c441f2645257a860d434b2e4105f506deef326d8315af3bc7a0a1639362c5f21bdb3b958468abe54162beedb0037d2908b8249dcef1665dca501e18177bcbbddcc3a38538f9a9207218a13fcc2a13858e7f6abfc632d86b6cb3032177531dd92444df2d19517da52cf3ba8cd394ce4464f5fe100a7cb04eee1",uT="1800deef121f1e76426a00665e5c4479674322d4f75edadd46debd5cd992f6ed198e9393920d483a7260bfb731fb5d25f1aa493335a9e71297e485b7aef312c212c85ea5db8c6deb4aab71808dcb408fe3d1e7690c43d37b4ce6cc0166fa7daa090689d0585ff075ec9e99ad690c3395bc4b313370b38ef355acdadcd122975b",dT="18bb47a0c30342d980050511120bb7c8b932fab03d38da2dc343e750f3ca5ac32e92cb273eb8178762b9c39afe16652b9b57762537138a62450f92bc6e44cc410b1f72e46f75ad40539ce4059ff22f0a58ad0b2b76783ffcb1d1358a87dc57360082a701d3d94d4082df35c9635ab8dd3388614c88a6b2ae0d8bd53279c167e9",c2=jf(cT),l2=jf(lT),u2=jf(uT),d2=jf(dT);c2.length+l2.length+u2.length+d2.length,c2.length,l2.length,u2.length,d2.length;const fT=({isLoading:n,onLoadingChange:t,onStatusChange:e,onLotteryCreated:r})=>{const{mutate:i}=zL(),a=async()=>{if(!n){t(!0),e("Creating lottery...");try{const l=new zi,[c]=l.splitCoins(l.gas,[Cs]);l.moveCall({target:`${Aa}::random_poc::create_lottery`,arguments:[c,l.pure.vector("u8",c2),l.pure.vector("u8",l2),l.pure.vector("u8",u2),l.pure.vector("u8",d2)]}),i({transaction:l},{onSuccess:g=>{console.log("Transaction successful:",g),e(`Lottery created successfully! Digest: ${g.digest}`),t(!1),setTimeout(()=>r(),2e3)},onError:g=>{console.error("Transaction failed:",g),e(`Error: ${g.message}`),t(!1)}})}catch(l){console.error("Error creating lottery:",l),e(`Error: ${l.message}`),t(!1)}}};return j.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[j.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Create New Lottery"}),j.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["Create a 3x3 lottery with 9 slots. Players pay ",Er(15e6)," ","SUI per pick. Winner gets ",Er(Cs)," SUI! Includes Groth16 verification keys for anonymous prize claiming with ZK proofs."]}),j.jsx("button",{onClick:a,disabled:n,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",children:n?"Processing...":`Create Lottery (Pay ${Er(Cs)} SUI)`})]})},hT=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];function Df(n,t){if(!t||t==10)return BigInt(n);if(t==16)return n.slice(0,2)=="0x"?BigInt(n):BigInt("0x"+n)}const Ke=Df;function gT(n,t){let e=BigInt(0);t=BigInt(t);for(let r=0;r<n.length;r++)e=e*t+BigInt(n[r]);return e}function Rl(n){const t=n.toString(16);return(t.length-1)*4+hT[parseInt(t[0],16)]}function QL(n){return BigInt(n)<BigInt(0)}function qL(n){return!n}function ff(n,t){return BigInt(n)<<BigInt(t)}function Ba(n,t){return BigInt(n)>>BigInt(t)}const pT=ff,mT=Ba;function D0(n){return(BigInt(n)&BigInt(1))==BigInt(1)}function _T(n){let t=BigInt(n);const e=[];for(;t;){if(t&BigInt(1)){const r=2-Number(t%BigInt(4));e.push(r),t=t-BigInt(r)}else e.push(0);t=t>>BigInt(1)}return e}function WL(n){let t=BigInt(n);const e=[];for(;t;)t&BigInt(1)?e.push(1):e.push(0),t=t>>BigInt(1);return e}function GL(n){if(n>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("Number too big");return Number(n)}function yT(n,t){const e=[];let r=BigInt(n);for(t=BigInt(t);r;)e.unshift(Number(r%t)),r=r/t;return e}function U0(n,t){return BigInt(n)+BigInt(t)}function Qi(n,t){return BigInt(n)-BigInt(t)}function VL(n){return-BigInt(n)}function KL(n,t){return BigInt(n)*BigInt(t)}function wT(n){return BigInt(n)*BigInt(n)}function Nl(n,t){return BigInt(n)**BigInt(t)}function vT(n,t){return BigInt(n)**BigInt(t)}function bT(n){return BigInt(n)>=0?BigInt(n):-BigInt(n)}function Ta(n,t){return BigInt(n)/BigInt(t)}function di(n,t){return BigInt(n)%BigInt(t)}function hs(n,t){return BigInt(n)==BigInt(t)}function AT(n,t){return BigInt(n)!=BigInt(t)}function LT(n,t){return BigInt(n)<BigInt(t)}function f2(n,t){return BigInt(n)>BigInt(t)}function CT(n,t){return BigInt(n)<=BigInt(t)}function HL(n,t){return BigInt(n)>=BigInt(t)}function z0(n,t){return BigInt(n)&BigInt(t)}function IT(n,t){return BigInt(n)|BigInt(t)}function xT(n,t){return BigInt(n)^BigInt(t)}function ET(n,t){return BigInt(n)&&BigInt(t)}function ST(n,t){return BigInt(n)||BigInt(t)}function OT(n){return!BigInt(n)}function bl(n,t,e,r){const i="0000000"+e.toString(16),a=new Uint32Array(n.buffer,n.byteOffset+t,r/4),l=((i.length-7)*4-1>>5)+1;for(let c=0;c<l;c++)a[c]=parseInt(i.substring(i.length-8*c-8,i.length-8*c),16);for(let c=l;c<a.length;c++)a[c]=0;for(let c=a.length*4;c<r;c++)n[c]=GL(z0(Ba(e,c*8),255))}function YL(n,t,e,r){const i="0000000"+e.toString(16),a=new DataView(n.buffer,n.byteOffset+t,r),l=((i.length-7)*4-1>>5)+1;for(let c=0;c<l;c++)a.setUint32(r-c*4-4,parseInt(i.substring(i.length-8*c-8,i.length-8*c),16),!1);for(let c=0;c<r/4-l;c++)a[c]=0}function Al(n,t,e){e=e||n.byteLength,t=t||0;const r=new Uint32Array(n.buffer,n.byteOffset+t,e/4),i=new Array(e/4);return r.forEach((a,l)=>i[i.length-l-1]=a.toString(16).padStart(8,"0")),Df(i.join(""),16)}function ZL(n,t,e){e=e||n.byteLength,t=t||0;const r=new DataView(n.buffer,n.byteOffset+t,e),i=new Array(e/4);for(let a=0;a<e/4;a++)i[a]=r.getUint32(a*4,!1).toString(16).padStart(8,"0");return Df(i.join(""),16)}function XL(n,t){return n.toString(t)}function Ra(n){const t=new Uint8Array(Math.floor((Rl(n)-1)/8)+1);return bl(t,0,n,t.byteLength),t}const JL=Ke(0),gs=Ke(1);var BT=Object.freeze({__proto__:null,abs:bT,add:U0,band:z0,bitLength:Rl,bits:WL,bor:IT,bxor:xT,div:Ta,e:Ke,eq:hs,exp:vT,fromArray:gT,fromRprBE:ZL,fromRprLE:Al,fromString:Df,geq:HL,gt:f2,isNegative:QL,isOdd:D0,isZero:qL,land:ET,leq:CT,lnot:OT,lor:ST,lt:LT,mod:di,mul:KL,naf:_T,neg:VL,neq:AT,one:gs,pow:Nl,shiftLeft:ff,shiftRight:Ba,shl:pT,shr:mT,square:wT,sub:Qi,toArray:yT,toLEBuff:Ra,toNumber:GL,toRprBE:YL,toRprLE:bl,toString:XL,zero:JL});function v1(n,t,e){if(qL(e))return n.one;const r=WL(e);if(r.length==0)return n.one;let i=t;for(let a=r.length-2;a>=0;a--)i=n.square(i),r[a]&&(i=n.mul(i,t));return i}function kT(n){if(n.m%2==1)if(hs(di(n.p,4),1))if(hs(di(n.p,8),1))if(hs(di(n.p,16),1))MT(n);else if(hs(di(n.p,16),9))FT(n);else throw new Error("Field withot sqrt");else if(hs(di(n.p,8),5))PT(n);else throw new Error("Field withot sqrt");else hs(di(n.p,4),3)&&TT(n);else{const t=di(Nl(n.p,n.m/2),4);t==1?RT(n):t==3?NT(n):jT(n)}}function MT(n){for(n.sqrt_q=Nl(n.p,n.m),n.sqrt_s=0,n.sqrt_t=Qi(n.sqrt_q,1);!D0(n.sqrt_t);)n.sqrt_s=n.sqrt_s+1,n.sqrt_t=Ta(n.sqrt_t,2);let t=n.one;for(;n.eq(t,n.one);){const e=n.random();n.sqrt_z=n.pow(e,n.sqrt_t),t=n.pow(n.sqrt_z,2**(n.sqrt_s-1))}n.sqrt_tm1d2=Ta(Qi(n.sqrt_t,1),2),n.sqrt=function(e){const r=this;if(r.isZero(e))return r.zero;let i=r.pow(e,r.sqrt_tm1d2);const a=r.pow(r.mul(r.square(i),e),2**(r.sqrt_s-1));if(r.eq(a,r.negone))return null;let l=r.sqrt_s,c=r.mul(e,i),g=r.mul(c,i),f=r.sqrt_z;for(;!r.eq(g,r.one);){let d=r.square(g),y=1;for(;!r.eq(d,r.one);)d=r.square(d),y++;i=f;for(let v=0;v<l-y-1;v++)i=r.square(i);f=r.square(i),g=r.mul(g,f),c=r.mul(c,i),l=y}return r.geq(c,r.zero)?c:r.neg(c)}}function FT(n){n.sqrt=function(){throw new Error("Sqrt alg 4 not implemented")}}function PT(n){n.sqrt=function(){throw new Error("Sqrt alg 3 not implemented")}}function TT(n){n.sqrt_q=Nl(n.p,n.m),n.sqrt_e1=Ta(Qi(n.sqrt_q,3),4),n.sqrt=function(t){if(this.isZero(t))return this.zero;const e=this.pow(t,this.sqrt_e1),r=this.mul(this.square(e),t);if(this.eq(r,this.negone))return null;const i=this.mul(e,t);return n.geq(i,n.zero)?i:n.neg(i)}}function RT(n){n.sqrt=function(){throw new Error("Sqrt alg 10 not implemented")}}function NT(n){n.sqrt_q=Nl(n.p,n.m/2),n.sqrt_e34=Ta(Qi(n.sqrt_q,3),4),n.sqrt_e12=Ta(Qi(n.sqrt_q,1),2),n.frobenius=function(t,e){return t%2==1?n.conjugate(e):e},n.sqrt=function(t){const e=this,r=e.pow(t,e.sqrt_e34),i=e.mul(e.square(r),t),a=e.mul(e.frobenius(1,i),i);if(e.eq(a,e.negone))return null;const l=e.mul(r,t);let c;if(e.eq(i,e.negone))c=e.mul(l,[e.F.zero,e.F.one]);else{const g=e.pow(e.add(e.one,i),e.sqrt_e12);c=e.mul(g,l)}return e.geq(c,e.zero)?c:e.neg(c)}}function jT(n){n.sqrt=function(){throw new Error("Sqrt alg 8 not implemented")}}function xo(n,t,e,r,i){n[t]=n[t]+n[e]>>>0,n[i]=(n[i]^n[t])>>>0,n[i]=(n[i]<<16|n[i]>>>16&65535)>>>0,n[r]=n[r]+n[i]>>>0,n[e]=(n[e]^n[r])>>>0,n[e]=(n[e]<<12|n[e]>>>20&4095)>>>0,n[t]=n[t]+n[e]>>>0,n[i]=(n[i]^n[t])>>>0,n[i]=(n[i]<<8|n[i]>>>24&255)>>>0,n[r]=n[r]+n[i]>>>0,n[e]=(n[e]^n[r])>>>0,n[e]=(n[e]<<7|n[e]>>>25&127)>>>0}function DT(n){xo(n,0,4,8,12),xo(n,1,5,9,13),xo(n,2,6,10,14),xo(n,3,7,11,15),xo(n,0,5,10,15),xo(n,1,6,11,12),xo(n,2,7,8,13),xo(n,3,4,9,14)}class UT{constructor(t){t=t||[0,0,0,0,0,0,0,0],this.state=[1634760805,857760878,2036477234,1797285236,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],0,0,0,0],this.idx=16,this.buff=new Array(16)}nextU32(){return this.idx==16&&this.update(),this.buff[this.idx++]}nextU64(){return U0(KL(this.nextU32(),4294967296),this.nextU32())}nextBool(){return(this.nextU32()&1)==1}update(){for(let t=0;t<16;t++)this.buff[t]=this.state[t];for(let t=0;t<10;t++)DT(this.buff);for(let t=0;t<16;t++)this.buff[t]=this.buff[t]+this.state[t]>>>0;this.idx=0,this.state[12]=this.state[12]+1>>>0,this.state[12]==0&&(this.state[13]=this.state[13]+1>>>0,this.state[13]==0&&(this.state[14]=this.state[14]+1>>>0,this.state[14]==0&&(this.state[15]=this.state[15]+1>>>0)))}}function tC(n){let t=new Uint8Array(n);if(typeof globalThis.crypto<"u")globalThis.crypto.getRandomValues(t);else for(let e=0;e<n;e++)t[e]=Math.random()*4294967296>>>0;return t}function zT(){const n=tC(32),t=new Uint32Array(n.buffer),e=[];for(let r=0;r<8;r++)e.push(t[r]);return e}let od=null;function $0(){return od||(od=new UT(zT()),od)}class $T{constructor(t,e,r){this.F=e,this.G=t,this.opMulGF=r;let i=e.sqrt_t||e.t,a=e.sqrt_s||e.s,l=e.one;for(;e.eq(e.pow(l,e.half),e.one);)l=e.add(l,e.one);this.w=new Array(a+1),this.wi=new Array(a+1),this.w[a]=this.F.pow(l,i),this.wi[a]=this.F.inv(this.w[a]);let c=a-1;for(;c>=0;)this.w[c]=this.F.square(this.w[c+1]),this.wi[c]=this.F.square(this.wi[c+1]),c--;this.roots=[],this._setRoots(Math.min(a,15))}_setRoots(t){for(let e=t;e>=0&&!this.roots[e];e--){let r=this.F.one;const i=1<<e,a=new Array(i);for(let l=0;l<i;l++)a[l]=r,r=this.F.mul(r,this.w[e]);this.roots[e]=a}}fft(t){if(t.length<=1)return t;const e=b1(t.length-1)+1;this._setRoots(e);const r=1<<e;if(t.length!=r)throw new Error("Size must be multiple of 2");return hf(this,t,e,0,1)}ifft(t){if(t.length<=1)return t;const e=b1(t.length-1)+1;this._setRoots(e);const r=1<<e;if(t.length!=r)throw new Error("Size must be multiple of 2");const i=hf(this,t,e,0,1),a=this.F.inv(this.F.mulScalar(this.F.one,r)),l=new Array(r);for(let c=0;c<r;c++)l[c]=this.opMulGF(i[(r-c)%r],a);return l}}function b1(n){return((n&4294901760)!==0?(n&=4294901760,16):0)|((n&4278255360)!==0?(n&=4278255360,8):0)|((n&4042322160)!==0?(n&=4042322160,4):0)|((n&3435973836)!==0?(n&=3435973836,2):0)|(n&2863311530)!==0}function hf(n,t,e,r,i){const a=1<<e;if(a==1)return[t[r]];if(a==2)return[n.G.add(t[r],t[r+i]),n.G.sub(t[r],t[r+i])];const l=a>>1,c=hf(n,t,e-1,r,i*2),g=hf(n,t,e-1,r+i,i*2),f=new Array(a);for(let d=0;d<l;d++)f[d]=n.G.add(c[d],n.opMulGF(g[d],n.roots[e][d])),f[d+l]=n.G.sub(c[d],n.opMulGF(g[d],n.roots[e][d]));return f}class QT{constructor(t){this.type="F1",this.one=BigInt(1),this.zero=BigInt(0),this.p=BigInt(t),this.m=1,this.negone=this.p-this.one,this.two=BigInt(2),this.half=this.p>>this.one,this.bitLength=Rl(this.p),this.mask=(this.one<<BigInt(this.bitLength))-this.one,this.n64=Math.floor((this.bitLength-1)/64)+1,this.n32=this.n64*2,this.n8=this.n64*8,this.R=this.e(this.one<<BigInt(this.n64*64)),this.Ri=this.inv(this.R);const e=this.negone>>this.one;this.nqr=this.two;let r=this.pow(this.nqr,e);for(;!this.eq(r,this.negone);)this.nqr=this.nqr+this.one,r=this.pow(this.nqr,e);for(this.s=0,this.t=this.negone;(this.t&this.one)==this.zero;)this.s=this.s+1,this.t=this.t>>this.one;this.nqr_to_t=this.pow(this.nqr,this.t),kT(this),this.FFT=new $T(this,this,this.mul.bind(this)),this.fft=this.FFT.fft.bind(this.FFT),this.ifft=this.FFT.ifft.bind(this.FFT),this.w=this.FFT.w,this.wi=this.FFT.wi,this.shift=this.square(this.nqr),this.k=this.exp(this.nqr,2**this.s)}e(t,e){let r;if(e?e==16&&(r=BigInt("0x"+t)):r=BigInt(t),r<0){let i=-r;return i>=this.p&&(i=i%this.p),this.p-i}else return r>=this.p?r%this.p:r}add(t,e){const r=t+e;return r>=this.p?r-this.p:r}sub(t,e){return t>=e?t-e:this.p-e+t}neg(t){return t&&this.p-t}mul(t,e){return t*e%this.p}mulScalar(t,e){return t*this.e(e)%this.p}square(t){return t*t%this.p}eq(t,e){return t==e}neq(t,e){return t!=e}lt(t,e){const r=t>this.half?t-this.p:t,i=e>this.half?e-this.p:e;return r<i}gt(t,e){const r=t>this.half?t-this.p:t,i=e>this.half?e-this.p:e;return r>i}leq(t,e){const r=t>this.half?t-this.p:t,i=e>this.half?e-this.p:e;return r<=i}geq(t,e){const r=t>this.half?t-this.p:t,i=e>this.half?e-this.p:e;return r>=i}div(t,e){return this.mul(t,this.inv(e))}idiv(t,e){if(!e)throw new Error("Division by zero");return t/e}inv(t){if(!t)throw new Error("Division by zero");let e=this.zero,r=this.p,i=this.one,a=t%this.p;for(;a;){let l=r/a;[e,i]=[i,e-l*i],[r,a]=[a,r-l*a]}return e<this.zero&&(e+=this.p),e}mod(t,e){return t%e}pow(t,e){return v1(this,t,e)}exp(t,e){return v1(this,t,e)}band(t,e){const r=t&e&this.mask;return r>=this.p?r-this.p:r}bor(t,e){const r=(t|e)&this.mask;return r>=this.p?r-this.p:r}bxor(t,e){const r=(t^e)&this.mask;return r>=this.p?r-this.p:r}bnot(t){const e=t^this.mask;return e>=this.p?e-this.p:e}shl(t,e){if(Number(e)<this.bitLength){const r=t<<e&this.mask;return r>=this.p?r-this.p:r}else{const r=this.p-e;return Number(r)<this.bitLength?t>>r:this.zero}}shr(t,e){if(Number(e)<this.bitLength)return t>>e;{const r=this.p-e;if(Number(r)<this.bitLength){const i=t<<r&this.mask;return i>=this.p?i-this.p:i}else return 0}}land(t,e){return t&&e?this.one:this.zero}lor(t,e){return t||e?this.one:this.zero}lnot(t){return t?this.zero:this.one}sqrt_old(t){if(t==this.zero)return this.zero;if(this.pow(t,this.negone>>this.one)!=this.one)return null;let r=this.s,i=this.nqr_to_t,a=this.pow(t,this.t),l=this.pow(t,this.add(this.t,this.one)>>this.one);for(;a!=this.one;){let c=this.square(a),g=1;for(;c!=this.one;)g++,c=this.square(c);let f=i;for(let d=0;d<r-g-1;d++)f=this.square(f);r=g,i=this.square(f),a=this.mul(a,i),l=this.mul(l,f)}return l>this.p>>this.one&&(l=this.neg(l)),l}normalize(t,e){if(t=BigInt(t,e),t<0){let r=-t;return r>=this.p&&(r=r%this.p),this.p-r}else return t>=this.p?t%this.p:t}random(){const t=this.bitLength*2/8;let e=this.zero;for(let r=0;r<t;r++)e=(e<<BigInt(8))+BigInt(tC(1)[0]);return e%this.p}toString(t,e){e=e||10;let r;return t>this.half&&e==10?r="-"+(this.p-t).toString(e):r=t.toString(e),r}isZero(t){return t==this.zero}fromRng(t){let e;do{e=this.zero;for(let r=0;r<this.n64;r++)e+=t.nextU64()<<BigInt(64*r);e&=this.mask}while(e>=this.p);return e=e*this.Ri%this.p,e}fft(t){return this.FFT.fft(t)}ifft(t){return this.FFT.ifft(t)}toRprLE(t,e,r){bl(t,e,r,this.n64*8)}toRprBE(t,e,r){YL(t,e,r,this.n64*8)}toRprBEM(t,e,r){return this.toRprBE(t,e,this.mul(this.R,r))}toRprLEM(t,e,r){return this.toRprLE(t,e,this.mul(this.R,r))}fromRprLE(t,e){return Al(t,e,this.n8)}fromRprBE(t,e){return ZL(t,e,this.n8)}fromRprLEM(t,e){return this.mul(this.fromRprLE(t,e),this.Ri)}fromRprBEM(t,e){return this.mul(this.fromRprBE(t,e),this.Ri)}toObject(t){return t}}var Wo={};Wo.bigInt2BytesLE=function(t,e){const r=Array(e);let i=BigInt(t);for(let a=0;a<e;a++)r[a]=Number(i&0xFFn),i=i>>8n;return r};Wo.bigInt2U32LE=function(t,e){const r=Array(e);let i=BigInt(t);for(let a=0;a<e;a++)r[a]=Number(i&0xFFFFFFFFn),i=i>>32n;return r};Wo.isOcamNum=function(n){return!(!Array.isArray(n)||n.length!=3||typeof n[0]!="number"||typeof n[1]!="number"||!Array.isArray(n[2]))};var qT=function(t,e,r){const i=r||"int";if(t.modules[i])return i;t.modules[i]={};const a=e*2,l=e*8;function c(){const P=t.addFunction(i+"_copy");P.addParam("px","i32"),P.addParam("pr","i32");const _=P.getCodeBuilder();for(let I=0;I<e;I++)P.addCode(_.i64_store(_.getLocal("pr"),I*8,_.i64_load(_.getLocal("px"),I*8)))}function g(){const P=t.addFunction(i+"_zero");P.addParam("pr","i32");const _=P.getCodeBuilder();for(let I=0;I<e;I++)P.addCode(_.i64_store(_.getLocal("pr"),I*8,_.i64_const(0)))}function f(){const P=t.addFunction(i+"_one");P.addParam("pr","i32");const _=P.getCodeBuilder();P.addCode(_.i64_store(_.getLocal("pr"),0,_.i64_const(1)));for(let I=1;I<e;I++)P.addCode(_.i64_store(_.getLocal("pr"),I*8,_.i64_const(0)))}function d(){const P=t.addFunction(i+"_isZero");P.addParam("px","i32"),P.setReturnType("i32");const _=P.getCodeBuilder();function I(nt){return nt==0?_.ret(_.i64_eqz(_.i64_load(_.getLocal("px")))):_.if(_.i64_eqz(_.i64_load(_.getLocal("px"),nt*8)),I(nt-1),_.ret(_.i32_const(0)))}P.addCode(I(e-1)),P.addCode(_.ret(_.i32_const(0)))}function y(){const P=t.addFunction(i+"_eq");P.addParam("px","i32"),P.addParam("py","i32"),P.setReturnType("i32");const _=P.getCodeBuilder();function I(nt){return nt==0?_.ret(_.i64_eq(_.i64_load(_.getLocal("px")),_.i64_load(_.getLocal("py")))):_.if(_.i64_eq(_.i64_load(_.getLocal("px"),nt*8),_.i64_load(_.getLocal("py"),nt*8)),I(nt-1),_.ret(_.i32_const(0)))}P.addCode(I(e-1)),P.addCode(_.ret(_.i32_const(0)))}function v(){const P=t.addFunction(i+"_gte");P.addParam("px","i32"),P.addParam("py","i32"),P.setReturnType("i32");const _=P.getCodeBuilder();function I(nt){return nt==0?_.ret(_.i64_ge_u(_.i64_load(_.getLocal("px")),_.i64_load(_.getLocal("py")))):_.if(_.i64_lt_u(_.i64_load(_.getLocal("px"),nt*8),_.i64_load(_.getLocal("py"),nt*8)),_.ret(_.i32_const(0)),_.if(_.i64_gt_u(_.i64_load(_.getLocal("px"),nt*8),_.i64_load(_.getLocal("py"),nt*8)),_.ret(_.i32_const(1)),I(nt-1)))}P.addCode(I(e-1)),P.addCode(_.ret(_.i32_const(0)))}function w(){const P=t.addFunction(i+"_add");P.addParam("x","i32"),P.addParam("y","i32"),P.addParam("r","i32"),P.setReturnType("i32"),P.addLocal("c","i64");const _=P.getCodeBuilder();P.addCode(_.setLocal("c",_.i64_add(_.i64_load32_u(_.getLocal("x")),_.i64_load32_u(_.getLocal("y"))))),P.addCode(_.i64_store32(_.getLocal("r"),_.getLocal("c")));for(let I=1;I<a;I++)P.addCode(_.setLocal("c",_.i64_add(_.i64_add(_.i64_load32_u(_.getLocal("x"),4*I),_.i64_load32_u(_.getLocal("y"),4*I)),_.i64_shr_u(_.getLocal("c"),_.i64_const(32))))),P.addCode(_.i64_store32(_.getLocal("r"),I*4,_.getLocal("c")));P.addCode(_.i32_wrap_i64(_.i64_shr_u(_.getLocal("c"),_.i64_const(32))))}function F(){const P=t.addFunction(i+"_sub");P.addParam("x","i32"),P.addParam("y","i32"),P.addParam("r","i32"),P.setReturnType("i32"),P.addLocal("c","i64");const _=P.getCodeBuilder();P.addCode(_.setLocal("c",_.i64_sub(_.i64_load32_u(_.getLocal("x")),_.i64_load32_u(_.getLocal("y"))))),P.addCode(_.i64_store32(_.getLocal("r"),_.i64_and(_.getLocal("c"),_.i64_const("0xFFFFFFFF"))));for(let I=1;I<a;I++)P.addCode(_.setLocal("c",_.i64_add(_.i64_sub(_.i64_load32_u(_.getLocal("x"),4*I),_.i64_load32_u(_.getLocal("y"),4*I)),_.i64_shr_s(_.getLocal("c"),_.i64_const(32))))),P.addCode(_.i64_store32(_.getLocal("r"),I*4,_.i64_and(_.getLocal("c"),_.i64_const("0xFFFFFFFF"))));P.addCode(_.i32_wrap_i64(_.i64_shr_s(_.getLocal("c"),_.i64_const(32))))}function B(){const P=t.addFunction(i+"_mul");P.addParam("x","i32"),P.addParam("y","i32"),P.addParam("r","i32"),P.addLocal("c0","i64"),P.addLocal("c1","i64");for(let k=0;k<a;k++)P.addLocal("x"+k,"i64"),P.addLocal("y"+k,"i64");const _=P.getCodeBuilder(),I=[],nt=[];function rt(k,W){let tt,ct;return I[k]?tt=_.getLocal("x"+k):(tt=_.teeLocal("x"+k,_.i64_load32_u(_.getLocal("x"),k*4)),I[k]=!0),nt[W]?ct=_.getLocal("y"+W):(ct=_.teeLocal("y"+W,_.i64_load32_u(_.getLocal("y"),W*4)),nt[W]=!0),_.i64_mul(tt,ct)}let H="c0",Q="c1";for(let k=0;k<a*2-1;k++){for(let W=Math.max(0,k-a+1);W<=k&&W<a;W++){const tt=k-W;P.addCode(_.setLocal(H,_.i64_add(_.i64_and(_.getLocal(H),_.i64_const(4294967295)),rt(W,tt)))),P.addCode(_.setLocal(Q,_.i64_add(_.getLocal(Q),_.i64_shr_u(_.getLocal(H),_.i64_const(32)))))}P.addCode(_.i64_store32(_.getLocal("r"),k*4,_.getLocal(H))),[H,Q]=[Q,H],P.addCode(_.setLocal(Q,_.i64_shr_u(_.getLocal(H),_.i64_const(32))))}P.addCode(_.i64_store32(_.getLocal("r"),a*4*2-4,_.getLocal(H)))}function x(){const P=t.addFunction(i+"_square");P.addParam("x","i32"),P.addParam("r","i32"),P.addLocal("c0","i64"),P.addLocal("c1","i64"),P.addLocal("c0_old","i64"),P.addLocal("c1_old","i64");for(let W=0;W<a;W++)P.addLocal("x"+W,"i64");const _=P.getCodeBuilder(),I=[];function nt(W,tt){let ct,ut;return I[W]?ct=_.getLocal("x"+W):(ct=_.teeLocal("x"+W,_.i64_load32_u(_.getLocal("x"),W*4)),I[W]=!0),I[tt]?ut=_.getLocal("x"+tt):(ut=_.teeLocal("x"+tt,_.i64_load32_u(_.getLocal("x"),tt*4)),I[tt]=!0),_.i64_mul(ct,ut)}let rt="c0",H="c1",Q="c0_old",k="c1_old";for(let W=0;W<a*2-1;W++){P.addCode(_.setLocal(rt,_.i64_const(0)),_.setLocal(H,_.i64_const(0)));for(let tt=Math.max(0,W-a+1);tt<W+1>>1&&tt<a;tt++){const ct=W-tt;P.addCode(_.setLocal(rt,_.i64_add(_.i64_and(_.getLocal(rt),_.i64_const(4294967295)),nt(tt,ct)))),P.addCode(_.setLocal(H,_.i64_add(_.getLocal(H),_.i64_shr_u(_.getLocal(rt),_.i64_const(32)))))}P.addCode(_.setLocal(rt,_.i64_shl(_.i64_and(_.getLocal(rt),_.i64_const(4294967295)),_.i64_const(1)))),P.addCode(_.setLocal(H,_.i64_add(_.i64_shl(_.getLocal(H),_.i64_const(1)),_.i64_shr_u(_.getLocal(rt),_.i64_const(32))))),W%2==0&&(P.addCode(_.setLocal(rt,_.i64_add(_.i64_and(_.getLocal(rt),_.i64_const(4294967295)),nt(W>>1,W>>1)))),P.addCode(_.setLocal(H,_.i64_add(_.getLocal(H),_.i64_shr_u(_.getLocal(rt),_.i64_const(32)))))),W>0&&(P.addCode(_.setLocal(rt,_.i64_add(_.i64_and(_.getLocal(rt),_.i64_const(4294967295)),_.i64_and(_.getLocal(Q),_.i64_const(4294967295))))),P.addCode(_.setLocal(H,_.i64_add(_.i64_add(_.getLocal(H),_.i64_shr_u(_.getLocal(rt),_.i64_const(32))),_.getLocal(k))))),P.addCode(_.i64_store32(_.getLocal("r"),W*4,_.getLocal(rt))),P.addCode(_.setLocal(Q,_.getLocal(H)),_.setLocal(k,_.i64_shr_u(_.getLocal(Q),_.i64_const(32))))}P.addCode(_.i64_store32(_.getLocal("r"),a*4*2-4,_.getLocal(Q)))}function M(){const P=t.addFunction(i+"_squareOld");P.addParam("x","i32"),P.addParam("r","i32");const _=P.getCodeBuilder();P.addCode(_.call(i+"_mul",_.getLocal("x"),_.getLocal("x"),_.getLocal("r")))}function O(){const P=t.addFunction(i+"__mul1");P.addParam("px","i32"),P.addParam("y","i64"),P.addParam("pr","i32"),P.addLocal("c","i64");const _=P.getCodeBuilder();P.addCode(_.setLocal("c",_.i64_mul(_.i64_load32_u(_.getLocal("px"),0,0),_.getLocal("y")))),P.addCode(_.i64_store32(_.getLocal("pr"),0,0,_.getLocal("c")));for(let I=1;I<a;I++)P.addCode(_.setLocal("c",_.i64_add(_.i64_mul(_.i64_load32_u(_.getLocal("px"),4*I,0),_.getLocal("y")),_.i64_shr_u(_.getLocal("c"),_.i64_const(32))))),P.addCode(_.i64_store32(_.getLocal("pr"),I*4,0,_.getLocal("c")))}function $(){const P=t.addFunction(i+"__add1");P.addParam("x","i32"),P.addParam("y","i64"),P.addLocal("c","i64"),P.addLocal("px","i32");const _=P.getCodeBuilder();P.addCode(_.setLocal("px",_.getLocal("x"))),P.addCode(_.setLocal("c",_.i64_add(_.i64_load32_u(_.getLocal("px"),0,0),_.getLocal("y")))),P.addCode(_.i64_store32(_.getLocal("px"),0,0,_.getLocal("c"))),P.addCode(_.setLocal("c",_.i64_shr_u(_.getLocal("c"),_.i64_const(32)))),P.addCode(_.block(_.loop(_.br_if(1,_.i64_eqz(_.getLocal("c"))),_.setLocal("px",_.i32_add(_.getLocal("px"),_.i32_const(4))),_.setLocal("c",_.i64_add(_.i64_load32_u(_.getLocal("px"),0,0),_.getLocal("c"))),_.i64_store32(_.getLocal("px"),0,0,_.getLocal("c")),_.setLocal("c",_.i64_shr_u(_.getLocal("c"),_.i64_const(32))),_.br(0))))}function D(){O(),$();const P=t.addFunction(i+"_div");P.addParam("x","i32"),P.addParam("y","i32"),P.addParam("c","i32"),P.addParam("r","i32"),P.addLocal("rr","i32"),P.addLocal("cc","i32"),P.addLocal("eX","i32"),P.addLocal("eY","i32"),P.addLocal("sy","i64"),P.addLocal("sx","i64"),P.addLocal("ec","i32");const _=P.getCodeBuilder(),I=_.i32_const(t.alloc(l)),nt=_.i32_const(t.alloc(l)),rt=_.i32_const(t.alloc(l)),H=_.getLocal("cc"),Q=_.getLocal("rr"),k=t.alloc(l*2),W=_.i32_const(k),tt=_.i32_const(k+l);P.addCode(_.if(_.getLocal("c"),_.setLocal("cc",_.getLocal("c")),_.setLocal("cc",nt))),P.addCode(_.if(_.getLocal("r"),_.setLocal("rr",_.getLocal("r")),_.setLocal("rr",rt))),P.addCode(_.call(i+"_copy",_.getLocal("x"),Q)),P.addCode(_.call(i+"_copy",_.getLocal("y"),I)),P.addCode(_.call(i+"_zero",H)),P.addCode(_.call(i+"_zero",W)),P.addCode(_.setLocal("eX",_.i32_const(l-1))),P.addCode(_.setLocal("eY",_.i32_const(l-1))),P.addCode(_.block(_.loop(_.br_if(1,_.i32_or(_.i32_load8_u(_.i32_add(I,_.getLocal("eY")),0,0),_.i32_eq(_.getLocal("eY"),_.i32_const(3)))),_.setLocal("eY",_.i32_sub(_.getLocal("eY"),_.i32_const(1))),_.br(0)))),P.addCode(_.setLocal("sy",_.i64_add(_.i64_load32_u(_.i32_sub(_.i32_add(I,_.getLocal("eY")),_.i32_const(3)),0,0),_.i64_const(1)))),P.addCode(_.if(_.i64_eq(_.getLocal("sy"),_.i64_const(1)),_.drop(_.i64_div_u(_.i64_const(0),_.i64_const(0))))),P.addCode(_.block(_.loop(_.block(_.loop(_.br_if(1,_.i32_or(_.i32_load8_u(_.i32_add(Q,_.getLocal("eX")),0,0),_.i32_eq(_.getLocal("eX"),_.i32_const(7)))),_.setLocal("eX",_.i32_sub(_.getLocal("eX"),_.i32_const(1))),_.br(0))),_.setLocal("sx",_.i64_load(_.i32_sub(_.i32_add(Q,_.getLocal("eX")),_.i32_const(7)),0,0)),_.setLocal("sx",_.i64_div_u(_.getLocal("sx"),_.getLocal("sy"))),_.setLocal("ec",_.i32_sub(_.i32_sub(_.getLocal("eX"),_.getLocal("eY")),_.i32_const(4))),_.block(_.loop(_.br_if(1,_.i32_and(_.i64_eqz(_.i64_and(_.getLocal("sx"),_.i64_const("0xFFFFFFFF00000000"))),_.i32_ge_s(_.getLocal("ec"),_.i32_const(0)))),_.setLocal("sx",_.i64_shr_u(_.getLocal("sx"),_.i64_const(8))),_.setLocal("ec",_.i32_add(_.getLocal("ec"),_.i32_const(1))),_.br(0))),_.if(_.i64_eqz(_.getLocal("sx")),[..._.br_if(2,_.i32_eqz(_.call(i+"_gte",Q,I))),..._.setLocal("sx",_.i64_const(1)),..._.setLocal("ec",_.i32_const(0))]),_.call(i+"__mul1",I,_.getLocal("sx"),tt),_.drop(_.call(i+"_sub",Q,_.i32_sub(tt,_.getLocal("ec")),Q)),_.call(i+"__add1",_.i32_add(H,_.getLocal("ec")),_.getLocal("sx")),_.br(0))))}function V(){const P=t.addFunction(i+"_inverseMod");P.addParam("px","i32"),P.addParam("pm","i32"),P.addParam("pr","i32"),P.addLocal("t","i32"),P.addLocal("newt","i32"),P.addLocal("r","i32"),P.addLocal("qq","i32"),P.addLocal("qr","i32"),P.addLocal("newr","i32"),P.addLocal("swp","i32"),P.addLocal("x","i32"),P.addLocal("signt","i32"),P.addLocal("signnewt","i32"),P.addLocal("signx","i32");const _=P.getCodeBuilder(),I=_.i32_const(t.alloc(l)),nt=_.i32_const(t.alloc(l)),rt=_.i32_const(t.alloc(l)),H=_.i32_const(t.alloc(l)),Q=_.i32_const(t.alloc(l)),k=_.i32_const(t.alloc(l)),W=_.i32_const(t.alloc(l*2)),tt=_.i32_const(t.alloc(l));P.addCode(_.setLocal("t",I),_.call(i+"_zero",I),_.setLocal("signt",_.i32_const(0))),P.addCode(_.setLocal("r",nt),_.call(i+"_copy",_.getLocal("pm"),nt)),P.addCode(_.setLocal("newt",rt),_.call(i+"_one",rt),_.setLocal("signnewt",_.i32_const(0))),P.addCode(_.setLocal("newr",H),_.call(i+"_copy",_.getLocal("px"),H)),P.addCode(_.setLocal("qq",Q)),P.addCode(_.setLocal("qr",k)),P.addCode(_.setLocal("x",tt)),P.addCode(_.block(_.loop(_.br_if(1,_.call(i+"_isZero",_.getLocal("newr"))),_.call(i+"_div",_.getLocal("r"),_.getLocal("newr"),_.getLocal("qq"),_.getLocal("qr")),_.call(i+"_mul",_.getLocal("qq"),_.getLocal("newt"),W),_.if(_.getLocal("signt"),_.if(_.getLocal("signnewt"),_.if(_.call(i+"_gte",W,_.getLocal("t")),[..._.drop(_.call(i+"_sub",W,_.getLocal("t"),_.getLocal("x"))),..._.setLocal("signx",_.i32_const(0))],[..._.drop(_.call(i+"_sub",_.getLocal("t"),W,_.getLocal("x"))),..._.setLocal("signx",_.i32_const(1))]),[..._.drop(_.call(i+"_add",W,_.getLocal("t"),_.getLocal("x"))),..._.setLocal("signx",_.i32_const(1))]),_.if(_.getLocal("signnewt"),[..._.drop(_.call(i+"_add",W,_.getLocal("t"),_.getLocal("x"))),..._.setLocal("signx",_.i32_const(0))],_.if(_.call(i+"_gte",_.getLocal("t"),W),[..._.drop(_.call(i+"_sub",_.getLocal("t"),W,_.getLocal("x"))),..._.setLocal("signx",_.i32_const(0))],[..._.drop(_.call(i+"_sub",W,_.getLocal("t"),_.getLocal("x"))),..._.setLocal("signx",_.i32_const(1))]))),_.setLocal("swp",_.getLocal("t")),_.setLocal("t",_.getLocal("newt")),_.setLocal("newt",_.getLocal("x")),_.setLocal("x",_.getLocal("swp")),_.setLocal("signt",_.getLocal("signnewt")),_.setLocal("signnewt",_.getLocal("signx")),_.setLocal("swp",_.getLocal("r")),_.setLocal("r",_.getLocal("newr")),_.setLocal("newr",_.getLocal("qr")),_.setLocal("qr",_.getLocal("swp")),_.br(0)))),P.addCode(_.if(_.getLocal("signt"),_.drop(_.call(i+"_sub",_.getLocal("pm"),_.getLocal("t"),_.getLocal("pr"))),_.call(i+"_copy",_.getLocal("t"),_.getLocal("pr"))))}return c(),g(),d(),f(),y(),v(),w(),F(),B(),x(),M(),D(),V(),t.exportFunction(i+"_copy"),t.exportFunction(i+"_zero"),t.exportFunction(i+"_one"),t.exportFunction(i+"_isZero"),t.exportFunction(i+"_eq"),t.exportFunction(i+"_gte"),t.exportFunction(i+"_add"),t.exportFunction(i+"_sub"),t.exportFunction(i+"_mul"),t.exportFunction(i+"_square"),t.exportFunction(i+"_squareOld"),t.exportFunction(i+"_div"),t.exportFunction(i+"_inverseMod"),i},Q0=function(t,e,r,i,a,l,c){const g=t.addFunction(e);g.addParam("base","i32"),g.addParam("scalar","i32"),g.addParam("scalarLength","i32"),g.addParam("r","i32"),g.addLocal("i","i32"),g.addLocal("b","i32");const f=g.getCodeBuilder(),d=f.i32_const(t.alloc(r));g.addCode(f.if(f.i32_eqz(f.getLocal("scalarLength")),[...f.call(c,f.getLocal("r")),...f.ret([])])),g.addCode(f.call(l,f.getLocal("base"),d)),g.addCode(f.call(c,f.getLocal("r"))),g.addCode(f.setLocal("i",f.getLocal("scalarLength"))),g.addCode(f.block(f.loop(f.setLocal("i",f.i32_sub(f.getLocal("i"),f.i32_const(1))),f.setLocal("b",f.i32_load8_u(f.i32_add(f.getLocal("scalar"),f.getLocal("i")))),...y(),f.br_if(1,f.i32_eqz(f.getLocal("i"))),f.br(0))));function y(){const v=[];for(let w=0;w<8;w++)v.push(...f.call(a,f.getLocal("r"),f.getLocal("r")),...f.if(f.i32_ge_u(f.getLocal("b"),f.i32_const(128>>w)),[...f.setLocal("b",f.i32_sub(f.getLocal("b"),f.i32_const(128>>w))),...f.call(i,f.getLocal("r"),d,f.getLocal("r"))]));return v}},q0=WT;function WT(n,t){const e=n.modules[t].n64*8,r=n.addFunction(t+"_batchInverse");r.addParam("pIn","i32"),r.addParam("inStep","i32"),r.addParam("n","i32"),r.addParam("pOut","i32"),r.addParam("outStep","i32"),r.addLocal("itAux","i32"),r.addLocal("itIn","i32"),r.addLocal("itOut","i32"),r.addLocal("i","i32");const i=r.getCodeBuilder(),a=i.i32_const(n.alloc(e));r.addCode(i.setLocal("itAux",i.i32_load(i.i32_const(0))),i.i32_store(i.i32_const(0),i.i32_add(i.getLocal("itAux"),i.i32_mul(i.i32_add(i.getLocal("n"),i.i32_const(1)),i.i32_const(e))))),r.addCode(i.call(t+"_one",i.getLocal("itAux")),i.setLocal("itIn",i.getLocal("pIn")),i.setLocal("itAux",i.i32_add(i.getLocal("itAux"),i.i32_const(e))),i.setLocal("i",i.i32_const(0)),i.block(i.loop(i.br_if(1,i.i32_eq(i.getLocal("i"),i.getLocal("n"))),i.if(i.call(t+"_isZero",i.getLocal("itIn")),i.call(t+"_copy",i.i32_sub(i.getLocal("itAux"),i.i32_const(e)),i.getLocal("itAux")),i.call(t+"_mul",i.getLocal("itIn"),i.i32_sub(i.getLocal("itAux"),i.i32_const(e)),i.getLocal("itAux"))),i.setLocal("itIn",i.i32_add(i.getLocal("itIn"),i.getLocal("inStep"))),i.setLocal("itAux",i.i32_add(i.getLocal("itAux"),i.i32_const(e))),i.setLocal("i",i.i32_add(i.getLocal("i"),i.i32_const(1))),i.br(0))),i.setLocal("itIn",i.i32_sub(i.getLocal("itIn"),i.getLocal("inStep"))),i.setLocal("itAux",i.i32_sub(i.getLocal("itAux"),i.i32_const(e))),i.setLocal("itOut",i.i32_add(i.getLocal("pOut"),i.i32_mul(i.i32_sub(i.getLocal("n"),i.i32_const(1)),i.getLocal("outStep")))),i.call(t+"_inverse",i.getLocal("itAux"),i.getLocal("itAux")),i.block(i.loop(i.br_if(1,i.i32_eqz(i.getLocal("i"))),i.if(i.call(t+"_isZero",i.getLocal("itIn")),[...i.call(t+"_copy",i.getLocal("itAux"),i.i32_sub(i.getLocal("itAux"),i.i32_const(e))),...i.call(t+"_zero",i.getLocal("itOut"))],[...i.call(t+"_copy",i.i32_sub(i.getLocal("itAux"),i.i32_const(e)),a),...i.call(t+"_mul",i.getLocal("itAux"),i.getLocal("itIn"),i.i32_sub(i.getLocal("itAux"),i.i32_const(e))),...i.call(t+"_mul",i.getLocal("itAux"),a,i.getLocal("itOut"))]),i.setLocal("itIn",i.i32_sub(i.getLocal("itIn"),i.getLocal("inStep"))),i.setLocal("itOut",i.i32_sub(i.getLocal("itOut"),i.getLocal("outStep"))),i.setLocal("itAux",i.i32_sub(i.getLocal("itAux"),i.i32_const(e))),i.setLocal("i",i.i32_sub(i.getLocal("i"),i.i32_const(1))),i.br(0)))),r.addCode(i.i32_store(i.i32_const(0),i.getLocal("itAux")))}var eC=GT;function GT(n,t,e,r,i,a){typeof a>"u"&&(r<i?a=!0:a=!1);const l=n.addFunction(t);l.addParam("pIn","i32"),l.addParam("n","i32"),l.addParam("pOut","i32"),l.addLocal("i","i32"),l.addLocal("itIn","i32"),l.addLocal("itOut","i32");const c=l.getCodeBuilder();a?l.addCode(c.setLocal("itIn",c.i32_add(c.getLocal("pIn"),c.i32_mul(c.i32_sub(c.getLocal("n"),c.i32_const(1)),c.i32_const(r)))),c.setLocal("itOut",c.i32_add(c.getLocal("pOut"),c.i32_mul(c.i32_sub(c.getLocal("n"),c.i32_const(1)),c.i32_const(i)))),c.setLocal("i",c.i32_const(0)),c.block(c.loop(c.br_if(1,c.i32_eq(c.getLocal("i"),c.getLocal("n"))),c.call(e,c.getLocal("itIn"),c.getLocal("itOut")),c.setLocal("itIn",c.i32_sub(c.getLocal("itIn"),c.i32_const(r))),c.setLocal("itOut",c.i32_sub(c.getLocal("itOut"),c.i32_const(i))),c.setLocal("i",c.i32_add(c.getLocal("i"),c.i32_const(1))),c.br(0)))):l.addCode(c.setLocal("itIn",c.getLocal("pIn")),c.setLocal("itOut",c.getLocal("pOut")),c.setLocal("i",c.i32_const(0)),c.block(c.loop(c.br_if(1,c.i32_eq(c.getLocal("i"),c.getLocal("n"))),c.call(e,c.getLocal("itIn"),c.getLocal("itOut")),c.setLocal("itIn",c.i32_add(c.getLocal("itIn"),c.i32_const(r))),c.setLocal("itOut",c.i32_add(c.getLocal("itOut"),c.i32_const(i))),c.setLocal("i",c.i32_add(c.getLocal("i"),c.i32_const(1))),c.br(0))))}var VT=KT;function KT(n,t,e,r,i,a){typeof a>"u"&&(r<i?a=!0:a=!1);const l=n.addFunction(t);l.addParam("pIn1","i32"),l.addParam("pIn2","i32"),l.addParam("n","i32"),l.addParam("pOut","i32"),l.addLocal("i","i32"),l.addLocal("itIn1","i32"),l.addLocal("itIn2","i32"),l.addLocal("itOut","i32");const c=l.getCodeBuilder();a?l.addCode(c.setLocal("itIn1",c.i32_add(c.getLocal("pIn1"),c.i32_mul(c.i32_sub(c.getLocal("n"),c.i32_const(1)),c.i32_const(r)))),c.setLocal("itIn2",c.i32_add(c.getLocal("pIn2"),c.i32_mul(c.i32_sub(c.getLocal("n"),c.i32_const(1)),c.i32_const(r)))),c.setLocal("itOut",c.i32_add(c.getLocal("pOut"),c.i32_mul(c.i32_sub(c.getLocal("n"),c.i32_const(1)),c.i32_const(i)))),c.setLocal("i",c.i32_const(0)),c.block(c.loop(c.br_if(1,c.i32_eq(c.getLocal("i"),c.getLocal("n"))),c.call(e,c.getLocal("itIn1"),c.getLocal("itIn2"),c.getLocal("itOut")),c.setLocal("itIn1",c.i32_sub(c.getLocal("itIn1"),c.i32_const(r))),c.setLocal("itIn2",c.i32_sub(c.getLocal("itIn2"),c.i32_const(r))),c.setLocal("itOut",c.i32_sub(c.getLocal("itOut"),c.i32_const(i))),c.setLocal("i",c.i32_add(c.getLocal("i"),c.i32_const(1))),c.br(0)))):l.addCode(c.setLocal("itIn1",c.getLocal("pIn1")),c.setLocal("itIn2",c.getLocal("pIn2")),c.setLocal("itOut",c.getLocal("pOut")),c.setLocal("i",c.i32_const(0)),c.block(c.loop(c.br_if(1,c.i32_eq(c.getLocal("i"),c.getLocal("n"))),c.call(e,c.getLocal("itIn1"),c.getLocal("itIn2"),c.getLocal("itOut")),c.setLocal("itIn1",c.i32_add(c.getLocal("itIn1"),c.i32_const(r))),c.setLocal("itIn2",c.i32_add(c.getLocal("itIn2"),c.i32_const(r))),c.setLocal("itOut",c.i32_add(c.getLocal("itOut"),c.i32_const(i))),c.setLocal("i",c.i32_add(c.getLocal("i"),c.i32_const(1))),c.br(0))))}var Qn={};function nC(n,t){return n===t?0:n>t?1:-1}function W0(n){return n*n}function rC(n){return n%2n!==0n}function G0(n){return n%2n===0n}function Uf(n){return n<0n}function HT(n){return n>0n}function iC(n){return Uf(n)?n.toString(2).length-1:n.toString(2).length}function jl(n){return n<0n?-n:n}function Na(n){return jl(n)===1n}function oC(n,t){for(var e=0n,r=1n,i=t,a=jl(n),l,c,g;a!==0n;)l=i/a,c=e,g=i,e=r,i=a,r=c-l*r,a=g-l*a;if(!Na(i))throw new Error(n.toString()+" and "+t.toString()+" are not co-prime");return nC(e,0n)===-1&&(e=e+t),Uf(n)?-e:e}function sC(n,t,e){if(e===0n)throw new Error("Cannot take modPow with modulus 0");var r=1n,i=n%e;for(Uf(t)&&(t=t*-1n,i=oC(i,e));HT(t);){if(i===0n)return 0n;rC(t)&&(r=r*i%e),t=t/2n,i=W0(i)%e}return r}function YT(n,t){return n=n>=0n?n:-n,t=t>=0n?t:-t,n===t?0:n>t?1:-1}function A1(n,t){return t===0n?!1:Na(t)?!0:YT(t,2n)===0?G0(n):n%t===0n}function ZT(n){var t=jl(n);if(Na(t))return!1;if(t===2n||t===3n||t===5n)return!0;if(G0(t)||A1(t,3n)||A1(t,5n))return!1;if(t<49n)return!0}function XT(n){return n-1n}function L1(n,t){for(var e=XT(n),r=e,i=0,a,l,c;G0(r);)r=r/2n,i++;t:for(l=0;l<t.length;l++)if(!(n<t[l])&&(c=sC(BigInt(t[l]),r,n),!(Na(c)||c===e))){for(a=i-1;a!=0;a--){if(c=W0(c)%n,Na(c))return!1;if(c===e)continue t}return!1}return!0}function JT(n){var t=ZT(n);if(t!==void 0)return t;var e=jl(n),r=iC(e);if(r<=64)return L1(e,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var i=Math.log(2)*Number(r),a=Math.ceil(i),l=[],c=0;c<a;c++)l.push(BigInt(c+2));return L1(e,l)}Qn.bitLength=iC;Qn.isOdd=rC;Qn.isNegative=Uf;Qn.abs=jl;Qn.isUnit=Na;Qn.compare=nC;Qn.modInv=oC;Qn.modPow=sC;Qn.isPrime=JT;Qn.square=W0;const t9=qT,Mi=Wo,e9=Q0,n9=q0,ip=eC,op=VT,{bitLength:r9,modInv:sp,modPow:C1,isPrime:I1,isOdd:i9,square:o9}=Qn;var V0=function(t,e,r,i){const a=BigInt(e),l=Math.floor((r9(a-1n)-1)/64)+1,c=l*2,g=l*8,f=r||"f1m";if(t.modules[f])return f;const d=t9(t,l,i),y=t.alloc(g,Mi.bigInt2BytesLE(a,g)),v=t.alloc(Mi.bigInt2BytesLE(o9(1n<<BigInt(l*64))%a,g)),w=t.alloc(Mi.bigInt2BytesLE((1n<<BigInt(l*64))%a,g)),F=t.alloc(Mi.bigInt2BytesLE(0n,g)),B=a-1n,x=B>>1n,M=t.alloc(g,Mi.bigInt2BytesLE(x,g)),O=x+1n,$=t.alloc(g,Mi.bigInt2BytesLE(O,g));t.modules[f]={pq:y,pR2:v,n64:l,q:a,pOne:w,pZero:F,pePlusOne:$};function D(){const T=t.addFunction(f+"_one");T.addParam("pr","i32");const C=T.getCodeBuilder();T.addCode(C.call(d+"_copy",C.i32_const(w),C.getLocal("pr")))}function V(){const T=t.addFunction(f+"_add");T.addParam("x","i32"),T.addParam("y","i32"),T.addParam("r","i32");const C=T.getCodeBuilder();T.addCode(C.if(C.call(d+"_add",C.getLocal("x"),C.getLocal("y"),C.getLocal("r")),C.drop(C.call(d+"_sub",C.getLocal("r"),C.i32_const(y),C.getLocal("r"))),C.if(C.call(d+"_gte",C.getLocal("r"),C.i32_const(y)),C.drop(C.call(d+"_sub",C.getLocal("r"),C.i32_const(y),C.getLocal("r"))))))}function P(){const T=t.addFunction(f+"_sub");T.addParam("x","i32"),T.addParam("y","i32"),T.addParam("r","i32");const C=T.getCodeBuilder();T.addCode(C.if(C.call(d+"_sub",C.getLocal("x"),C.getLocal("y"),C.getLocal("r")),C.drop(C.call(d+"_add",C.getLocal("r"),C.i32_const(y),C.getLocal("r")))))}function _(){const T=t.addFunction(f+"_neg");T.addParam("x","i32"),T.addParam("r","i32");const C=T.getCodeBuilder();T.addCode(C.call(f+"_sub",C.i32_const(F),C.getLocal("x"),C.getLocal("r")))}function I(){const T=t.addFunction(f+"_isNegative");T.addParam("x","i32"),T.setReturnType("i32");const C=T.getCodeBuilder(),Z=C.i32_const(t.alloc(g));T.addCode(C.call(f+"_fromMontgomery",C.getLocal("x"),Z),C.call(d+"_gte",Z,C.i32_const($)))}function nt(){const T=t.addFunction(f+"_sign");T.addParam("x","i32"),T.setReturnType("i32");const C=T.getCodeBuilder(),Z=C.i32_const(t.alloc(g));T.addCode(C.if(C.call(d+"_isZero",C.getLocal("x")),C.ret(C.i32_const(0))),C.call(f+"_fromMontgomery",C.getLocal("x"),Z),C.if(C.call(d+"_gte",Z,C.i32_const($)),C.ret(C.i32_const(-1))),C.ret(C.i32_const(1)))}function rt(){const T=t.alloc(c*c*8),C=t.addFunction(f+"_mReduct");C.addParam("t","i32"),C.addParam("r","i32"),C.addLocal("np32","i64"),C.addLocal("c","i64"),C.addLocal("m","i64");const Z=C.getCodeBuilder(),bt=Number(0x100000000n-sp(a,0x100000000n));C.addCode(Z.setLocal("np32",Z.i64_const(bt)));for(let mt=0;mt<c;mt++){C.addCode(Z.setLocal("c",Z.i64_const(0))),C.addCode(Z.setLocal("m",Z.i64_and(Z.i64_mul(Z.i64_load32_u(Z.getLocal("t"),mt*4),Z.getLocal("np32")),Z.i64_const("0xFFFFFFFF"))));for(let Et=0;Et<c;Et++)C.addCode(Z.setLocal("c",Z.i64_add(Z.i64_add(Z.i64_load32_u(Z.getLocal("t"),(mt+Et)*4),Z.i64_shr_u(Z.getLocal("c"),Z.i64_const(32))),Z.i64_mul(Z.i64_load32_u(Z.i32_const(y),Et*4),Z.getLocal("m"))))),C.addCode(Z.i64_store32(Z.getLocal("t"),(mt+Et)*4,Z.getLocal("c")));C.addCode(Z.i64_store32(Z.i32_const(T),mt*4,Z.i64_shr_u(Z.getLocal("c"),Z.i64_const(32))))}C.addCode(Z.call(f+"_add",Z.i32_const(T),Z.i32_add(Z.getLocal("t"),Z.i32_const(c*4)),Z.getLocal("r")))}function H(){const T=t.addFunction(f+"_mul");T.addParam("x","i32"),T.addParam("y","i32"),T.addParam("r","i32"),T.addLocal("c0","i64"),T.addLocal("c1","i64"),T.addLocal("np32","i64");for(let Rt=0;Rt<c;Rt++)T.addLocal("x"+Rt,"i64"),T.addLocal("y"+Rt,"i64"),T.addLocal("m"+Rt,"i64"),T.addLocal("q"+Rt,"i64");const C=T.getCodeBuilder(),Z=Number(0x100000000n-sp(a,0x100000000n));T.addCode(C.setLocal("np32",C.i64_const(Z)));const bt=[],mt=[],Et=[];function Zt(Rt,Pt){let Kt,de;return bt[Rt]?Kt=C.getLocal("x"+Rt):(Kt=C.teeLocal("x"+Rt,C.i64_load32_u(C.getLocal("x"),Rt*4)),bt[Rt]=!0),mt[Pt]?de=C.getLocal("y"+Pt):(de=C.teeLocal("y"+Pt,C.i64_load32_u(C.getLocal("y"),Pt*4)),mt[Pt]=!0),C.i64_mul(Kt,de)}function Tt(Rt,Pt){let Kt,de;return Et[Rt]?Kt=C.getLocal("q"+Rt):(Kt=C.teeLocal("q"+Rt,C.i64_load32_u(C.i32_const(0),y+Rt*4)),Et[Rt]=!0),de=C.getLocal("m"+Pt),C.i64_mul(Kt,de)}let Wt="c0",oe="c1";for(let Rt=0;Rt<c*2-1;Rt++){for(let Pt=Math.max(0,Rt-c+1);Pt<=Rt&&Pt<c;Pt++){const Kt=Rt-Pt;T.addCode(C.setLocal(Wt,C.i64_add(C.i64_and(C.getLocal(Wt),C.i64_const(4294967295)),Zt(Pt,Kt)))),T.addCode(C.setLocal(oe,C.i64_add(C.getLocal(oe),C.i64_shr_u(C.getLocal(Wt),C.i64_const(32)))))}for(let Pt=Math.max(1,Rt-c+1);Pt<=Rt&&Pt<c;Pt++){const Kt=Rt-Pt;T.addCode(C.setLocal(Wt,C.i64_add(C.i64_and(C.getLocal(Wt),C.i64_const(4294967295)),Tt(Pt,Kt)))),T.addCode(C.setLocal(oe,C.i64_add(C.getLocal(oe),C.i64_shr_u(C.getLocal(Wt),C.i64_const(32)))))}Rt<c&&(T.addCode(C.setLocal("m"+Rt,C.i64_and(C.i64_mul(C.i64_and(C.getLocal(Wt),C.i64_const(4294967295)),C.getLocal("np32")),C.i64_const("0xFFFFFFFF")))),T.addCode(C.setLocal(Wt,C.i64_add(C.i64_and(C.getLocal(Wt),C.i64_const(4294967295)),Tt(0,Rt)))),T.addCode(C.setLocal(oe,C.i64_add(C.getLocal(oe),C.i64_shr_u(C.getLocal(Wt),C.i64_const(32)))))),Rt>=c&&T.addCode(C.i64_store32(C.getLocal("r"),(Rt-c)*4,C.getLocal(Wt))),[Wt,oe]=[oe,Wt],T.addCode(C.setLocal(oe,C.i64_shr_u(C.getLocal(Wt),C.i64_const(32))))}T.addCode(C.i64_store32(C.getLocal("r"),c*4-4,C.getLocal(Wt))),T.addCode(C.if(C.i32_wrap_i64(C.getLocal(oe)),C.drop(C.call(d+"_sub",C.getLocal("r"),C.i32_const(y),C.getLocal("r"))),C.if(C.call(d+"_gte",C.getLocal("r"),C.i32_const(y)),C.drop(C.call(d+"_sub",C.getLocal("r"),C.i32_const(y),C.getLocal("r"))))))}function Q(){const T=t.addFunction(f+"_square");T.addParam("x","i32"),T.addParam("r","i32"),T.addLocal("c0","i64"),T.addLocal("c1","i64"),T.addLocal("c0_old","i64"),T.addLocal("c1_old","i64"),T.addLocal("np32","i64");for(let Pt=0;Pt<c;Pt++)T.addLocal("x"+Pt,"i64"),T.addLocal("m"+Pt,"i64"),T.addLocal("q"+Pt,"i64");const C=T.getCodeBuilder(),Z=Number(0x100000000n-sp(a,0x100000000n));T.addCode(C.setLocal("np32",C.i64_const(Z)));const bt=[],mt=[];function Et(Pt,Kt){let de,Ae;return bt[Pt]?de=C.getLocal("x"+Pt):(de=C.teeLocal("x"+Pt,C.i64_load32_u(C.getLocal("x"),Pt*4)),bt[Pt]=!0),bt[Kt]?Ae=C.getLocal("x"+Kt):(Ae=C.teeLocal("x"+Kt,C.i64_load32_u(C.getLocal("x"),Kt*4)),bt[Kt]=!0),C.i64_mul(de,Ae)}function Zt(Pt,Kt){let de,Ae;return mt[Pt]?de=C.getLocal("q"+Pt):(de=C.teeLocal("q"+Pt,C.i64_load32_u(C.i32_const(0),y+Pt*4)),mt[Pt]=!0),Ae=C.getLocal("m"+Kt),C.i64_mul(de,Ae)}let Tt="c0",Wt="c1",oe="c0_old",Rt="c1_old";for(let Pt=0;Pt<c*2-1;Pt++){T.addCode(C.setLocal(Tt,C.i64_const(0)),C.setLocal(Wt,C.i64_const(0)));for(let Kt=Math.max(0,Pt-c+1);Kt<Pt+1>>1&&Kt<c;Kt++){const de=Pt-Kt;T.addCode(C.setLocal(Tt,C.i64_add(C.i64_and(C.getLocal(Tt),C.i64_const(4294967295)),Et(Kt,de)))),T.addCode(C.setLocal(Wt,C.i64_add(C.getLocal(Wt),C.i64_shr_u(C.getLocal(Tt),C.i64_const(32)))))}T.addCode(C.setLocal(Tt,C.i64_shl(C.i64_and(C.getLocal(Tt),C.i64_const(4294967295)),C.i64_const(1)))),T.addCode(C.setLocal(Wt,C.i64_add(C.i64_shl(C.getLocal(Wt),C.i64_const(1)),C.i64_shr_u(C.getLocal(Tt),C.i64_const(32))))),Pt%2==0&&(T.addCode(C.setLocal(Tt,C.i64_add(C.i64_and(C.getLocal(Tt),C.i64_const(4294967295)),Et(Pt>>1,Pt>>1)))),T.addCode(C.setLocal(Wt,C.i64_add(C.getLocal(Wt),C.i64_shr_u(C.getLocal(Tt),C.i64_const(32)))))),Pt>0&&(T.addCode(C.setLocal(Tt,C.i64_add(C.i64_and(C.getLocal(Tt),C.i64_const(4294967295)),C.i64_and(C.getLocal(oe),C.i64_const(4294967295))))),T.addCode(C.setLocal(Wt,C.i64_add(C.i64_add(C.getLocal(Wt),C.i64_shr_u(C.getLocal(Tt),C.i64_const(32))),C.getLocal(Rt)))));for(let Kt=Math.max(1,Pt-c+1);Kt<=Pt&&Kt<c;Kt++){const de=Pt-Kt;T.addCode(C.setLocal(Tt,C.i64_add(C.i64_and(C.getLocal(Tt),C.i64_const(4294967295)),Zt(Kt,de)))),T.addCode(C.setLocal(Wt,C.i64_add(C.getLocal(Wt),C.i64_shr_u(C.getLocal(Tt),C.i64_const(32)))))}Pt<c&&(T.addCode(C.setLocal("m"+Pt,C.i64_and(C.i64_mul(C.i64_and(C.getLocal(Tt),C.i64_const(4294967295)),C.getLocal("np32")),C.i64_const("0xFFFFFFFF")))),T.addCode(C.setLocal(Tt,C.i64_add(C.i64_and(C.getLocal(Tt),C.i64_const(4294967295)),Zt(0,Pt)))),T.addCode(C.setLocal(Wt,C.i64_add(C.getLocal(Wt),C.i64_shr_u(C.getLocal(Tt),C.i64_const(32)))))),Pt>=c&&T.addCode(C.i64_store32(C.getLocal("r"),(Pt-c)*4,C.getLocal(Tt))),T.addCode(C.setLocal(oe,C.getLocal(Wt)),C.setLocal(Rt,C.i64_shr_u(C.getLocal(oe),C.i64_const(32))))}T.addCode(C.i64_store32(C.getLocal("r"),c*4-4,C.getLocal(oe))),T.addCode(C.if(C.i32_wrap_i64(C.getLocal(Rt)),C.drop(C.call(d+"_sub",C.getLocal("r"),C.i32_const(y),C.getLocal("r"))),C.if(C.call(d+"_gte",C.getLocal("r"),C.i32_const(y)),C.drop(C.call(d+"_sub",C.getLocal("r"),C.i32_const(y),C.getLocal("r"))))))}function k(){const T=t.addFunction(f+"_squareOld");T.addParam("x","i32"),T.addParam("r","i32");const C=T.getCodeBuilder();T.addCode(C.call(f+"_mul",C.getLocal("x"),C.getLocal("x"),C.getLocal("r")))}function W(){const T=t.addFunction(f+"_toMontgomery");T.addParam("x","i32"),T.addParam("r","i32");const C=T.getCodeBuilder();T.addCode(C.call(f+"_mul",C.getLocal("x"),C.i32_const(v),C.getLocal("r")))}function tt(){const T=t.alloc(g*2),C=t.addFunction(f+"_fromMontgomery");C.addParam("x","i32"),C.addParam("r","i32");const Z=C.getCodeBuilder();C.addCode(Z.call(d+"_copy",Z.getLocal("x"),Z.i32_const(T))),C.addCode(Z.call(d+"_zero",Z.i32_const(T+g))),C.addCode(Z.call(f+"_mReduct",Z.i32_const(T),Z.getLocal("r")))}function ct(){const T=t.addFunction(f+"_inverse");T.addParam("x","i32"),T.addParam("r","i32");const C=T.getCodeBuilder();T.addCode(C.call(f+"_fromMontgomery",C.getLocal("x"),C.getLocal("r"))),T.addCode(C.call(d+"_inverseMod",C.getLocal("r"),C.i32_const(y),C.getLocal("r"))),T.addCode(C.call(f+"_toMontgomery",C.getLocal("r"),C.getLocal("r")))}let ut=2n;if(I1(a))for(;C1(ut,x,a)!==B;)ut=ut+1n;let G=0,X=B;for(;!i9(X)&&X!==0n;)G++,X=X>>1n;const J=t.alloc(g,Mi.bigInt2BytesLE(X,g)),q=C1(ut,X,a),lt=t.alloc(Mi.bigInt2BytesLE((q<<BigInt(l*64))%a,g)),St=X+1n>>1n,Ct=t.alloc(g,Mi.bigInt2BytesLE(St,g));function E(){const T=t.addFunction(f+"_sqrt");T.addParam("n","i32"),T.addParam("r","i32"),T.addLocal("m","i32"),T.addLocal("i","i32"),T.addLocal("j","i32");const C=T.getCodeBuilder(),Z=C.i32_const(w),bt=C.i32_const(t.alloc(g)),mt=C.i32_const(t.alloc(g)),Et=C.i32_const(t.alloc(g)),Zt=C.i32_const(t.alloc(g)),Tt=C.i32_const(t.alloc(g));T.addCode(C.if(C.call(f+"_isZero",C.getLocal("n")),C.ret(C.call(f+"_zero",C.getLocal("r")))),C.setLocal("m",C.i32_const(G)),C.call(f+"_copy",C.i32_const(lt),bt),C.call(f+"_exp",C.getLocal("n"),C.i32_const(J),C.i32_const(g),mt),C.call(f+"_exp",C.getLocal("n"),C.i32_const(Ct),C.i32_const(g),Et),C.block(C.loop(C.br_if(1,C.call(f+"_eq",mt,Z)),C.call(f+"_square",mt,Zt),C.setLocal("i",C.i32_const(1)),C.block(C.loop(C.br_if(1,C.call(f+"_eq",Zt,Z)),C.call(f+"_square",Zt,Zt),C.setLocal("i",C.i32_add(C.getLocal("i"),C.i32_const(1))),C.br(0))),C.call(f+"_copy",bt,Tt),C.setLocal("j",C.i32_sub(C.i32_sub(C.getLocal("m"),C.getLocal("i")),C.i32_const(1))),C.block(C.loop(C.br_if(1,C.i32_eqz(C.getLocal("j"))),C.call(f+"_square",Tt,Tt),C.setLocal("j",C.i32_sub(C.getLocal("j"),C.i32_const(1))),C.br(0))),C.setLocal("m",C.getLocal("i")),C.call(f+"_square",Tt,bt),C.call(f+"_mul",mt,bt,mt),C.call(f+"_mul",Et,Tt,Et),C.br(0))),C.if(C.call(f+"_isNegative",Et),C.call(f+"_neg",Et,C.getLocal("r")),C.call(f+"_copy",Et,C.getLocal("r"))))}function h(){const T=t.addFunction(f+"_isSquare");T.addParam("n","i32"),T.setReturnType("i32");const C=T.getCodeBuilder(),Z=C.i32_const(w),bt=C.i32_const(t.alloc(g));T.addCode(C.if(C.call(f+"_isZero",C.getLocal("n")),C.ret(C.i32_const(1))),C.call(f+"_exp",C.getLocal("n"),C.i32_const(M),C.i32_const(g),bt),C.call(f+"_eq",bt,Z))}function R(){const T=t.addFunction(f+"_load");T.addParam("scalar","i32"),T.addParam("scalarLen","i32"),T.addParam("r","i32"),T.addLocal("p","i32"),T.addLocal("l","i32"),T.addLocal("i","i32"),T.addLocal("j","i32");const C=T.getCodeBuilder(),Z=C.i32_const(t.alloc(g)),bt=t.alloc(g),mt=C.i32_const(bt);T.addCode(C.call(d+"_zero",C.getLocal("r")),C.setLocal("i",C.i32_const(g)),C.setLocal("p",C.getLocal("scalar")),C.block(C.loop(C.br_if(1,C.i32_gt_u(C.getLocal("i"),C.getLocal("scalarLen"))),C.if(C.i32_eq(C.getLocal("i"),C.i32_const(g)),C.call(f+"_one",Z),C.call(f+"_mul",Z,C.i32_const(v),Z)),C.call(f+"_mul",C.getLocal("p"),Z,mt),C.call(f+"_add",C.getLocal("r"),mt,C.getLocal("r")),C.setLocal("p",C.i32_add(C.getLocal("p"),C.i32_const(g))),C.setLocal("i",C.i32_add(C.getLocal("i"),C.i32_const(g))),C.br(0))),C.setLocal("l",C.i32_rem_u(C.getLocal("scalarLen"),C.i32_const(g))),C.if(C.i32_eqz(C.getLocal("l")),C.ret([])),C.call(d+"_zero",mt),C.setLocal("j",C.i32_const(0)),C.block(C.loop(C.br_if(1,C.i32_eq(C.getLocal("j"),C.getLocal("l"))),C.i32_store8(C.getLocal("j"),bt,C.i32_load8_u(C.getLocal("p"))),C.setLocal("p",C.i32_add(C.getLocal("p"),C.i32_const(1))),C.setLocal("j",C.i32_add(C.getLocal("j"),C.i32_const(1))),C.br(0))),C.if(C.i32_eq(C.getLocal("i"),C.i32_const(g)),C.call(f+"_one",Z),C.call(f+"_mul",Z,C.i32_const(v),Z)),C.call(f+"_mul",mt,Z,mt),C.call(f+"_add",C.getLocal("r"),mt,C.getLocal("r")))}function p(){const T=t.addFunction(f+"_timesScalar");T.addParam("x","i32"),T.addParam("scalar","i32"),T.addParam("scalarLen","i32"),T.addParam("r","i32");const C=T.getCodeBuilder(),Z=C.i32_const(t.alloc(g));T.addCode(C.call(f+"_load",C.getLocal("scalar"),C.getLocal("scalarLen"),Z),C.call(f+"_toMontgomery",Z,Z),C.call(f+"_mul",C.getLocal("x"),Z,C.getLocal("r")))}function U(){const T=t.addFunction(f+"_isOne");T.addParam("x","i32"),T.setReturnType("i32");const C=T.getCodeBuilder();T.addCode(C.ret(C.call(d+"_eq",C.getLocal("x"),C.i32_const(w))))}return t.exportFunction(d+"_copy",f+"_copy"),t.exportFunction(d+"_zero",f+"_zero"),t.exportFunction(d+"_isZero",f+"_isZero"),t.exportFunction(d+"_eq",f+"_eq"),U(),V(),P(),_(),rt(),H(),Q(),k(),W(),tt(),I(),nt(),ct(),D(),R(),p(),n9(t,f),ip(t,f+"_batchToMontgomery",f+"_toMontgomery",g,g),ip(t,f+"_batchFromMontgomery",f+"_fromMontgomery",g,g),ip(t,f+"_batchNeg",f+"_neg",g,g),op(t,f+"_batchAdd",f+"_add",g,g),op(t,f+"_batchSub",f+"_sub",g,g),op(t,f+"_batchMul",f+"_mul",g,g),t.exportFunction(f+"_add"),t.exportFunction(f+"_sub"),t.exportFunction(f+"_neg"),t.exportFunction(f+"_isNegative"),t.exportFunction(f+"_isOne"),t.exportFunction(f+"_sign"),t.exportFunction(f+"_mReduct"),t.exportFunction(f+"_mul"),t.exportFunction(f+"_square"),t.exportFunction(f+"_squareOld"),t.exportFunction(f+"_fromMontgomery"),t.exportFunction(f+"_toMontgomery"),t.exportFunction(f+"_inverse"),t.exportFunction(f+"_one"),t.exportFunction(f+"_load"),t.exportFunction(f+"_timesScalar"),e9(t,f+"_exp",g,f+"_mul",f+"_square",d+"_copy",f+"_one"),t.exportFunction(f+"_exp"),t.exportFunction(f+"_batchInverse"),I1(a)&&(E(),h(),t.exportFunction(f+"_sqrt"),t.exportFunction(f+"_isSquare")),t.exportFunction(f+"_batchToMontgomery"),t.exportFunction(f+"_batchFromMontgomery"),f};const s9=V0,{bitLength:a9}=Qn;var aC=function(t,e,r,i,a){const l=BigInt(e),c=Math.floor((a9(l-1n)-1)/64)+1,g=c*8,f=r||"f1";if(t.modules[f])return f;t.modules[f]={n64:c};const d=a||"int",y=s9(t,l,i,d),v=t.modules[y].pR2,w=t.modules[y].pq,F=t.modules[y].pePlusOne;function B(){const $=t.alloc(g),D=t.addFunction(f+"_mul");D.addParam("x","i32"),D.addParam("y","i32"),D.addParam("r","i32");const V=D.getCodeBuilder();D.addCode(V.call(y+"_mul",V.getLocal("x"),V.getLocal("y"),V.i32_const($))),D.addCode(V.call(y+"_mul",V.i32_const($),V.i32_const(v),V.getLocal("r")))}function x(){const $=t.addFunction(f+"_square");$.addParam("x","i32"),$.addParam("r","i32");const D=$.getCodeBuilder();$.addCode(D.call(f+"_mul",D.getLocal("x"),D.getLocal("x"),D.getLocal("r")))}function M(){const $=t.addFunction(f+"_inverse");$.addParam("x","i32"),$.addParam("r","i32");const D=$.getCodeBuilder();$.addCode(D.call(d+"_inverseMod",D.getLocal("x"),D.i32_const(w),D.getLocal("r")))}function O(){const $=t.addFunction(f+"_isNegative");$.addParam("x","i32"),$.setReturnType("i32");const D=$.getCodeBuilder();$.addCode(D.call(d+"_gte",D.getLocal("x"),D.i32_const(F)))}return B(),x(),M(),O(),t.exportFunction(y+"_add",f+"_add"),t.exportFunction(y+"_sub",f+"_sub"),t.exportFunction(y+"_neg",f+"_neg"),t.exportFunction(f+"_mul"),t.exportFunction(f+"_square"),t.exportFunction(f+"_inverse"),t.exportFunction(f+"_isNegative"),t.exportFunction(y+"_copy",f+"_copy"),t.exportFunction(y+"_zero",f+"_zero"),t.exportFunction(y+"_one",f+"_one"),t.exportFunction(y+"_isZero",f+"_isZero"),t.exportFunction(y+"_eq",f+"_eq"),f};const c9=Q0,l9=q0,ap=Wo;var cC=function(t,e,r,i){if(t.modules[r])return r;const a=t.modules[i].n64*8,l=t.modules[i].q;t.modules[r]={n64:t.modules[i].n64*2};function c(){const Q=t.addFunction(r+"_add");Q.addParam("x","i32"),Q.addParam("y","i32"),Q.addParam("r","i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a)),ct=k.getLocal("y"),ut=k.i32_add(k.getLocal("y"),k.i32_const(a)),G=k.getLocal("r"),X=k.i32_add(k.getLocal("r"),k.i32_const(a));Q.addCode(k.call(i+"_add",W,ct,G),k.call(i+"_add",tt,ut,X))}function g(){const Q=t.addFunction(r+"_timesScalar");Q.addParam("x","i32"),Q.addParam("scalar","i32"),Q.addParam("scalarLen","i32"),Q.addParam("r","i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a)),ct=k.getLocal("r"),ut=k.i32_add(k.getLocal("r"),k.i32_const(a));Q.addCode(k.call(i+"_timesScalar",W,k.getLocal("scalar"),k.getLocal("scalarLen"),ct),k.call(i+"_timesScalar",tt,k.getLocal("scalar"),k.getLocal("scalarLen"),ut))}function f(){const Q=t.addFunction(r+"_sub");Q.addParam("x","i32"),Q.addParam("y","i32"),Q.addParam("r","i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a)),ct=k.getLocal("y"),ut=k.i32_add(k.getLocal("y"),k.i32_const(a)),G=k.getLocal("r"),X=k.i32_add(k.getLocal("r"),k.i32_const(a));Q.addCode(k.call(i+"_sub",W,ct,G),k.call(i+"_sub",tt,ut,X))}function d(){const Q=t.addFunction(r+"_neg");Q.addParam("x","i32"),Q.addParam("r","i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a)),ct=k.getLocal("r"),ut=k.i32_add(k.getLocal("r"),k.i32_const(a));Q.addCode(k.call(i+"_neg",W,ct),k.call(i+"_neg",tt,ut))}function y(){const Q=t.addFunction(r+"_conjugate");Q.addParam("x","i32"),Q.addParam("r","i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a)),ct=k.getLocal("r"),ut=k.i32_add(k.getLocal("r"),k.i32_const(a));Q.addCode(k.call(i+"_copy",W,ct),k.call(i+"_neg",tt,ut))}function v(){const Q=t.addFunction(r+"_isNegative");Q.addParam("x","i32"),Q.setReturnType("i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a));Q.addCode(k.if(k.call(i+"_isZero",tt),k.ret(k.call(i+"_isNegative",W))),k.ret(k.call(i+"_isNegative",tt)))}function w(){const Q=t.addFunction(r+"_mul");Q.addParam("x","i32"),Q.addParam("y","i32"),Q.addParam("r","i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a)),ct=k.getLocal("y"),ut=k.i32_add(k.getLocal("y"),k.i32_const(a)),G=k.getLocal("r"),X=k.i32_add(k.getLocal("r"),k.i32_const(a)),J=k.i32_const(t.alloc(a)),q=k.i32_const(t.alloc(a)),lt=k.i32_const(t.alloc(a)),St=k.i32_const(t.alloc(a));Q.addCode(k.call(i+"_mul",W,ct,J),k.call(i+"_mul",tt,ut,q),k.call(i+"_add",W,tt,lt),k.call(i+"_add",ct,ut,St),k.call(i+"_mul",lt,St,lt),k.call(e,q,G),k.call(i+"_add",J,G,G),k.call(i+"_add",J,q,X),k.call(i+"_sub",lt,X,X))}function F(){const Q=t.addFunction(r+"_mul1");Q.addParam("x","i32"),Q.addParam("y","i32"),Q.addParam("r","i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a)),ct=k.getLocal("y"),ut=k.getLocal("r"),G=k.i32_add(k.getLocal("r"),k.i32_const(a));Q.addCode(k.call(i+"_mul",W,ct,ut),k.call(i+"_mul",tt,ct,G))}function B(){const Q=t.addFunction(r+"_square");Q.addParam("x","i32"),Q.addParam("r","i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a)),ct=k.getLocal("r"),ut=k.i32_add(k.getLocal("r"),k.i32_const(a)),G=k.i32_const(t.alloc(a)),X=k.i32_const(t.alloc(a)),J=k.i32_const(t.alloc(a)),q=k.i32_const(t.alloc(a));Q.addCode(k.call(i+"_mul",W,tt,G),k.call(i+"_add",W,tt,X),k.call(e,tt,J),k.call(i+"_add",W,J,J),k.call(e,G,q),k.call(i+"_add",q,G,q),k.call(i+"_mul",X,J,ct),k.call(i+"_sub",ct,q,ct),k.call(i+"_add",G,G,ut))}function x(){const Q=t.addFunction(r+"_toMontgomery");Q.addParam("x","i32"),Q.addParam("r","i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a)),ct=k.getLocal("r"),ut=k.i32_add(k.getLocal("r"),k.i32_const(a));Q.addCode(k.call(i+"_toMontgomery",W,ct),k.call(i+"_toMontgomery",tt,ut))}function M(){const Q=t.addFunction(r+"_fromMontgomery");Q.addParam("x","i32"),Q.addParam("r","i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a)),ct=k.getLocal("r"),ut=k.i32_add(k.getLocal("r"),k.i32_const(a));Q.addCode(k.call(i+"_fromMontgomery",W,ct),k.call(i+"_fromMontgomery",tt,ut))}function O(){const Q=t.addFunction(r+"_copy");Q.addParam("x","i32"),Q.addParam("r","i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a)),ct=k.getLocal("r"),ut=k.i32_add(k.getLocal("r"),k.i32_const(a));Q.addCode(k.call(i+"_copy",W,ct),k.call(i+"_copy",tt,ut))}function $(){const Q=t.addFunction(r+"_zero");Q.addParam("x","i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a));Q.addCode(k.call(i+"_zero",W),k.call(i+"_zero",tt))}function D(){const Q=t.addFunction(r+"_one");Q.addParam("x","i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a));Q.addCode(k.call(i+"_one",W),k.call(i+"_zero",tt))}function V(){const Q=t.addFunction(r+"_eq");Q.addParam("x","i32"),Q.addParam("y","i32"),Q.setReturnType("i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a)),ct=k.getLocal("y"),ut=k.i32_add(k.getLocal("y"),k.i32_const(a));Q.addCode(k.i32_and(k.call(i+"_eq",W,ct),k.call(i+"_eq",tt,ut)))}function P(){const Q=t.addFunction(r+"_isZero");Q.addParam("x","i32"),Q.setReturnType("i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a));Q.addCode(k.i32_and(k.call(i+"_isZero",W),k.call(i+"_isZero",tt)))}function _(){const Q=t.addFunction(r+"_inverse");Q.addParam("x","i32"),Q.addParam("r","i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a)),ct=k.getLocal("r"),ut=k.i32_add(k.getLocal("r"),k.i32_const(a)),G=k.i32_const(t.alloc(a)),X=k.i32_const(t.alloc(a)),J=k.i32_const(t.alloc(a)),q=k.i32_const(t.alloc(a));Q.addCode(k.call(i+"_square",W,G),k.call(i+"_square",tt,X),k.call(e,X,J),k.call(i+"_sub",G,J,J),k.call(i+"_inverse",J,q),k.call(i+"_mul",W,q,ct),k.call(i+"_mul",tt,q,ut),k.call(i+"_neg",ut,ut))}function I(){const Q=t.addFunction(r+"_sign");Q.addParam("x","i32"),Q.addLocal("s","i32"),Q.setReturnType("i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a));Q.addCode(k.setLocal("s",k.call(i+"_sign",tt)),k.if(k.getLocal("s"),k.ret(k.getLocal("s"))),k.ret(k.call(i+"_sign",W)))}function nt(){const Q=t.addFunction(r+"_isOne");Q.addParam("x","i32"),Q.setReturnType("i32");const k=Q.getCodeBuilder(),W=k.getLocal("x"),tt=k.i32_add(k.getLocal("x"),k.i32_const(a));Q.addCode(k.ret(k.i32_and(k.call(i+"_isOne",W),k.call(i+"_isZero",tt))))}function rt(){const Q=t.addFunction(r+"_sqrt");Q.addParam("a","i32"),Q.addParam("pr","i32");const k=Q.getCodeBuilder(),W=k.i32_const(t.alloc(ap.bigInt2BytesLE((BigInt(l||0)-3n)/4n,a))),tt=k.i32_const(t.alloc(ap.bigInt2BytesLE((BigInt(l||0)-1n)/2n,a))),ct=k.getLocal("a"),ut=k.i32_const(t.alloc(a*2)),G=k.i32_const(t.alloc(a*2)),X=k.i32_const(t.alloc(a*2)),J=t.alloc(a*2),q=k.i32_const(J),lt=k.i32_const(J),St=k.i32_const(J+a),Ct=k.i32_const(t.alloc(a*2)),E=k.i32_const(t.alloc(a*2));Q.addCode(k.call(r+"_one",q),k.call(r+"_neg",q,q),k.call(r+"_exp",ct,W,k.i32_const(a),ut),k.call(r+"_square",ut,G),k.call(r+"_mul",ct,G,G),k.call(r+"_conjugate",G,X),k.call(r+"_mul",X,G,X),k.if(k.call(r+"_eq",X,q),k.unreachable()),k.call(r+"_mul",ut,ct,Ct),k.if(k.call(r+"_eq",G,q),[...k.call(i+"_zero",lt),...k.call(i+"_one",St),...k.call(r+"_mul",q,Ct,k.getLocal("pr"))],[...k.call(r+"_one",E),...k.call(r+"_add",E,G,E),...k.call(r+"_exp",E,tt,k.i32_const(a),E),...k.call(r+"_mul",E,Ct,k.getLocal("pr"))]))}function H(){const Q=t.addFunction(r+"_isSquare");Q.addParam("a","i32"),Q.setReturnType("i32");const k=Q.getCodeBuilder(),W=k.i32_const(t.alloc(ap.bigInt2BytesLE((BigInt(l||0)-3n)/4n,a))),tt=k.getLocal("a"),ct=k.i32_const(t.alloc(a*2)),ut=k.i32_const(t.alloc(a*2)),G=k.i32_const(t.alloc(a*2)),X=t.alloc(a*2),J=k.i32_const(X);Q.addCode(k.call(r+"_one",J),k.call(r+"_neg",J,J),k.call(r+"_exp",tt,W,k.i32_const(a),ct),k.call(r+"_square",ct,ut),k.call(r+"_mul",tt,ut,ut),k.call(r+"_conjugate",ut,G),k.call(r+"_mul",G,ut,G),k.if(k.call(r+"_eq",G,J),k.ret(k.i32_const(0))),k.ret(k.i32_const(1)))}return P(),nt(),$(),D(),O(),w(),F(),B(),c(),f(),d(),y(),x(),M(),V(),_(),g(),I(),v(),t.exportFunction(r+"_isZero"),t.exportFunction(r+"_isOne"),t.exportFunction(r+"_zero"),t.exportFunction(r+"_one"),t.exportFunction(r+"_copy"),t.exportFunction(r+"_mul"),t.exportFunction(r+"_mul1"),t.exportFunction(r+"_square"),t.exportFunction(r+"_add"),t.exportFunction(r+"_sub"),t.exportFunction(r+"_neg"),t.exportFunction(r+"_sign"),t.exportFunction(r+"_conjugate"),t.exportFunction(r+"_fromMontgomery"),t.exportFunction(r+"_toMontgomery"),t.exportFunction(r+"_eq"),t.exportFunction(r+"_inverse"),l9(t,r),c9(t,r+"_exp",a*2,r+"_mul",r+"_square",r+"_copy",r+"_one"),rt(),H(),t.exportFunction(r+"_exp"),t.exportFunction(r+"_timesScalar"),t.exportFunction(r+"_batchInverse"),t.exportFunction(r+"_sqrt"),t.exportFunction(r+"_isSquare"),t.exportFunction(r+"_isNegative"),r};const u9=Q0,d9=q0;var lC=function(t,e,r,i){if(t.modules[r])return r;const a=t.modules[i].n64*8;t.modules[r]={n64:t.modules[i].n64*3};function l(){const _=t.addFunction(r+"_add");_.addParam("x","i32"),_.addParam("y","i32"),_.addParam("r","i32");const I=_.getCodeBuilder(),nt=I.getLocal("x"),rt=I.i32_add(I.getLocal("x"),I.i32_const(a)),H=I.i32_add(I.getLocal("x"),I.i32_const(2*a)),Q=I.getLocal("y"),k=I.i32_add(I.getLocal("y"),I.i32_const(a)),W=I.i32_add(I.getLocal("y"),I.i32_const(2*a)),tt=I.getLocal("r"),ct=I.i32_add(I.getLocal("r"),I.i32_const(a)),ut=I.i32_add(I.getLocal("r"),I.i32_const(2*a));_.addCode(I.call(i+"_add",nt,Q,tt),I.call(i+"_add",rt,k,ct),I.call(i+"_add",H,W,ut))}function c(){const _=t.addFunction(r+"_timesScalar");_.addParam("x","i32"),_.addParam("scalar","i32"),_.addParam("scalarLen","i32"),_.addParam("r","i32");const I=_.getCodeBuilder(),nt=I.getLocal("x"),rt=I.i32_add(I.getLocal("x"),I.i32_const(a)),H=I.i32_add(I.getLocal("x"),I.i32_const(2*a)),Q=I.getLocal("r"),k=I.i32_add(I.getLocal("r"),I.i32_const(a)),W=I.i32_add(I.getLocal("r"),I.i32_const(2*a));_.addCode(I.call(i+"_timesScalar",nt,I.getLocal("scalar"),I.getLocal("scalarLen"),Q),I.call(i+"_timesScalar",rt,I.getLocal("scalar"),I.getLocal("scalarLen"),k),I.call(i+"_timesScalar",H,I.getLocal("scalar"),I.getLocal("scalarLen"),W))}function g(){const _=t.addFunction(r+"_sub");_.addParam("x","i32"),_.addParam("y","i32"),_.addParam("r","i32");const I=_.getCodeBuilder(),nt=I.getLocal("x"),rt=I.i32_add(I.getLocal("x"),I.i32_const(a)),H=I.i32_add(I.getLocal("x"),I.i32_const(2*a)),Q=I.getLocal("y"),k=I.i32_add(I.getLocal("y"),I.i32_const(a)),W=I.i32_add(I.getLocal("y"),I.i32_const(2*a)),tt=I.getLocal("r"),ct=I.i32_add(I.getLocal("r"),I.i32_const(a)),ut=I.i32_add(I.getLocal("r"),I.i32_const(2*a));_.addCode(I.call(i+"_sub",nt,Q,tt),I.call(i+"_sub",rt,k,ct),I.call(i+"_sub",H,W,ut))}function f(){const _=t.addFunction(r+"_neg");_.addParam("x","i32"),_.addParam("r","i32");const I=_.getCodeBuilder(),nt=I.getLocal("x"),rt=I.i32_add(I.getLocal("x"),I.i32_const(a)),H=I.i32_add(I.getLocal("x"),I.i32_const(2*a)),Q=I.getLocal("r"),k=I.i32_add(I.getLocal("r"),I.i32_const(a)),W=I.i32_add(I.getLocal("r"),I.i32_const(2*a));_.addCode(I.call(i+"_neg",nt,Q),I.call(i+"_neg",rt,k),I.call(i+"_neg",H,W))}function d(){const _=t.addFunction(r+"_isNegative");_.addParam("x","i32"),_.setReturnType("i32");const I=_.getCodeBuilder(),nt=I.getLocal("x"),rt=I.i32_add(I.getLocal("x"),I.i32_const(a)),H=I.i32_add(I.getLocal("x"),I.i32_const(2*a));_.addCode(I.if(I.call(i+"_isZero",H),I.if(I.call(i+"_isZero",rt),I.ret(I.call(i+"_isNegative",nt)),I.ret(I.call(i+"_isNegative",rt)))),I.ret(I.call(i+"_isNegative",H)))}function y(){const _=t.addFunction(r+"_mul");_.addParam("x","i32"),_.addParam("y","i32"),_.addParam("r","i32");const I=_.getCodeBuilder(),nt=I.getLocal("x"),rt=I.i32_add(I.getLocal("x"),I.i32_const(a)),H=I.i32_add(I.getLocal("x"),I.i32_const(2*a)),Q=I.getLocal("y"),k=I.i32_add(I.getLocal("y"),I.i32_const(a)),W=I.i32_add(I.getLocal("y"),I.i32_const(2*a)),tt=I.getLocal("r"),ct=I.i32_add(I.getLocal("r"),I.i32_const(a)),ut=I.i32_add(I.getLocal("r"),I.i32_const(2*a)),G=I.i32_const(t.alloc(a)),X=I.i32_const(t.alloc(a)),J=I.i32_const(t.alloc(a)),q=I.i32_const(t.alloc(a)),lt=I.i32_const(t.alloc(a)),St=I.i32_const(t.alloc(a)),Ct=I.i32_const(t.alloc(a)),E=I.i32_const(t.alloc(a)),h=I.i32_const(t.alloc(a)),R=I.i32_const(t.alloc(a)),p=I.i32_const(t.alloc(a)),U=I.i32_const(t.alloc(a)),T=I.i32_const(t.alloc(a));_.addCode(I.call(i+"_mul",nt,Q,G),I.call(i+"_mul",rt,k,X),I.call(i+"_mul",H,W,J),I.call(i+"_add",nt,rt,q),I.call(i+"_add",Q,k,lt),I.call(i+"_add",nt,H,St),I.call(i+"_add",Q,W,Ct),I.call(i+"_add",rt,H,E),I.call(i+"_add",k,W,h),I.call(i+"_add",G,X,R),I.call(i+"_add",G,J,p),I.call(i+"_add",X,J,U),I.call(i+"_mul",E,h,tt),I.call(i+"_sub",tt,U,tt),I.call(e,tt,tt),I.call(i+"_add",G,tt,tt),I.call(i+"_mul",q,lt,ct),I.call(i+"_sub",ct,R,ct),I.call(e,J,T),I.call(i+"_add",ct,T,ct),I.call(i+"_mul",St,Ct,ut),I.call(i+"_sub",ut,p,ut),I.call(i+"_add",ut,X,ut))}function v(){const _=t.addFunction(r+"_square");_.addParam("x","i32"),_.addParam("r","i32");const I=_.getCodeBuilder(),nt=I.getLocal("x"),rt=I.i32_add(I.getLocal("x"),I.i32_const(a)),H=I.i32_add(I.getLocal("x"),I.i32_const(2*a)),Q=I.getLocal("r"),k=I.i32_add(I.getLocal("r"),I.i32_const(a)),W=I.i32_add(I.getLocal("r"),I.i32_const(2*a)),tt=I.i32_const(t.alloc(a)),ct=I.i32_const(t.alloc(a)),ut=I.i32_const(t.alloc(a)),G=I.i32_const(t.alloc(a)),X=I.i32_const(t.alloc(a)),J=I.i32_const(t.alloc(a)),q=I.i32_const(t.alloc(a));_.addCode(I.call(i+"_square",nt,tt),I.call(i+"_mul",nt,rt,ct),I.call(i+"_add",ct,ct,ut),I.call(i+"_sub",nt,rt,G),I.call(i+"_add",G,H,G),I.call(i+"_square",G,G),I.call(i+"_mul",rt,H,X),I.call(i+"_add",X,X,J),I.call(i+"_square",H,q),I.call(e,J,Q),I.call(i+"_add",tt,Q,Q),I.call(e,q,k),I.call(i+"_add",ut,k,k),I.call(i+"_add",tt,q,W),I.call(i+"_sub",J,W,W),I.call(i+"_add",G,W,W),I.call(i+"_add",ut,W,W))}function w(){const _=t.addFunction(r+"_toMontgomery");_.addParam("x","i32"),_.addParam("r","i32");const I=_.getCodeBuilder(),nt=I.getLocal("x"),rt=I.i32_add(I.getLocal("x"),I.i32_const(a)),H=I.i32_add(I.getLocal("x"),I.i32_const(2*a)),Q=I.getLocal("r"),k=I.i32_add(I.getLocal("r"),I.i32_const(a)),W=I.i32_add(I.getLocal("r"),I.i32_const(2*a));_.addCode(I.call(i+"_toMontgomery",nt,Q),I.call(i+"_toMontgomery",rt,k),I.call(i+"_toMontgomery",H,W))}function F(){const _=t.addFunction(r+"_fromMontgomery");_.addParam("x","i32"),_.addParam("r","i32");const I=_.getCodeBuilder(),nt=I.getLocal("x"),rt=I.i32_add(I.getLocal("x"),I.i32_const(a)),H=I.i32_add(I.getLocal("x"),I.i32_const(2*a)),Q=I.getLocal("r"),k=I.i32_add(I.getLocal("r"),I.i32_const(a)),W=I.i32_add(I.getLocal("r"),I.i32_const(2*a));_.addCode(I.call(i+"_fromMontgomery",nt,Q),I.call(i+"_fromMontgomery",rt,k),I.call(i+"_fromMontgomery",H,W))}function B(){const _=t.addFunction(r+"_copy");_.addParam("x","i32"),_.addParam("r","i32");const I=_.getCodeBuilder(),nt=I.getLocal("x"),rt=I.i32_add(I.getLocal("x"),I.i32_const(a)),H=I.i32_add(I.getLocal("x"),I.i32_const(2*a)),Q=I.getLocal("r"),k=I.i32_add(I.getLocal("r"),I.i32_const(a)),W=I.i32_add(I.getLocal("r"),I.i32_const(2*a));_.addCode(I.call(i+"_copy",nt,Q),I.call(i+"_copy",rt,k),I.call(i+"_copy",H,W))}function x(){const _=t.addFunction(r+"_zero");_.addParam("x","i32");const I=_.getCodeBuilder(),nt=I.getLocal("x"),rt=I.i32_add(I.getLocal("x"),I.i32_const(a)),H=I.i32_add(I.getLocal("x"),I.i32_const(2*a));_.addCode(I.call(i+"_zero",nt),I.call(i+"_zero",rt),I.call(i+"_zero",H))}function M(){const _=t.addFunction(r+"_one");_.addParam("x","i32");const I=_.getCodeBuilder(),nt=I.getLocal("x"),rt=I.i32_add(I.getLocal("x"),I.i32_const(a)),H=I.i32_add(I.getLocal("x"),I.i32_const(2*a));_.addCode(I.call(i+"_one",nt),I.call(i+"_zero",rt),I.call(i+"_zero",H))}function O(){const _=t.addFunction(r+"_eq");_.addParam("x","i32"),_.addParam("y","i32"),_.setReturnType("i32");const I=_.getCodeBuilder(),nt=I.getLocal("x"),rt=I.i32_add(I.getLocal("x"),I.i32_const(a)),H=I.i32_add(I.getLocal("x"),I.i32_const(2*a)),Q=I.getLocal("y"),k=I.i32_add(I.getLocal("y"),I.i32_const(a)),W=I.i32_add(I.getLocal("y"),I.i32_const(2*a));_.addCode(I.i32_and(I.i32_and(I.call(i+"_eq",nt,Q),I.call(i+"_eq",rt,k)),I.call(i+"_eq",H,W)))}function $(){const _=t.addFunction(r+"_isZero");_.addParam("x","i32"),_.setReturnType("i32");const I=_.getCodeBuilder(),nt=I.getLocal("x"),rt=I.i32_add(I.getLocal("x"),I.i32_const(a)),H=I.i32_add(I.getLocal("x"),I.i32_const(2*a));_.addCode(I.i32_and(I.i32_and(I.call(i+"_isZero",nt),I.call(i+"_isZero",rt)),I.call(i+"_isZero",H)))}function D(){const _=t.addFunction(r+"_inverse");_.addParam("x","i32"),_.addParam("r","i32");const I=_.getCodeBuilder(),nt=I.getLocal("x"),rt=I.i32_add(I.getLocal("x"),I.i32_const(a)),H=I.i32_add(I.getLocal("x"),I.i32_const(2*a)),Q=I.getLocal("r"),k=I.i32_add(I.getLocal("r"),I.i32_const(a)),W=I.i32_add(I.getLocal("r"),I.i32_const(2*a)),tt=I.i32_const(t.alloc(a)),ct=I.i32_const(t.alloc(a)),ut=I.i32_const(t.alloc(a)),G=I.i32_const(t.alloc(a)),X=I.i32_const(t.alloc(a)),J=I.i32_const(t.alloc(a)),q=I.i32_const(t.alloc(a)),lt=I.i32_const(t.alloc(a)),St=I.i32_const(t.alloc(a)),Ct=I.i32_const(t.alloc(a)),E=I.i32_const(t.alloc(a));_.addCode(I.call(i+"_square",nt,tt),I.call(i+"_square",rt,ct),I.call(i+"_square",H,ut),I.call(i+"_mul",nt,rt,G),I.call(i+"_mul",nt,H,X),I.call(i+"_mul",rt,H,J),I.call(e,J,q),I.call(i+"_sub",tt,q,q),I.call(e,ut,lt),I.call(i+"_sub",lt,G,lt),I.call(i+"_sub",ct,X,St),I.call(i+"_mul",H,lt,Ct),I.call(i+"_mul",rt,St,E),I.call(i+"_add",Ct,E,Ct),I.call(e,Ct,Ct),I.call(i+"_mul",nt,q,E),I.call(i+"_add",E,Ct,Ct),I.call(i+"_inverse",Ct,Ct),I.call(i+"_mul",Ct,q,Q),I.call(i+"_mul",Ct,lt,k),I.call(i+"_mul",Ct,St,W))}function V(){const _=t.addFunction(r+"_sign");_.addParam("x","i32"),_.addLocal("s","i32"),_.setReturnType("i32");const I=_.getCodeBuilder(),nt=I.getLocal("x"),rt=I.i32_add(I.getLocal("x"),I.i32_const(a)),H=I.i32_add(I.getLocal("x"),I.i32_const(2*a));_.addCode(I.setLocal("s",I.call(i+"_sign",H)),I.if(I.getLocal("s"),I.ret(I.getLocal("s"))),I.setLocal("s",I.call(i+"_sign",rt)),I.if(I.getLocal("s"),I.ret(I.getLocal("s"))),I.ret(I.call(i+"_sign",nt)))}function P(){const _=t.addFunction(r+"_isOne");_.addParam("x","i32"),_.setReturnType("i32");const I=_.getCodeBuilder(),nt=I.getLocal("x"),rt=I.i32_add(I.getLocal("x"),I.i32_const(a)),H=I.i32_add(I.getLocal("x"),I.i32_const(a*2));_.addCode(I.ret(I.i32_and(I.i32_and(I.call(i+"_isOne",nt),I.call(i+"_isZero",rt)),I.call(i+"_isZero",H))))}return $(),P(),x(),M(),B(),y(),v(),l(),g(),f(),V(),w(),F(),O(),D(),c(),d(),t.exportFunction(r+"_isZero"),t.exportFunction(r+"_isOne"),t.exportFunction(r+"_zero"),t.exportFunction(r+"_one"),t.exportFunction(r+"_copy"),t.exportFunction(r+"_mul"),t.exportFunction(r+"_square"),t.exportFunction(r+"_add"),t.exportFunction(r+"_sub"),t.exportFunction(r+"_neg"),t.exportFunction(r+"_sign"),t.exportFunction(r+"_fromMontgomery"),t.exportFunction(r+"_toMontgomery"),t.exportFunction(r+"_eq"),t.exportFunction(r+"_inverse"),d9(t,r),u9(t,r+"_exp",a*3,r+"_mul",r+"_square",r+"_copy",r+"_one"),t.exportFunction(r+"_exp"),t.exportFunction(r+"_timesScalar"),t.exportFunction(r+"_batchInverse"),t.exportFunction(r+"_isNegative"),r},f9=function(t,e,r,i,a,l,c,g){const f=t.addFunction(e);f.addParam("base","i32"),f.addParam("scalar","i32"),f.addParam("scalarLength","i32"),f.addParam("r","i32"),f.addLocal("old0","i32"),f.addLocal("nbits","i32"),f.addLocal("i","i32"),f.addLocal("last","i32"),f.addLocal("cur","i32"),f.addLocal("carry","i32"),f.addLocal("p","i32");const d=f.getCodeBuilder(),y=d.i32_const(t.alloc(r));function v(F){return d.i32_and(d.i32_shr_u(d.i32_load(d.i32_add(d.getLocal("scalar"),d.i32_and(d.i32_shr_u(F,d.i32_const(3)),d.i32_const(4294967292)))),d.i32_and(F,d.i32_const(31))),d.i32_const(1))}function w(F){return[...d.i32_store8(d.getLocal("p"),d.i32_const(F)),...d.setLocal("p",d.i32_add(d.getLocal("p"),d.i32_const(1)))]}f.addCode(d.if(d.i32_eqz(d.getLocal("scalarLength")),[...d.call(g,d.getLocal("r")),...d.ret([])]),d.setLocal("nbits",d.i32_shl(d.getLocal("scalarLength"),d.i32_const(3))),d.setLocal("old0",d.i32_load(d.i32_const(0))),d.setLocal("p",d.getLocal("old0")),d.i32_store(d.i32_const(0),d.i32_and(d.i32_add(d.i32_add(d.getLocal("old0"),d.i32_const(32)),d.getLocal("nbits")),d.i32_const(4294967288))),d.setLocal("i",d.i32_const(1)),d.setLocal("last",v(d.i32_const(0))),d.setLocal("carry",d.i32_const(0)),d.block(d.loop(d.br_if(1,d.i32_eq(d.getLocal("i"),d.getLocal("nbits"))),d.setLocal("cur",v(d.getLocal("i"))),d.if(d.getLocal("last"),d.if(d.getLocal("cur"),d.if(d.getLocal("carry"),[...d.setLocal("last",d.i32_const(0)),...d.setLocal("carry",d.i32_const(1)),...w(1)],[...d.setLocal("last",d.i32_const(0)),...d.setLocal("carry",d.i32_const(1)),...w(255)]),d.if(d.getLocal("carry"),[...d.setLocal("last",d.i32_const(0)),...d.setLocal("carry",d.i32_const(1)),...w(255)],[...d.setLocal("last",d.i32_const(0)),...d.setLocal("carry",d.i32_const(0)),...w(1)])),d.if(d.getLocal("cur"),d.if(d.getLocal("carry"),[...d.setLocal("last",d.i32_const(0)),...d.setLocal("carry",d.i32_const(1)),...w(0)],[...d.setLocal("last",d.i32_const(1)),...d.setLocal("carry",d.i32_const(0)),...w(0)]),d.if(d.getLocal("carry"),[...d.setLocal("last",d.i32_const(1)),...d.setLocal("carry",d.i32_const(0)),...w(0)],[...d.setLocal("last",d.i32_const(0)),...d.setLocal("carry",d.i32_const(0)),...w(0)]))),d.setLocal("i",d.i32_add(d.getLocal("i"),d.i32_const(1))),d.br(0))),d.if(d.getLocal("last"),d.if(d.getLocal("carry"),[...w(255),...w(0),...w(1)],[...w(1)]),d.if(d.getLocal("carry"),[...w(0),...w(1)])),d.setLocal("p",d.i32_sub(d.getLocal("p"),d.i32_const(1))),d.call(c,d.getLocal("base"),y),d.call(g,d.getLocal("r")),d.block(d.loop(d.call(a,d.getLocal("r"),d.getLocal("r")),d.setLocal("cur",d.i32_load8_u(d.getLocal("p"))),d.if(d.getLocal("cur"),d.if(d.i32_eq(d.getLocal("cur"),d.i32_const(1)),d.call(i,d.getLocal("r"),y,d.getLocal("r")),d.call(l,d.getLocal("r"),y,d.getLocal("r")))),d.br_if(1,d.i32_eq(d.getLocal("old0"),d.getLocal("p"))),d.setLocal("p",d.i32_sub(d.getLocal("p"),d.i32_const(1))),d.br(0))),d.i32_store(d.i32_const(0),d.getLocal("old0")))},h9=function(t,e,r,i,a){const c=t.modules[e].n64*8;function g(){const v=t.addFunction(r+"_getChunk");v.addParam("pScalar","i32"),v.addParam("scalarSize","i32"),v.addParam("startBit","i32"),v.addParam("chunkSize","i32"),v.addLocal("bitsToEnd","i32"),v.addLocal("mask","i32"),v.setReturnType("i32");const w=v.getCodeBuilder();v.addCode(w.setLocal("bitsToEnd",w.i32_sub(w.i32_mul(w.getLocal("scalarSize"),w.i32_const(8)),w.getLocal("startBit"))),w.if(w.i32_gt_s(w.getLocal("chunkSize"),w.getLocal("bitsToEnd")),w.setLocal("mask",w.i32_sub(w.i32_shl(w.i32_const(1),w.getLocal("bitsToEnd")),w.i32_const(1))),w.setLocal("mask",w.i32_sub(w.i32_shl(w.i32_const(1),w.getLocal("chunkSize")),w.i32_const(1)))),w.i32_and(w.i32_shr_u(w.i32_load(w.i32_add(w.getLocal("pScalar"),w.i32_shr_u(w.getLocal("startBit"),w.i32_const(3))),0,0),w.i32_and(w.getLocal("startBit"),w.i32_const(7))),w.getLocal("mask")))}function f(){const v=t.addFunction(r+"_chunk");v.addParam("pBases","i32"),v.addParam("pScalars","i32"),v.addParam("scalarSize","i32"),v.addParam("n","i32"),v.addParam("startBit","i32"),v.addParam("chunkSize","i32"),v.addParam("pr","i32"),v.addLocal("nChunks","i32"),v.addLocal("itScalar","i32"),v.addLocal("endScalar","i32"),v.addLocal("itBase","i32"),v.addLocal("i","i32"),v.addLocal("j","i32"),v.addLocal("nTable","i32"),v.addLocal("pTable","i32"),v.addLocal("idx","i32"),v.addLocal("pIdxTable","i32");const w=v.getCodeBuilder();v.addCode(w.if(w.i32_eqz(w.getLocal("n")),[...w.call(e+"_zero",w.getLocal("pr")),...w.ret([])]),w.setLocal("nTable",w.i32_shl(w.i32_const(1),w.getLocal("chunkSize"))),w.setLocal("pTable",w.i32_load(w.i32_const(0))),w.i32_store(w.i32_const(0),w.i32_add(w.getLocal("pTable"),w.i32_mul(w.getLocal("nTable"),w.i32_const(c)))),w.setLocal("j",w.i32_const(0)),w.block(w.loop(w.br_if(1,w.i32_eq(w.getLocal("j"),w.getLocal("nTable"))),w.call(e+"_zero",w.i32_add(w.getLocal("pTable"),w.i32_mul(w.getLocal("j"),w.i32_const(c)))),w.setLocal("j",w.i32_add(w.getLocal("j"),w.i32_const(1))),w.br(0))),w.setLocal("itBase",w.getLocal("pBases")),w.setLocal("itScalar",w.getLocal("pScalars")),w.setLocal("endScalar",w.i32_add(w.getLocal("pScalars"),w.i32_mul(w.getLocal("n"),w.getLocal("scalarSize")))),w.block(w.loop(w.br_if(1,w.i32_eq(w.getLocal("itScalar"),w.getLocal("endScalar"))),w.setLocal("idx",w.call(r+"_getChunk",w.getLocal("itScalar"),w.getLocal("scalarSize"),w.getLocal("startBit"),w.getLocal("chunkSize"))),w.if(w.getLocal("idx"),[...w.setLocal("pIdxTable",w.i32_add(w.getLocal("pTable"),w.i32_mul(w.i32_sub(w.getLocal("idx"),w.i32_const(1)),w.i32_const(c)))),...w.call(i,w.getLocal("pIdxTable"),w.getLocal("itBase"),w.getLocal("pIdxTable"))]),w.setLocal("itScalar",w.i32_add(w.getLocal("itScalar"),w.getLocal("scalarSize"))),w.setLocal("itBase",w.i32_add(w.getLocal("itBase"),w.i32_const(a))),w.br(0))),w.call(r+"_reduceTable",w.getLocal("pTable"),w.getLocal("chunkSize")),w.call(e+"_copy",w.getLocal("pTable"),w.getLocal("pr")),w.i32_store(w.i32_const(0),w.getLocal("pTable")))}function d(){const v=t.addFunction(r);v.addParam("pBases","i32"),v.addParam("pScalars","i32"),v.addParam("scalarSize","i32"),v.addParam("n","i32"),v.addParam("pr","i32"),v.addLocal("chunkSize","i32"),v.addLocal("nChunks","i32"),v.addLocal("itScalar","i32"),v.addLocal("endScalar","i32"),v.addLocal("itBase","i32"),v.addLocal("itBit","i32"),v.addLocal("i","i32"),v.addLocal("j","i32"),v.addLocal("nTable","i32"),v.addLocal("pTable","i32"),v.addLocal("idx","i32"),v.addLocal("pIdxTable","i32");const w=v.getCodeBuilder(),F=w.i32_const(t.alloc(c)),B=t.alloc([17,17,17,17,17,17,17,17,17,17,16,16,15,14,13,13,12,11,10,9,8,7,7,6,5,4,3,2,1,1,1,1]);v.addCode(w.call(e+"_zero",w.getLocal("pr")),w.if(w.i32_eqz(w.getLocal("n")),w.ret([])),w.setLocal("chunkSize",w.i32_load8_u(w.i32_clz(w.getLocal("n")),B)),w.setLocal("nChunks",w.i32_add(w.i32_div_u(w.i32_sub(w.i32_shl(w.getLocal("scalarSize"),w.i32_const(3)),w.i32_const(1)),w.getLocal("chunkSize")),w.i32_const(1))),w.setLocal("itBit",w.i32_mul(w.i32_sub(w.getLocal("nChunks"),w.i32_const(1)),w.getLocal("chunkSize"))),w.block(w.loop(w.br_if(1,w.i32_lt_s(w.getLocal("itBit"),w.i32_const(0))),w.if(w.i32_eqz(w.call(e+"_isZero",w.getLocal("pr"))),[...w.setLocal("j",w.i32_const(0)),...w.block(w.loop(w.br_if(1,w.i32_eq(w.getLocal("j"),w.getLocal("chunkSize"))),w.call(e+"_double",w.getLocal("pr"),w.getLocal("pr")),w.setLocal("j",w.i32_add(w.getLocal("j"),w.i32_const(1))),w.br(0)))]),w.call(r+"_chunk",w.getLocal("pBases"),w.getLocal("pScalars"),w.getLocal("scalarSize"),w.getLocal("n"),w.getLocal("itBit"),w.getLocal("chunkSize"),F),w.call(e+"_add",w.getLocal("pr"),F,w.getLocal("pr")),w.setLocal("itBit",w.i32_sub(w.getLocal("itBit"),w.getLocal("chunkSize"))),w.br(0))))}function y(){const v=t.addFunction(r+"_reduceTable");v.addParam("pTable","i32"),v.addParam("p","i32"),v.addLocal("half","i32"),v.addLocal("it1","i32"),v.addLocal("it2","i32"),v.addLocal("pAcc","i32");const w=v.getCodeBuilder();v.addCode(w.if(w.i32_eq(w.getLocal("p"),w.i32_const(1)),w.ret([])),w.setLocal("half",w.i32_shl(w.i32_const(1),w.i32_sub(w.getLocal("p"),w.i32_const(1)))),w.setLocal("it1",w.getLocal("pTable")),w.setLocal("it2",w.i32_add(w.getLocal("pTable"),w.i32_mul(w.getLocal("half"),w.i32_const(c)))),w.setLocal("pAcc",w.i32_sub(w.getLocal("it2"),w.i32_const(c))),w.block(w.loop(w.br_if(1,w.i32_eq(w.getLocal("it1"),w.getLocal("pAcc"))),w.call(e+"_add",w.getLocal("it1"),w.getLocal("it2"),w.getLocal("it1")),w.call(e+"_add",w.getLocal("pAcc"),w.getLocal("it2"),w.getLocal("pAcc")),w.setLocal("it1",w.i32_add(w.getLocal("it1"),w.i32_const(c))),w.setLocal("it2",w.i32_add(w.getLocal("it2"),w.i32_const(c))),w.br(0))),w.call(r+"_reduceTable",w.getLocal("pTable"),w.i32_sub(w.getLocal("p"),w.i32_const(1))),w.setLocal("p",w.i32_sub(w.getLocal("p"),w.i32_const(1))),w.block(w.loop(w.br_if(1,w.i32_eqz(w.getLocal("p"))),w.call(e+"_double",w.getLocal("pAcc"),w.getLocal("pAcc")),w.setLocal("p",w.i32_sub(w.getLocal("p"),w.i32_const(1))),w.br(0))),w.call(e+"_add",w.getLocal("pTable"),w.getLocal("pAcc"),w.getLocal("pTable")))}g(),y(),f(),d(),t.exportFunction(r),t.exportFunction(r+"_chunk")};const x1=f9,kc=eC,E1=h9;var uC=function(t,e,r,i){const a=t.modules[r].n64,l=a*8;if(t.modules[e])return e;t.modules[e]={n64:a*3};function c(){const E=t.addFunction(e+"_isZero");E.addParam("p1","i32"),E.setReturnType("i32");const h=E.getCodeBuilder();E.addCode(h.call(r+"_isZero",h.i32_add(h.getLocal("p1"),h.i32_const(l*2))))}function g(){const E=t.addFunction(e+"_isZeroAffine");E.addParam("p1","i32"),E.setReturnType("i32");const h=E.getCodeBuilder();E.addCode(h.i32_and(h.call(r+"_isZero",h.getLocal("p1")),h.call(r+"_isZero",h.i32_add(h.getLocal("p1"),h.i32_const(l)))))}function f(){const E=t.addFunction(e+"_copy");E.addParam("ps","i32"),E.addParam("pd","i32");const h=E.getCodeBuilder();for(let R=0;R<a*3;R++)E.addCode(h.i64_store(h.getLocal("pd"),R*8,h.i64_load(h.getLocal("ps"),R*8)))}function d(){const E=t.addFunction(e+"_copyAffine");E.addParam("ps","i32"),E.addParam("pd","i32");const h=E.getCodeBuilder();for(let R=0;R<a*2;R++)E.addCode(h.i64_store(h.getLocal("pd"),R*8,h.i64_load(h.getLocal("ps"),R*8)))}function y(){const E=t.addFunction(e+"_zero");E.addParam("pr","i32");const h=E.getCodeBuilder();E.addCode(h.call(r+"_zero",h.getLocal("pr"))),E.addCode(h.call(r+"_one",h.i32_add(h.getLocal("pr"),h.i32_const(l)))),E.addCode(h.call(r+"_zero",h.i32_add(h.getLocal("pr"),h.i32_const(l*2))))}function v(){const E=t.addFunction(e+"_zeroAffine");E.addParam("pr","i32");const h=E.getCodeBuilder();E.addCode(h.call(r+"_zero",h.getLocal("pr"))),E.addCode(h.call(r+"_zero",h.i32_add(h.getLocal("pr"),h.i32_const(l))))}function w(){const E=t.addFunction(e+"_eq");E.addParam("p1","i32"),E.addParam("p2","i32"),E.setReturnType("i32"),E.addLocal("z1","i32"),E.addLocal("z2","i32");const h=E.getCodeBuilder(),R=h.getLocal("p1"),p=h.i32_add(h.getLocal("p1"),h.i32_const(l));E.addCode(h.setLocal("z1",h.i32_add(h.getLocal("p1"),h.i32_const(l*2))));const U=h.getLocal("z1"),T=h.getLocal("p2"),C=h.i32_add(h.getLocal("p2"),h.i32_const(l));E.addCode(h.setLocal("z2",h.i32_add(h.getLocal("p2"),h.i32_const(l*2))));const Z=h.getLocal("z2"),bt=h.i32_const(t.alloc(l)),mt=h.i32_const(t.alloc(l)),Et=h.i32_const(t.alloc(l)),Zt=h.i32_const(t.alloc(l)),Tt=h.i32_const(t.alloc(l)),Wt=h.i32_const(t.alloc(l)),oe=h.i32_const(t.alloc(l)),Rt=h.i32_const(t.alloc(l));E.addCode(h.if(h.call(e+"_isZero",h.getLocal("p1")),h.ret(h.call(e+"_isZero",h.getLocal("p2")))),h.if(h.call(e+"_isZero",h.getLocal("p2")),h.ret(h.i32_const(0))),h.if(h.call(r+"_isOne",U),h.ret(h.call(e+"_eqMixed",h.getLocal("p2"),h.getLocal("p1")))),h.if(h.call(r+"_isOne",Z),h.ret(h.call(e+"_eqMixed",h.getLocal("p1"),h.getLocal("p2")))),h.call(r+"_square",U,bt),h.call(r+"_square",Z,mt),h.call(r+"_mul",R,mt,Et),h.call(r+"_mul",T,bt,Zt),h.call(r+"_mul",U,bt,Tt),h.call(r+"_mul",Z,mt,Wt),h.call(r+"_mul",p,Wt,oe),h.call(r+"_mul",C,Tt,Rt),h.if(h.call(r+"_eq",Et,Zt),h.if(h.call(r+"_eq",oe,Rt),h.ret(h.i32_const(1)))),h.ret(h.i32_const(0)))}function F(){const E=t.addFunction(e+"_eqMixed");E.addParam("p1","i32"),E.addParam("p2","i32"),E.setReturnType("i32"),E.addLocal("z1","i32");const h=E.getCodeBuilder(),R=h.getLocal("p1"),p=h.i32_add(h.getLocal("p1"),h.i32_const(l));E.addCode(h.setLocal("z1",h.i32_add(h.getLocal("p1"),h.i32_const(l*2))));const U=h.getLocal("z1"),T=h.getLocal("p2"),C=h.i32_add(h.getLocal("p2"),h.i32_const(l)),Z=h.i32_const(t.alloc(l)),bt=h.i32_const(t.alloc(l)),mt=h.i32_const(t.alloc(l)),Et=h.i32_const(t.alloc(l));E.addCode(h.if(h.call(e+"_isZero",h.getLocal("p1")),h.ret(h.call(e+"_isZeroAffine",h.getLocal("p2")))),h.if(h.call(e+"_isZeroAffine",h.getLocal("p2")),h.ret(h.i32_const(0))),h.if(h.call(r+"_isOne",U),h.ret(h.call(e+"_eqAffine",h.getLocal("p1"),h.getLocal("p2")))),h.call(r+"_square",U,Z),h.call(r+"_mul",T,Z,bt),h.call(r+"_mul",U,Z,mt),h.call(r+"_mul",C,mt,Et),h.if(h.call(r+"_eq",R,bt),h.if(h.call(r+"_eq",p,Et),h.ret(h.i32_const(1)))),h.ret(h.i32_const(0)))}function B(){const E=t.addFunction(e+"_double");E.addParam("p1","i32"),E.addParam("pr","i32");const h=E.getCodeBuilder(),R=h.getLocal("p1"),p=h.i32_add(h.getLocal("p1"),h.i32_const(l)),U=h.i32_add(h.getLocal("p1"),h.i32_const(l*2)),T=h.getLocal("pr"),C=h.i32_add(h.getLocal("pr"),h.i32_const(l)),Z=h.i32_add(h.getLocal("pr"),h.i32_const(l*2)),bt=h.i32_const(t.alloc(l)),mt=h.i32_const(t.alloc(l)),Et=h.i32_const(t.alloc(l)),Zt=h.i32_const(t.alloc(l)),Tt=h.i32_const(t.alloc(l)),Wt=h.i32_const(t.alloc(l)),oe=h.i32_const(t.alloc(l)),Rt=h.i32_const(t.alloc(l));E.addCode(h.if(h.call(e+"_isZero",h.getLocal("p1")),[...h.call(e+"_copy",h.getLocal("p1"),h.getLocal("pr")),...h.ret([])]),h.if(h.call(r+"_isOne",U),[...h.ret(h.call(e+"_doubleAffine",h.getLocal("p1"),h.getLocal("pr"))),...h.ret([])]),h.call(r+"_square",R,bt),h.call(r+"_square",p,mt),h.call(r+"_square",mt,Et),h.call(r+"_add",R,mt,Zt),h.call(r+"_square",Zt,Zt),h.call(r+"_sub",Zt,bt,Zt),h.call(r+"_sub",Zt,Et,Zt),h.call(r+"_add",Zt,Zt,Zt),h.call(r+"_add",bt,bt,Tt),h.call(r+"_add",Tt,bt,Tt),h.call(r+"_square",Tt,Wt),h.call(r+"_mul",p,U,oe),h.call(r+"_add",Zt,Zt,T),h.call(r+"_sub",Wt,T,T),h.call(r+"_add",Et,Et,Rt),h.call(r+"_add",Rt,Rt,Rt),h.call(r+"_add",Rt,Rt,Rt),h.call(r+"_sub",Zt,T,C),h.call(r+"_mul",C,Tt,C),h.call(r+"_sub",C,Rt,C),h.call(r+"_add",oe,oe,Z))}function x(){const E=t.addFunction(e+"_doubleAffine");E.addParam("p1","i32"),E.addParam("pr","i32");const h=E.getCodeBuilder(),R=h.getLocal("p1"),p=h.i32_add(h.getLocal("p1"),h.i32_const(l)),U=h.getLocal("pr"),T=h.i32_add(h.getLocal("pr"),h.i32_const(l)),C=h.i32_add(h.getLocal("pr"),h.i32_const(l*2)),Z=h.i32_const(t.alloc(l)),bt=h.i32_const(t.alloc(l)),mt=h.i32_const(t.alloc(l)),Et=h.i32_const(t.alloc(l)),Zt=h.i32_const(t.alloc(l)),Tt=h.i32_const(t.alloc(l));E.addCode(h.if(h.call(e+"_isZeroAffine",h.getLocal("p1")),[...h.call(e+"_toJacobian",h.getLocal("p1"),h.getLocal("pr")),...h.ret([])]),h.call(r+"_square",R,Z),h.call(r+"_square",p,bt),h.call(r+"_square",bt,mt),h.call(r+"_add",R,bt,Et),h.call(r+"_square",Et,Et),h.call(r+"_sub",Et,Z,Et),h.call(r+"_sub",Et,mt,Et),h.call(r+"_add",Et,Et,Et),h.call(r+"_add",Z,Z,Zt),h.call(r+"_add",Zt,Z,Zt),h.call(r+"_add",p,p,C),h.call(r+"_square",Zt,U),h.call(r+"_sub",U,Et,U),h.call(r+"_sub",U,Et,U),h.call(r+"_add",mt,mt,Tt),h.call(r+"_add",Tt,Tt,Tt),h.call(r+"_add",Tt,Tt,Tt),h.call(r+"_sub",Et,U,T),h.call(r+"_mul",T,Zt,T),h.call(r+"_sub",T,Tt,T))}function M(){const E=t.addFunction(e+"_eqAffine");E.addParam("p1","i32"),E.addParam("p2","i32"),E.setReturnType("i32"),E.addLocal("z1","i32");const h=E.getCodeBuilder();E.addCode(h.ret(h.i32_and(h.call(r+"_eq",h.getLocal("p1"),h.getLocal("p2")),h.call(r+"_eq",h.i32_add(h.getLocal("p1"),h.i32_const(l)),h.i32_add(h.getLocal("p2"),h.i32_const(l))))))}function O(){const E=t.addFunction(e+"_toMontgomery");E.addParam("p1","i32"),E.addParam("pr","i32");const h=E.getCodeBuilder();E.addCode(h.call(r+"_toMontgomery",h.getLocal("p1"),h.getLocal("pr")));for(let R=1;R<3;R++)E.addCode(h.call(r+"_toMontgomery",h.i32_add(h.getLocal("p1"),h.i32_const(R*l)),h.i32_add(h.getLocal("pr"),h.i32_const(R*l))))}function $(){const E=t.addFunction(e+"_toMontgomeryAffine");E.addParam("p1","i32"),E.addParam("pr","i32");const h=E.getCodeBuilder();E.addCode(h.call(r+"_toMontgomery",h.getLocal("p1"),h.getLocal("pr")));for(let R=1;R<2;R++)E.addCode(h.call(r+"_toMontgomery",h.i32_add(h.getLocal("p1"),h.i32_const(R*l)),h.i32_add(h.getLocal("pr"),h.i32_const(R*l))))}function D(){const E=t.addFunction(e+"_fromMontgomery");E.addParam("p1","i32"),E.addParam("pr","i32");const h=E.getCodeBuilder();E.addCode(h.call(r+"_fromMontgomery",h.getLocal("p1"),h.getLocal("pr")));for(let R=1;R<3;R++)E.addCode(h.call(r+"_fromMontgomery",h.i32_add(h.getLocal("p1"),h.i32_const(R*l)),h.i32_add(h.getLocal("pr"),h.i32_const(R*l))))}function V(){const E=t.addFunction(e+"_fromMontgomeryAffine");E.addParam("p1","i32"),E.addParam("pr","i32");const h=E.getCodeBuilder();E.addCode(h.call(r+"_fromMontgomery",h.getLocal("p1"),h.getLocal("pr")));for(let R=1;R<2;R++)E.addCode(h.call(r+"_fromMontgomery",h.i32_add(h.getLocal("p1"),h.i32_const(R*l)),h.i32_add(h.getLocal("pr"),h.i32_const(R*l))))}function P(){const E=t.addFunction(e+"_add");E.addParam("p1","i32"),E.addParam("p2","i32"),E.addParam("pr","i32"),E.addLocal("z1","i32"),E.addLocal("z2","i32");const h=E.getCodeBuilder(),R=h.getLocal("p1"),p=h.i32_add(h.getLocal("p1"),h.i32_const(l));E.addCode(h.setLocal("z1",h.i32_add(h.getLocal("p1"),h.i32_const(l*2))));const U=h.getLocal("z1"),T=h.getLocal("p2"),C=h.i32_add(h.getLocal("p2"),h.i32_const(l));E.addCode(h.setLocal("z2",h.i32_add(h.getLocal("p2"),h.i32_const(l*2))));const Z=h.getLocal("z2"),bt=h.getLocal("pr"),mt=h.i32_add(h.getLocal("pr"),h.i32_const(l)),Et=h.i32_add(h.getLocal("pr"),h.i32_const(l*2)),Zt=h.i32_const(t.alloc(l)),Tt=h.i32_const(t.alloc(l)),Wt=h.i32_const(t.alloc(l)),oe=h.i32_const(t.alloc(l)),Rt=h.i32_const(t.alloc(l)),Pt=h.i32_const(t.alloc(l)),Kt=h.i32_const(t.alloc(l)),de=h.i32_const(t.alloc(l)),Ae=h.i32_const(t.alloc(l)),un=h.i32_const(t.alloc(l)),De=h.i32_const(t.alloc(l)),Je=h.i32_const(t.alloc(l)),Ce=h.i32_const(t.alloc(l)),Qe=h.i32_const(t.alloc(l)),Ue=h.i32_const(t.alloc(l)),gn=h.i32_const(t.alloc(l)),An=h.i32_const(t.alloc(l));E.addCode(h.if(h.call(e+"_isZero",h.getLocal("p1")),[...h.call(e+"_copy",h.getLocal("p2"),h.getLocal("pr")),...h.ret([])]),h.if(h.call(e+"_isZero",h.getLocal("p2")),[...h.call(e+"_copy",h.getLocal("p1"),h.getLocal("pr")),...h.ret([])]),h.if(h.call(r+"_isOne",U),[...h.call(e+"_addMixed",T,R,bt),...h.ret([])]),h.if(h.call(r+"_isOne",Z),[...h.call(e+"_addMixed",R,T,bt),...h.ret([])]),h.call(r+"_square",U,Zt),h.call(r+"_square",Z,Tt),h.call(r+"_mul",R,Tt,Wt),h.call(r+"_mul",T,Zt,oe),h.call(r+"_mul",U,Zt,Rt),h.call(r+"_mul",Z,Tt,Pt),h.call(r+"_mul",p,Pt,Kt),h.call(r+"_mul",C,Rt,de),h.if(h.call(r+"_eq",Wt,oe),h.if(h.call(r+"_eq",Kt,de),[...h.call(e+"_double",h.getLocal("p1"),h.getLocal("pr")),...h.ret([])])),h.call(r+"_sub",oe,Wt,Ae),h.call(r+"_sub",de,Kt,un),h.call(r+"_add",Ae,Ae,De),h.call(r+"_square",De,De),h.call(r+"_mul",Ae,De,Je),h.call(r+"_add",un,un,Ce),h.call(r+"_mul",Wt,De,Ue),h.call(r+"_square",Ce,Qe),h.call(r+"_add",Ue,Ue,gn),h.call(r+"_sub",Qe,Je,bt),h.call(r+"_sub",bt,gn,bt),h.call(r+"_mul",Kt,Je,An),h.call(r+"_add",An,An,An),h.call(r+"_sub",Ue,bt,mt),h.call(r+"_mul",mt,Ce,mt),h.call(r+"_sub",mt,An,mt),h.call(r+"_add",U,Z,Et),h.call(r+"_square",Et,Et),h.call(r+"_sub",Et,Zt,Et),h.call(r+"_sub",Et,Tt,Et),h.call(r+"_mul",Et,Ae,Et))}function _(){const E=t.addFunction(e+"_addMixed");E.addParam("p1","i32"),E.addParam("p2","i32"),E.addParam("pr","i32"),E.addLocal("z1","i32");const h=E.getCodeBuilder(),R=h.getLocal("p1"),p=h.i32_add(h.getLocal("p1"),h.i32_const(l));E.addCode(h.setLocal("z1",h.i32_add(h.getLocal("p1"),h.i32_const(l*2))));const U=h.getLocal("z1"),T=h.getLocal("p2"),C=h.i32_add(h.getLocal("p2"),h.i32_const(l)),Z=h.getLocal("pr"),bt=h.i32_add(h.getLocal("pr"),h.i32_const(l)),mt=h.i32_add(h.getLocal("pr"),h.i32_const(l*2)),Et=h.i32_const(t.alloc(l)),Zt=h.i32_const(t.alloc(l)),Tt=h.i32_const(t.alloc(l)),Wt=h.i32_const(t.alloc(l)),oe=h.i32_const(t.alloc(l)),Rt=h.i32_const(t.alloc(l)),Pt=h.i32_const(t.alloc(l)),Kt=h.i32_const(t.alloc(l)),de=h.i32_const(t.alloc(l)),Ae=h.i32_const(t.alloc(l)),un=h.i32_const(t.alloc(l)),De=h.i32_const(t.alloc(l)),Je=h.i32_const(t.alloc(l)),Ce=h.i32_const(t.alloc(l));E.addCode(h.if(h.call(e+"_isZero",h.getLocal("p1")),[...h.call(e+"_copyAffine",h.getLocal("p2"),h.getLocal("pr")),...h.call(r+"_one",h.i32_add(h.getLocal("pr"),h.i32_const(l*2))),...h.ret([])]),h.if(h.call(e+"_isZeroAffine",h.getLocal("p2")),[...h.call(e+"_copy",h.getLocal("p1"),h.getLocal("pr")),...h.ret([])]),h.if(h.call(r+"_isOne",U),[...h.call(e+"_addAffine",R,T,Z),...h.ret([])]),h.call(r+"_square",U,Et),h.call(r+"_mul",T,Et,Zt),h.call(r+"_mul",U,Et,Tt),h.call(r+"_mul",C,Tt,Wt),h.if(h.call(r+"_eq",R,Zt),h.if(h.call(r+"_eq",p,Wt),[...h.call(e+"_doubleAffine",h.getLocal("p2"),h.getLocal("pr")),...h.ret([])])),h.call(r+"_sub",Zt,R,oe),h.call(r+"_sub",Wt,p,Pt),h.call(r+"_square",oe,Rt),h.call(r+"_add",Rt,Rt,Kt),h.call(r+"_add",Kt,Kt,Kt),h.call(r+"_mul",oe,Kt,de),h.call(r+"_add",Pt,Pt,Ae),h.call(r+"_mul",R,Kt,De),h.call(r+"_square",Ae,un),h.call(r+"_add",De,De,Je),h.call(r+"_sub",un,de,Z),h.call(r+"_sub",Z,Je,Z),h.call(r+"_mul",p,de,Ce),h.call(r+"_add",Ce,Ce,Ce),h.call(r+"_sub",De,Z,bt),h.call(r+"_mul",bt,Ae,bt),h.call(r+"_sub",bt,Ce,bt),h.call(r+"_add",U,oe,mt),h.call(r+"_square",mt,mt),h.call(r+"_sub",mt,Et,mt),h.call(r+"_sub",mt,Rt,mt))}function I(){const E=t.addFunction(e+"_addAffine");E.addParam("p1","i32"),E.addParam("p2","i32"),E.addParam("pr","i32"),E.addLocal("z1","i32");const h=E.getCodeBuilder(),R=h.getLocal("p1"),p=h.i32_add(h.getLocal("p1"),h.i32_const(l));E.addCode(h.setLocal("z1",h.i32_add(h.getLocal("p1"),h.i32_const(l*2))));const U=h.getLocal("p2"),T=h.i32_add(h.getLocal("p2"),h.i32_const(l)),C=h.getLocal("pr"),Z=h.i32_add(h.getLocal("pr"),h.i32_const(l)),bt=h.i32_add(h.getLocal("pr"),h.i32_const(l*2)),mt=h.i32_const(t.alloc(l)),Et=h.i32_const(t.alloc(l)),Zt=h.i32_const(t.alloc(l)),Tt=h.i32_const(t.alloc(l)),Wt=h.i32_const(t.alloc(l)),oe=h.i32_const(t.alloc(l)),Rt=h.i32_const(t.alloc(l)),Pt=h.i32_const(t.alloc(l)),Kt=h.i32_const(t.alloc(l)),de=h.i32_const(t.alloc(l));E.addCode(h.if(h.call(e+"_isZeroAffine",h.getLocal("p1")),[...h.call(e+"_copyAffine",h.getLocal("p2"),h.getLocal("pr")),...h.call(r+"_one",h.i32_add(h.getLocal("pr"),h.i32_const(l*2))),...h.ret([])]),h.if(h.call(e+"_isZeroAffine",h.getLocal("p2")),[...h.call(e+"_copyAffine",h.getLocal("p1"),h.getLocal("pr")),...h.call(r+"_one",h.i32_add(h.getLocal("pr"),h.i32_const(l*2))),...h.ret([])]),h.if(h.call(r+"_eq",R,U),h.if(h.call(r+"_eq",p,T),[...h.call(e+"_doubleAffine",h.getLocal("p2"),h.getLocal("pr")),...h.ret([])])),h.call(r+"_sub",U,R,mt),h.call(r+"_sub",T,p,Zt),h.call(r+"_square",mt,Et),h.call(r+"_add",Et,Et,Tt),h.call(r+"_add",Tt,Tt,Tt),h.call(r+"_mul",mt,Tt,Wt),h.call(r+"_add",Zt,Zt,oe),h.call(r+"_mul",R,Tt,Pt),h.call(r+"_square",oe,Rt),h.call(r+"_add",Pt,Pt,Kt),h.call(r+"_sub",Rt,Wt,C),h.call(r+"_sub",C,Kt,C),h.call(r+"_mul",p,Wt,de),h.call(r+"_add",de,de,de),h.call(r+"_sub",Pt,C,Z),h.call(r+"_mul",Z,oe,Z),h.call(r+"_sub",Z,de,Z),h.call(r+"_add",mt,mt,bt))}function nt(){const E=t.addFunction(e+"_neg");E.addParam("p1","i32"),E.addParam("pr","i32");const h=E.getCodeBuilder(),R=h.getLocal("p1"),p=h.i32_add(h.getLocal("p1"),h.i32_const(l)),U=h.i32_add(h.getLocal("p1"),h.i32_const(l*2)),T=h.getLocal("pr"),C=h.i32_add(h.getLocal("pr"),h.i32_const(l)),Z=h.i32_add(h.getLocal("pr"),h.i32_const(l*2));E.addCode(h.call(r+"_copy",R,T),h.call(r+"_neg",p,C),h.call(r+"_copy",U,Z))}function rt(){const E=t.addFunction(e+"_negAffine");E.addParam("p1","i32"),E.addParam("pr","i32");const h=E.getCodeBuilder(),R=h.getLocal("p1"),p=h.i32_add(h.getLocal("p1"),h.i32_const(l)),U=h.getLocal("pr"),T=h.i32_add(h.getLocal("pr"),h.i32_const(l));E.addCode(h.call(r+"_copy",R,U),h.call(r+"_neg",p,T))}function H(){const E=t.addFunction(e+"_sub");E.addParam("p1","i32"),E.addParam("p2","i32"),E.addParam("pr","i32");const h=E.getCodeBuilder(),R=h.i32_const(t.alloc(l*3));E.addCode(h.call(e+"_neg",h.getLocal("p2"),R),h.call(e+"_add",h.getLocal("p1"),R,h.getLocal("pr")))}function Q(){const E=t.addFunction(e+"_subMixed");E.addParam("p1","i32"),E.addParam("p2","i32"),E.addParam("pr","i32");const h=E.getCodeBuilder(),R=h.i32_const(t.alloc(l*3));E.addCode(h.call(e+"_negAffine",h.getLocal("p2"),R),h.call(e+"_addMixed",h.getLocal("p1"),R,h.getLocal("pr")))}function k(){const E=t.addFunction(e+"_subAffine");E.addParam("p1","i32"),E.addParam("p2","i32"),E.addParam("pr","i32");const h=E.getCodeBuilder(),R=h.i32_const(t.alloc(l*3));E.addCode(h.call(e+"_negAffine",h.getLocal("p2"),R),h.call(e+"_addAffine",h.getLocal("p1"),R,h.getLocal("pr")))}function W(){const E=t.addFunction(e+"_normalize");E.addParam("p1","i32"),E.addParam("pr","i32");const h=E.getCodeBuilder(),R=h.getLocal("p1"),p=h.i32_add(h.getLocal("p1"),h.i32_const(l)),U=h.i32_add(h.getLocal("p1"),h.i32_const(l*2)),T=h.getLocal("pr"),C=h.i32_add(h.getLocal("pr"),h.i32_const(l)),Z=h.i32_add(h.getLocal("pr"),h.i32_const(l*2)),bt=h.i32_const(t.alloc(l)),mt=h.i32_const(t.alloc(l)),Et=h.i32_const(t.alloc(l));E.addCode(h.if(h.call(e+"_isZero",h.getLocal("p1")),h.call(e+"_zero",h.getLocal("pr")),[...h.call(r+"_inverse",U,bt),...h.call(r+"_square",bt,mt),...h.call(r+"_mul",bt,mt,Et),...h.call(r+"_mul",R,mt,T),...h.call(r+"_mul",p,Et,C),...h.call(r+"_one",Z)]))}function tt(){const E=t.addFunction(e+"_toAffine");E.addParam("p1","i32"),E.addParam("pr","i32");const h=E.getCodeBuilder(),R=h.getLocal("p1"),p=h.i32_add(h.getLocal("p1"),h.i32_const(l)),U=h.i32_add(h.getLocal("p1"),h.i32_const(l*2)),T=h.getLocal("pr"),C=h.i32_add(h.getLocal("pr"),h.i32_const(l)),Z=h.i32_const(t.alloc(l)),bt=h.i32_const(t.alloc(l)),mt=h.i32_const(t.alloc(l));E.addCode(h.if(h.call(e+"_isZero",h.getLocal("p1")),[...h.call(r+"_zero",T),...h.call(r+"_zero",C)],[...h.call(r+"_inverse",U,Z),...h.call(r+"_square",Z,bt),...h.call(r+"_mul",Z,bt,mt),...h.call(r+"_mul",R,bt,T),...h.call(r+"_mul",p,mt,C)]))}function ct(){const E=t.addFunction(e+"_toJacobian");E.addParam("p1","i32"),E.addParam("pr","i32");const h=E.getCodeBuilder(),R=h.getLocal("p1"),p=h.i32_add(h.getLocal("p1"),h.i32_const(l)),U=h.getLocal("pr"),T=h.i32_add(h.getLocal("pr"),h.i32_const(l)),C=h.i32_add(h.getLocal("pr"),h.i32_const(l*2));E.addCode(h.if(h.call(e+"_isZeroAffine",h.getLocal("p1")),h.call(e+"_zero",h.getLocal("pr")),[...h.call(r+"_one",C),...h.call(r+"_copy",p,T),...h.call(r+"_copy",R,U)]))}function ut(){const E=t.addFunction(e+"_batchToAffine");E.addParam("pIn","i32"),E.addParam("n","i32"),E.addParam("pOut","i32"),E.addLocal("pAux","i32"),E.addLocal("itIn","i32"),E.addLocal("itAux","i32"),E.addLocal("itOut","i32"),E.addLocal("i","i32");const h=E.getCodeBuilder(),R=h.i32_const(t.alloc(l));E.addCode(h.setLocal("pAux",h.i32_load(h.i32_const(0))),h.i32_store(h.i32_const(0),h.i32_add(h.getLocal("pAux"),h.i32_mul(h.getLocal("n"),h.i32_const(l)))),h.call(r+"_batchInverse",h.i32_add(h.getLocal("pIn"),h.i32_const(l*2)),h.i32_const(l*3),h.getLocal("n"),h.getLocal("pAux"),h.i32_const(l)),h.setLocal("itIn",h.getLocal("pIn")),h.setLocal("itAux",h.getLocal("pAux")),h.setLocal("itOut",h.getLocal("pOut")),h.setLocal("i",h.i32_const(0)),h.block(h.loop(h.br_if(1,h.i32_eq(h.getLocal("i"),h.getLocal("n"))),h.if(h.call(r+"_isZero",h.getLocal("itAux")),[...h.call(r+"_zero",h.getLocal("itOut")),...h.call(r+"_zero",h.i32_add(h.getLocal("itOut"),h.i32_const(l)))],[...h.call(r+"_mul",h.getLocal("itAux"),h.i32_add(h.getLocal("itIn"),h.i32_const(l)),R),...h.call(r+"_square",h.getLocal("itAux"),h.getLocal("itAux")),...h.call(r+"_mul",h.getLocal("itAux"),h.getLocal("itIn"),h.getLocal("itOut")),...h.call(r+"_mul",h.getLocal("itAux"),R,h.i32_add(h.getLocal("itOut"),h.i32_const(l)))]),h.setLocal("itIn",h.i32_add(h.getLocal("itIn"),h.i32_const(l*3))),h.setLocal("itOut",h.i32_add(h.getLocal("itOut"),h.i32_const(l*2))),h.setLocal("itAux",h.i32_add(h.getLocal("itAux"),h.i32_const(l))),h.setLocal("i",h.i32_add(h.getLocal("i"),h.i32_const(1))),h.br(0))),h.i32_store(h.i32_const(0),h.getLocal("pAux")))}function G(){const E=t.addFunction(e+"__reverseBytes");E.addParam("pIn","i32"),E.addParam("n","i32"),E.addParam("pOut","i32"),E.addLocal("itOut","i32"),E.addLocal("itIn","i32");const h=E.getCodeBuilder();E.addCode(h.setLocal("itOut",h.i32_sub(h.i32_add(h.getLocal("pOut"),h.getLocal("n")),h.i32_const(1))),h.setLocal("itIn",h.getLocal("pIn")),h.block(h.loop(h.br_if(1,h.i32_lt_s(h.getLocal("itOut"),h.getLocal("pOut"))),h.i32_store8(h.getLocal("itOut"),h.i32_load8_u(h.getLocal("itIn"))),h.setLocal("itOut",h.i32_sub(h.getLocal("itOut"),h.i32_const(1))),h.setLocal("itIn",h.i32_add(h.getLocal("itIn"),h.i32_const(1))),h.br(0))))}function X(){const E=t.addFunction(e+"_LEMtoC");E.addParam("pIn","i32"),E.addParam("pOut","i32");const h=E.getCodeBuilder(),R=h.i32_const(t.alloc(l));E.addCode(h.if(h.call(e+"_isZeroAffine",h.getLocal("pIn")),[...h.call(r+"_zero",h.getLocal("pOut")),...h.i32_store8(h.getLocal("pOut"),h.i32_const(64)),...h.ret([])]),h.call(r+"_fromMontgomery",h.getLocal("pIn"),R),h.call(e+"__reverseBytes",R,h.i32_const(l),h.getLocal("pOut")),h.if(h.i32_eq(h.call(r+"_sign",h.i32_add(h.getLocal("pIn"),h.i32_const(l))),h.i32_const(-1)),h.i32_store8(h.getLocal("pOut"),h.i32_or(h.i32_load8_u(h.getLocal("pOut")),h.i32_const(128)))))}function J(){const E=t.addFunction(e+"_LEMtoU");E.addParam("pIn","i32"),E.addParam("pOut","i32");const h=E.getCodeBuilder(),R=t.alloc(l*2),p=h.i32_const(R),U=h.i32_const(R),T=h.i32_const(R+l);E.addCode(h.if(h.call(e+"_isZeroAffine",h.getLocal("pIn")),[...h.call(e+"_zeroAffine",h.getLocal("pOut")),...h.ret([])]),h.call(e+"_fromMontgomeryAffine",h.getLocal("pIn"),p),h.call(e+"__reverseBytes",U,h.i32_const(l),h.getLocal("pOut")),h.call(e+"__reverseBytes",T,h.i32_const(l),h.i32_add(h.getLocal("pOut"),h.i32_const(l))))}function q(){const E=t.addFunction(e+"_UtoLEM");E.addParam("pIn","i32"),E.addParam("pOut","i32");const h=E.getCodeBuilder(),R=t.alloc(l*2),p=h.i32_const(R),U=h.i32_const(R),T=h.i32_const(R+l);E.addCode(h.if(h.i32_and(h.i32_load8_u(h.getLocal("pIn")),h.i32_const(64)),[...h.call(e+"_zeroAffine",h.getLocal("pOut")),...h.ret([])]),h.call(e+"__reverseBytes",h.getLocal("pIn"),h.i32_const(l),U),h.call(e+"__reverseBytes",h.i32_add(h.getLocal("pIn"),h.i32_const(l)),h.i32_const(l),T),h.call(e+"_toMontgomeryAffine",p,h.getLocal("pOut")))}function lt(){const E=t.addFunction(e+"_CtoLEM");E.addParam("pIn","i32"),E.addParam("pOut","i32"),E.addLocal("firstByte","i32"),E.addLocal("greatest","i32");const h=E.getCodeBuilder(),R=t.alloc(l*2),p=h.i32_const(R),U=h.i32_const(R+l);E.addCode(h.setLocal("firstByte",h.i32_load8_u(h.getLocal("pIn"))),h.if(h.i32_and(h.getLocal("firstByte"),h.i32_const(64)),[...h.call(e+"_zeroAffine",h.getLocal("pOut")),...h.ret([])]),h.setLocal("greatest",h.i32_and(h.getLocal("firstByte"),h.i32_const(128))),h.call(r+"_copy",h.getLocal("pIn"),U),h.i32_store8(U,h.i32_and(h.getLocal("firstByte"),h.i32_const(63))),h.call(e+"__reverseBytes",U,h.i32_const(l),p),h.call(r+"_toMontgomery",p,h.getLocal("pOut")),h.call(r+"_square",h.getLocal("pOut"),U),h.call(r+"_mul",h.getLocal("pOut"),U,U),h.call(r+"_add",U,h.i32_const(i),U),h.call(r+"_sqrt",U,U),h.call(r+"_neg",U,p),h.if(h.i32_eq(h.call(r+"_sign",U),h.i32_const(-1)),h.if(h.getLocal("greatest"),h.call(r+"_copy",U,h.i32_add(h.getLocal("pOut"),h.i32_const(l))),h.call(r+"_neg",U,h.i32_add(h.getLocal("pOut"),h.i32_const(l)))),h.if(h.getLocal("greatest"),h.call(r+"_neg",U,h.i32_add(h.getLocal("pOut"),h.i32_const(l))),h.call(r+"_copy",U,h.i32_add(h.getLocal("pOut"),h.i32_const(l))))))}function St(){const E=t.addFunction(e+"_inCurveAffine");E.addParam("pIn","i32"),E.setReturnType("i32");const h=E.getCodeBuilder(),R=h.getLocal("pIn"),p=h.i32_add(h.getLocal("pIn"),h.i32_const(l)),U=h.i32_const(t.alloc(l)),T=h.i32_const(t.alloc(l));E.addCode(h.call(r+"_square",p,U),h.call(r+"_square",R,T),h.call(r+"_mul",R,T,T),h.call(r+"_add",T,h.i32_const(i),T),h.ret(h.call(r+"_eq",U,T)))}function Ct(){const E=t.addFunction(e+"_inCurve");E.addParam("pIn","i32"),E.setReturnType("i32");const h=E.getCodeBuilder(),R=h.i32_const(t.alloc(l*2));E.addCode(h.call(e+"_toAffine",h.getLocal("pIn"),R),h.ret(h.call(e+"_inCurveAffine",R)))}return g(),c(),v(),y(),d(),f(),ct(),M(),F(),w(),x(),B(),I(),_(),P(),rt(),nt(),k(),Q(),H(),V(),D(),$(),O(),tt(),St(),Ct(),ut(),W(),G(),J(),X(),q(),lt(),kc(t,e+"_batchLEMtoU",e+"_LEMtoU",l*2,l*2),kc(t,e+"_batchLEMtoC",e+"_LEMtoC",l*2,l),kc(t,e+"_batchUtoLEM",e+"_UtoLEM",l*2,l*2),kc(t,e+"_batchCtoLEM",e+"_CtoLEM",l,l*2,!0),kc(t,e+"_batchToJacobian",e+"_toJacobian",l*2,l*3,!0),E1(t,e,e+"_multiexp",e+"_add",l*3),E1(t,e,e+"_multiexpAffine",e+"_addMixed",l*2),x1(t,e+"_timesScalar",l*3,e+"_add",e+"_double",e+"_sub",e+"_copy",e+"_zero"),x1(t,e+"_timesScalarAffine",l*2,e+"_addMixed",e+"_double",e+"_subMixed",e+"_copyAffine",e+"_zero"),t.exportFunction(e+"_isZero"),t.exportFunction(e+"_isZeroAffine"),t.exportFunction(e+"_eq"),t.exportFunction(e+"_eqMixed"),t.exportFunction(e+"_eqAffine"),t.exportFunction(e+"_copy"),t.exportFunction(e+"_copyAffine"),t.exportFunction(e+"_zero"),t.exportFunction(e+"_zeroAffine"),t.exportFunction(e+"_double"),t.exportFunction(e+"_doubleAffine"),t.exportFunction(e+"_add"),t.exportFunction(e+"_addMixed"),t.exportFunction(e+"_addAffine"),t.exportFunction(e+"_neg"),t.exportFunction(e+"_negAffine"),t.exportFunction(e+"_sub"),t.exportFunction(e+"_subMixed"),t.exportFunction(e+"_subAffine"),t.exportFunction(e+"_fromMontgomery"),t.exportFunction(e+"_fromMontgomeryAffine"),t.exportFunction(e+"_toMontgomery"),t.exportFunction(e+"_toMontgomeryAffine"),t.exportFunction(e+"_timesScalar"),t.exportFunction(e+"_timesScalarAffine"),t.exportFunction(e+"_normalize"),t.exportFunction(e+"_LEMtoU"),t.exportFunction(e+"_LEMtoC"),t.exportFunction(e+"_UtoLEM"),t.exportFunction(e+"_CtoLEM"),t.exportFunction(e+"_batchLEMtoU"),t.exportFunction(e+"_batchLEMtoC"),t.exportFunction(e+"_batchUtoLEM"),t.exportFunction(e+"_batchCtoLEM"),t.exportFunction(e+"_toAffine"),t.exportFunction(e+"_toJacobian"),t.exportFunction(e+"_batchToAffine"),t.exportFunction(e+"_batchToJacobian"),t.exportFunction(e+"_inCurve"),t.exportFunction(e+"_inCurveAffine"),e};const{isOdd:g9,modInv:S1,modPow:Mc}=Qn,sd=Wo;var dC=function(t,e,r,i,a){const c=t.modules[i].n64*8,f=t.modules[r].n64*8,d=t.modules[i].q;let y=d-1n,v=0;for(;!g9(y);)v++,y=y>>1n;let w=2n;for(;Mc(w,d>>1n,d)===1n;)w=w+1n;const F=new Array(v+1);F[v]=Mc(w,y,d);let B=v-1;for(;B>=0;)F[B]=Mc(F[B+1],2n,d),B--;const x=[],M=(1n<<BigInt(c*8))%d;for(let R=0;R<F.length;R++){const p=F[R]*M%d;x.push(...sd.bigInt2BytesLE(p,c))}const O=t.alloc(x),$=new Array(v+1);$[0]=1n;for(let R=1;R<=v;R++)$[R]=$[R-1]*2n;const D=[];for(let R=0;R<=v;R++){const p=S1($[R],d)*M%d;D.push(...sd.bigInt2BytesLE(p,c))}const V=t.alloc(D),P=Mc(w,2n,d),_=[],I=[];for(let R=0;R<=v;R++){const p=Mc(P,2n**BigInt(R),d),U=S1(d+1n-p,d);_.push(...sd.bigInt2BytesLE(p*M%d,c)),I.push(...sd.bigInt2BytesLE(U*M%d,c))}const nt=t.alloc(_),rt=t.alloc(I);function H(R){let p=0;for(let U=0;U<8;U++)R&1<<U&&(p=p|128>>U);return p}const Q=Array(256);for(let R=0;R<256;R++)Q[R]=H(R);const k=t.alloc(Q);function W(){const R=t.addFunction(e+"__log2");R.addParam("n","i32"),R.setReturnType("i32"),R.addLocal("bits","i32"),R.addLocal("aux","i32");const p=R.getCodeBuilder();R.addCode(p.setLocal("aux",p.i32_shr_u(p.getLocal("n"),p.i32_const(1)))),R.addCode(p.setLocal("bits",p.i32_const(0))),R.addCode(p.block(p.loop(p.br_if(1,p.i32_eqz(p.getLocal("aux"))),p.setLocal("aux",p.i32_shr_u(p.getLocal("aux"),p.i32_const(1))),p.setLocal("bits",p.i32_add(p.getLocal("bits"),p.i32_const(1))),p.br(0)))),R.addCode(p.if(p.i32_ne(p.getLocal("n"),p.i32_shl(p.i32_const(1),p.getLocal("bits"))),p.unreachable())),R.addCode(p.if(p.i32_gt_u(p.getLocal("bits"),p.i32_const(v)),p.unreachable())),R.addCode(p.getLocal("bits"))}function tt(){const R=t.addFunction(e+"_fft");R.addParam("px","i32"),R.addParam("n","i32"),R.addLocal("bits","i32");const p=R.getCodeBuilder(),U=p.i32_const(t.alloc(c));R.addCode(p.setLocal("bits",p.call(e+"__log2",p.getLocal("n"))),p.call(i+"_one",U),p.call(e+"_rawfft",p.getLocal("px"),p.getLocal("bits"),p.i32_const(0),U))}function ct(){const R=t.addFunction(e+"_ifft");R.addParam("px","i32"),R.addParam("n","i32"),R.addLocal("bits","i32"),R.addLocal("pInv2","i32");const p=R.getCodeBuilder();R.addCode(p.setLocal("bits",p.call(e+"__log2",p.getLocal("n"))),p.setLocal("pInv2",p.i32_add(p.i32_const(V),p.i32_mul(p.getLocal("bits"),p.i32_const(c)))),p.call(e+"_rawfft",p.getLocal("px"),p.getLocal("bits"),p.i32_const(1),p.getLocal("pInv2")))}function ut(){const R=t.addFunction(e+"_rawfft");R.addParam("px","i32"),R.addParam("bits","i32"),R.addParam("reverse","i32"),R.addParam("mulFactor","i32"),R.addLocal("s","i32"),R.addLocal("k","i32"),R.addLocal("j","i32"),R.addLocal("m","i32"),R.addLocal("mdiv2","i32"),R.addLocal("n","i32"),R.addLocal("pwm","i32"),R.addLocal("idx1","i32"),R.addLocal("idx2","i32");const p=R.getCodeBuilder(),U=p.i32_const(t.alloc(c)),T=p.i32_const(t.alloc(f)),C=p.i32_const(t.alloc(f));R.addCode(p.call(e+"__reversePermutation",p.getLocal("px"),p.getLocal("bits")),p.setLocal("n",p.i32_shl(p.i32_const(1),p.getLocal("bits"))),p.setLocal("s",p.i32_const(1)),p.block(p.loop(p.br_if(1,p.i32_gt_u(p.getLocal("s"),p.getLocal("bits"))),p.setLocal("m",p.i32_shl(p.i32_const(1),p.getLocal("s"))),p.setLocal("pwm",p.i32_add(p.i32_const(O),p.i32_mul(p.getLocal("s"),p.i32_const(c)))),p.setLocal("k",p.i32_const(0)),p.block(p.loop(p.br_if(1,p.i32_ge_u(p.getLocal("k"),p.getLocal("n"))),p.call(i+"_one",U),p.setLocal("mdiv2",p.i32_shr_u(p.getLocal("m"),p.i32_const(1))),p.setLocal("j",p.i32_const(0)),p.block(p.loop(p.br_if(1,p.i32_ge_u(p.getLocal("j"),p.getLocal("mdiv2"))),p.setLocal("idx1",p.i32_add(p.getLocal("px"),p.i32_mul(p.i32_add(p.getLocal("k"),p.getLocal("j")),p.i32_const(f)))),p.setLocal("idx2",p.i32_add(p.getLocal("idx1"),p.i32_mul(p.getLocal("mdiv2"),p.i32_const(f)))),p.call(a,p.getLocal("idx2"),U,T),p.call(r+"_copy",p.getLocal("idx1"),C),p.call(r+"_add",C,T,p.getLocal("idx1")),p.call(r+"_sub",C,T,p.getLocal("idx2")),p.call(i+"_mul",U,p.getLocal("pwm"),U),p.setLocal("j",p.i32_add(p.getLocal("j"),p.i32_const(1))),p.br(0))),p.setLocal("k",p.i32_add(p.getLocal("k"),p.getLocal("m"))),p.br(0))),p.setLocal("s",p.i32_add(p.getLocal("s"),p.i32_const(1))),p.br(0))),p.call(e+"__fftFinal",p.getLocal("px"),p.getLocal("bits"),p.getLocal("reverse"),p.getLocal("mulFactor")))}function G(){const R=t.addFunction(e+"__fftFinal");R.addParam("px","i32"),R.addParam("bits","i32"),R.addParam("reverse","i32"),R.addParam("mulFactor","i32"),R.addLocal("n","i32"),R.addLocal("ndiv2","i32"),R.addLocal("pInv2","i32"),R.addLocal("i","i32"),R.addLocal("mask","i32"),R.addLocal("idx1","i32"),R.addLocal("idx2","i32");const p=R.getCodeBuilder(),U=p.i32_const(t.alloc(f));R.addCode(p.if(p.i32_and(p.i32_eqz(p.getLocal("reverse")),p.call(i+"_isOne",p.getLocal("mulFactor"))),p.ret([])),p.setLocal("n",p.i32_shl(p.i32_const(1),p.getLocal("bits"))),p.setLocal("mask",p.i32_sub(p.getLocal("n"),p.i32_const(1))),p.setLocal("i",p.i32_const(1)),p.setLocal("ndiv2",p.i32_shr_u(p.getLocal("n"),p.i32_const(1))),p.block(p.loop(p.br_if(1,p.i32_ge_u(p.getLocal("i"),p.getLocal("ndiv2"))),p.setLocal("idx1",p.i32_add(p.getLocal("px"),p.i32_mul(p.getLocal("i"),p.i32_const(f)))),p.setLocal("idx2",p.i32_add(p.getLocal("px"),p.i32_mul(p.i32_sub(p.getLocal("n"),p.getLocal("i")),p.i32_const(f)))),p.if(p.getLocal("reverse"),p.if(p.call(i+"_isOne",p.getLocal("mulFactor")),[...p.call(r+"_copy",p.getLocal("idx1"),U),...p.call(r+"_copy",p.getLocal("idx2"),p.getLocal("idx1")),...p.call(r+"_copy",U,p.getLocal("idx2"))],[...p.call(r+"_copy",p.getLocal("idx1"),U),...p.call(a,p.getLocal("idx2"),p.getLocal("mulFactor"),p.getLocal("idx1")),...p.call(a,U,p.getLocal("mulFactor"),p.getLocal("idx2"))]),p.if(p.call(i+"_isOne",p.getLocal("mulFactor")),[],[...p.call(a,p.getLocal("idx1"),p.getLocal("mulFactor"),p.getLocal("idx1")),...p.call(a,p.getLocal("idx2"),p.getLocal("mulFactor"),p.getLocal("idx2"))])),p.setLocal("i",p.i32_add(p.getLocal("i"),p.i32_const(1))),p.br(0))),p.if(p.call(i+"_isOne",p.getLocal("mulFactor")),[],[...p.call(a,p.getLocal("px"),p.getLocal("mulFactor"),p.getLocal("px")),...p.setLocal("idx2",p.i32_add(p.getLocal("px"),p.i32_mul(p.getLocal("ndiv2"),p.i32_const(f)))),...p.call(a,p.getLocal("idx2"),p.getLocal("mulFactor"),p.getLocal("idx2"))]))}function X(){const R=t.addFunction(e+"__reversePermutation");R.addParam("px","i32"),R.addParam("bits","i32"),R.addLocal("n","i32"),R.addLocal("i","i32"),R.addLocal("ri","i32"),R.addLocal("idx1","i32"),R.addLocal("idx2","i32");const p=R.getCodeBuilder(),U=p.i32_const(t.alloc(f));R.addCode(p.setLocal("n",p.i32_shl(p.i32_const(1),p.getLocal("bits"))),p.setLocal("i",p.i32_const(0)),p.block(p.loop(p.br_if(1,p.i32_eq(p.getLocal("i"),p.getLocal("n"))),p.setLocal("idx1",p.i32_add(p.getLocal("px"),p.i32_mul(p.getLocal("i"),p.i32_const(f)))),p.setLocal("ri",p.call(e+"__rev",p.getLocal("i"),p.getLocal("bits"))),p.setLocal("idx2",p.i32_add(p.getLocal("px"),p.i32_mul(p.getLocal("ri"),p.i32_const(f)))),p.if(p.i32_lt_u(p.getLocal("i"),p.getLocal("ri")),[...p.call(r+"_copy",p.getLocal("idx1"),U),...p.call(r+"_copy",p.getLocal("idx2"),p.getLocal("idx1")),...p.call(r+"_copy",U,p.getLocal("idx2"))]),p.setLocal("i",p.i32_add(p.getLocal("i"),p.i32_const(1))),p.br(0))))}function J(){const R=t.addFunction(e+"__rev");R.addParam("x","i32"),R.addParam("bits","i32"),R.setReturnType("i32");const p=R.getCodeBuilder();R.addCode(p.i32_rotl(p.i32_add(p.i32_add(p.i32_shl(p.i32_load8_u(p.i32_and(p.getLocal("x"),p.i32_const(255)),k,0),p.i32_const(24)),p.i32_shl(p.i32_load8_u(p.i32_and(p.i32_shr_u(p.getLocal("x"),p.i32_const(8)),p.i32_const(255)),k,0),p.i32_const(16))),p.i32_add(p.i32_shl(p.i32_load8_u(p.i32_and(p.i32_shr_u(p.getLocal("x"),p.i32_const(16)),p.i32_const(255)),k,0),p.i32_const(8)),p.i32_load8_u(p.i32_and(p.i32_shr_u(p.getLocal("x"),p.i32_const(24)),p.i32_const(255)),k,0))),p.getLocal("bits")))}function q(){const R=t.addFunction(e+"_fftJoin");R.addParam("pBuff1","i32"),R.addParam("pBuff2","i32"),R.addParam("n","i32"),R.addParam("first","i32"),R.addParam("inc","i32"),R.addLocal("idx1","i32"),R.addLocal("idx2","i32"),R.addLocal("i","i32");const p=R.getCodeBuilder(),U=p.i32_const(t.alloc(c)),T=p.i32_const(t.alloc(f)),C=p.i32_const(t.alloc(f));R.addCode(p.call(i+"_copy",p.getLocal("first"),U),p.setLocal("i",p.i32_const(0)),p.block(p.loop(p.br_if(1,p.i32_eq(p.getLocal("i"),p.getLocal("n"))),p.setLocal("idx1",p.i32_add(p.getLocal("pBuff1"),p.i32_mul(p.getLocal("i"),p.i32_const(f)))),p.setLocal("idx2",p.i32_add(p.getLocal("pBuff2"),p.i32_mul(p.getLocal("i"),p.i32_const(f)))),p.call(a,p.getLocal("idx2"),U,T),p.call(r+"_copy",p.getLocal("idx1"),C),p.call(r+"_add",C,T,p.getLocal("idx1")),p.call(r+"_sub",C,T,p.getLocal("idx2")),p.call(i+"_mul",U,p.getLocal("inc"),U),p.setLocal("i",p.i32_add(p.getLocal("i"),p.i32_const(1))),p.br(0))))}function lt(){const R=t.addFunction(e+"_fftJoinExt");R.addParam("pBuff1","i32"),R.addParam("pBuff2","i32"),R.addParam("n","i32"),R.addParam("first","i32"),R.addParam("inc","i32"),R.addParam("totalBits","i32"),R.addLocal("idx1","i32"),R.addLocal("idx2","i32"),R.addLocal("i","i32"),R.addLocal("pShiftToM","i32");const p=R.getCodeBuilder(),U=p.i32_const(t.alloc(c)),T=p.i32_const(t.alloc(f));R.addCode(p.setLocal("pShiftToM",p.i32_add(p.i32_const(nt),p.i32_mul(p.getLocal("totalBits"),p.i32_const(c)))),p.call(i+"_copy",p.getLocal("first"),U),p.setLocal("i",p.i32_const(0)),p.block(p.loop(p.br_if(1,p.i32_eq(p.getLocal("i"),p.getLocal("n"))),p.setLocal("idx1",p.i32_add(p.getLocal("pBuff1"),p.i32_mul(p.getLocal("i"),p.i32_const(f)))),p.setLocal("idx2",p.i32_add(p.getLocal("pBuff2"),p.i32_mul(p.getLocal("i"),p.i32_const(f)))),p.call(r+"_add",p.getLocal("idx1"),p.getLocal("idx2"),T),p.call(a,p.getLocal("idx2"),p.getLocal("pShiftToM"),p.getLocal("idx2")),p.call(r+"_add",p.getLocal("idx1"),p.getLocal("idx2"),p.getLocal("idx2")),p.call(a,p.getLocal("idx2"),U,p.getLocal("idx2")),p.call(r+"_copy",T,p.getLocal("idx1")),p.call(i+"_mul",U,p.getLocal("inc"),U),p.setLocal("i",p.i32_add(p.getLocal("i"),p.i32_const(1))),p.br(0))))}function St(){const R=t.addFunction(e+"_fftJoinExtInv");R.addParam("pBuff1","i32"),R.addParam("pBuff2","i32"),R.addParam("n","i32"),R.addParam("first","i32"),R.addParam("inc","i32"),R.addParam("totalBits","i32"),R.addLocal("idx1","i32"),R.addLocal("idx2","i32"),R.addLocal("i","i32"),R.addLocal("pShiftToM","i32"),R.addLocal("pSConst","i32");const p=R.getCodeBuilder(),U=p.i32_const(t.alloc(c)),T=p.i32_const(t.alloc(f));R.addCode(p.setLocal("pShiftToM",p.i32_add(p.i32_const(nt),p.i32_mul(p.getLocal("totalBits"),p.i32_const(c)))),p.setLocal("pSConst",p.i32_add(p.i32_const(rt),p.i32_mul(p.getLocal("totalBits"),p.i32_const(c)))),p.call(i+"_copy",p.getLocal("first"),U),p.setLocal("i",p.i32_const(0)),p.block(p.loop(p.br_if(1,p.i32_eq(p.getLocal("i"),p.getLocal("n"))),p.setLocal("idx1",p.i32_add(p.getLocal("pBuff1"),p.i32_mul(p.getLocal("i"),p.i32_const(f)))),p.setLocal("idx2",p.i32_add(p.getLocal("pBuff2"),p.i32_mul(p.getLocal("i"),p.i32_const(f)))),p.call(a,p.getLocal("idx2"),U,T),p.call(r+"_sub",p.getLocal("idx1"),T,p.getLocal("idx2")),p.call(a,p.getLocal("idx2"),p.getLocal("pSConst"),p.getLocal("idx2")),p.call(a,p.getLocal("idx1"),p.getLocal("pShiftToM"),p.getLocal("idx1")),p.call(r+"_sub",T,p.getLocal("idx1"),p.getLocal("idx1")),p.call(a,p.getLocal("idx1"),p.getLocal("pSConst"),p.getLocal("idx1")),p.call(i+"_mul",U,p.getLocal("inc"),U),p.setLocal("i",p.i32_add(p.getLocal("i"),p.i32_const(1))),p.br(0))))}function Ct(){const R=t.addFunction(e+"_prepareLagrangeEvaluation");R.addParam("pBuff1","i32"),R.addParam("pBuff2","i32"),R.addParam("n","i32"),R.addParam("first","i32"),R.addParam("inc","i32"),R.addParam("totalBits","i32"),R.addLocal("idx1","i32"),R.addLocal("idx2","i32"),R.addLocal("i","i32"),R.addLocal("pShiftToM","i32"),R.addLocal("pSConst","i32");const p=R.getCodeBuilder(),U=p.i32_const(t.alloc(c)),T=p.i32_const(t.alloc(f));R.addCode(p.setLocal("pShiftToM",p.i32_add(p.i32_const(nt),p.i32_mul(p.getLocal("totalBits"),p.i32_const(c)))),p.setLocal("pSConst",p.i32_add(p.i32_const(rt),p.i32_mul(p.getLocal("totalBits"),p.i32_const(c)))),p.call(i+"_copy",p.getLocal("first"),U),p.setLocal("i",p.i32_const(0)),p.block(p.loop(p.br_if(1,p.i32_eq(p.getLocal("i"),p.getLocal("n"))),p.setLocal("idx1",p.i32_add(p.getLocal("pBuff1"),p.i32_mul(p.getLocal("i"),p.i32_const(f)))),p.setLocal("idx2",p.i32_add(p.getLocal("pBuff2"),p.i32_mul(p.getLocal("i"),p.i32_const(f)))),p.call(a,p.getLocal("idx1"),p.getLocal("pShiftToM"),T),p.call(r+"_sub",p.getLocal("idx2"),T,T),p.call(r+"_sub",p.getLocal("idx1"),p.getLocal("idx2"),p.getLocal("idx2")),p.call(a,T,p.getLocal("pSConst"),p.getLocal("idx1")),p.call(a,p.getLocal("idx2"),U,p.getLocal("idx2")),p.call(i+"_mul",U,p.getLocal("inc"),U),p.setLocal("i",p.i32_add(p.getLocal("i"),p.i32_const(1))),p.br(0))))}function E(){const R=t.addFunction(e+"_fftMix");R.addParam("pBuff","i32"),R.addParam("n","i32"),R.addParam("exp","i32"),R.addLocal("nGroups","i32"),R.addLocal("nPerGroup","i32"),R.addLocal("nPerGroupDiv2","i32"),R.addLocal("pairOffset","i32"),R.addLocal("idx1","i32"),R.addLocal("idx2","i32"),R.addLocal("i","i32"),R.addLocal("j","i32"),R.addLocal("pwm","i32");const p=R.getCodeBuilder(),U=p.i32_const(t.alloc(c)),T=p.i32_const(t.alloc(f)),C=p.i32_const(t.alloc(f));R.addCode(p.setLocal("nPerGroup",p.i32_shl(p.i32_const(1),p.getLocal("exp"))),p.setLocal("nPerGroupDiv2",p.i32_shr_u(p.getLocal("nPerGroup"),p.i32_const(1))),p.setLocal("nGroups",p.i32_shr_u(p.getLocal("n"),p.getLocal("exp"))),p.setLocal("pairOffset",p.i32_mul(p.getLocal("nPerGroupDiv2"),p.i32_const(f))),p.setLocal("pwm",p.i32_add(p.i32_const(O),p.i32_mul(p.getLocal("exp"),p.i32_const(c)))),p.setLocal("i",p.i32_const(0)),p.block(p.loop(p.br_if(1,p.i32_eq(p.getLocal("i"),p.getLocal("nGroups"))),p.call(i+"_one",U),p.setLocal("j",p.i32_const(0)),p.block(p.loop(p.br_if(1,p.i32_eq(p.getLocal("j"),p.getLocal("nPerGroupDiv2"))),p.setLocal("idx1",p.i32_add(p.getLocal("pBuff"),p.i32_mul(p.i32_add(p.i32_mul(p.getLocal("i"),p.getLocal("nPerGroup")),p.getLocal("j")),p.i32_const(f)))),p.setLocal("idx2",p.i32_add(p.getLocal("idx1"),p.getLocal("pairOffset"))),p.call(a,p.getLocal("idx2"),U,T),p.call(r+"_copy",p.getLocal("idx1"),C),p.call(r+"_add",C,T,p.getLocal("idx1")),p.call(r+"_sub",C,T,p.getLocal("idx2")),p.call(i+"_mul",U,p.getLocal("pwm"),U),p.setLocal("j",p.i32_add(p.getLocal("j"),p.i32_const(1))),p.br(0))),p.setLocal("i",p.i32_add(p.getLocal("i"),p.i32_const(1))),p.br(0))))}function h(){const R=t.addFunction(e+"_fftFinal");R.addParam("pBuff","i32"),R.addParam("n","i32"),R.addParam("factor","i32"),R.addLocal("idx1","i32"),R.addLocal("idx2","i32"),R.addLocal("i","i32"),R.addLocal("ndiv2","i32");const p=R.getCodeBuilder(),U=p.i32_const(t.alloc(f));R.addCode(p.setLocal("ndiv2",p.i32_shr_u(p.getLocal("n"),p.i32_const(1))),p.if(p.i32_and(p.getLocal("n"),p.i32_const(1)),p.call(a,p.i32_add(p.getLocal("pBuff"),p.i32_mul(p.getLocal("ndiv2"),p.i32_const(f))),p.getLocal("factor"),p.i32_add(p.getLocal("pBuff"),p.i32_mul(p.getLocal("ndiv2"),p.i32_const(f))))),p.setLocal("i",p.i32_const(0)),p.block(p.loop(p.br_if(1,p.i32_ge_u(p.getLocal("i"),p.getLocal("ndiv2"))),p.setLocal("idx1",p.i32_add(p.getLocal("pBuff"),p.i32_mul(p.getLocal("i"),p.i32_const(f)))),p.setLocal("idx2",p.i32_add(p.getLocal("pBuff"),p.i32_mul(p.i32_sub(p.i32_sub(p.getLocal("n"),p.i32_const(1)),p.getLocal("i")),p.i32_const(f)))),p.call(a,p.getLocal("idx2"),p.getLocal("factor"),U),p.call(a,p.getLocal("idx1"),p.getLocal("factor"),p.getLocal("idx2")),p.call(r+"_copy",U,p.getLocal("idx1")),p.setLocal("i",p.i32_add(p.getLocal("i"),p.i32_const(1))),p.br(0))))}J(),X(),G(),ut(),W(),tt(),ct(),q(),lt(),St(),E(),h(),Ct(),t.exportFunction(e+"_fft"),t.exportFunction(e+"_ifft"),t.exportFunction(e+"_rawfft"),t.exportFunction(e+"_fftJoin"),t.exportFunction(e+"_fftJoinExt"),t.exportFunction(e+"_fftJoinExtInv"),t.exportFunction(e+"_fftMix"),t.exportFunction(e+"_fftFinal"),t.exportFunction(e+"_prepareLagrangeEvaluation")},fC=function(t,e,r){const a=t.modules[r].n64*8;function l(){const g=t.addFunction(e+"_zero");g.addParam("px","i32"),g.addParam("n","i32"),g.addLocal("lastp","i32"),g.addLocal("p","i32");const f=g.getCodeBuilder();g.addCode(f.setLocal("p",f.getLocal("px")),f.setLocal("lastp",f.i32_add(f.getLocal("px"),f.i32_mul(f.getLocal("n"),f.i32_const(a)))),f.block(f.loop(f.br_if(1,f.i32_eq(f.getLocal("p"),f.getLocal("lastp"))),f.call(r+"_zero",f.getLocal("p")),f.setLocal("p",f.i32_add(f.getLocal("p"),f.i32_const(a))),f.br(0))))}function c(){const g=t.addFunction(e+"_constructLC");g.addParam("ppolynomials","i32"),g.addParam("psignals","i32"),g.addParam("nSignals","i32"),g.addParam("pres","i32"),g.addLocal("i","i32"),g.addLocal("j","i32"),g.addLocal("pp","i32"),g.addLocal("ps","i32"),g.addLocal("pd","i32"),g.addLocal("ncoefs","i32");const f=g.getCodeBuilder(),d=f.i32_const(t.alloc(a));g.addCode(f.setLocal("i",f.i32_const(0)),f.setLocal("pp",f.getLocal("ppolynomials")),f.setLocal("ps",f.getLocal("psignals")),f.block(f.loop(f.br_if(1,f.i32_eq(f.getLocal("i"),f.getLocal("nSignals"))),f.setLocal("ncoefs",f.i32_load(f.getLocal("pp"))),f.setLocal("pp",f.i32_add(f.getLocal("pp"),f.i32_const(4))),f.setLocal("j",f.i32_const(0)),f.block(f.loop(f.br_if(1,f.i32_eq(f.getLocal("j"),f.getLocal("ncoefs"))),f.setLocal("pd",f.i32_add(f.getLocal("pres"),f.i32_mul(f.i32_load(f.getLocal("pp")),f.i32_const(a)))),f.setLocal("pp",f.i32_add(f.getLocal("pp"),f.i32_const(4))),f.call(r+"_mul",f.getLocal("ps"),f.getLocal("pp"),d),f.call(r+"_add",d,f.getLocal("pd"),f.getLocal("pd")),f.setLocal("pp",f.i32_add(f.getLocal("pp"),f.i32_const(a))),f.setLocal("j",f.i32_add(f.getLocal("j"),f.i32_const(1))),f.br(0))),f.setLocal("ps",f.i32_add(f.getLocal("ps"),f.i32_const(a))),f.setLocal("i",f.i32_add(f.getLocal("i"),f.i32_const(1))),f.br(0))))}return l(),c(),t.exportFunction(e+"_zero"),t.exportFunction(e+"_constructLC"),e},hC=function(t,e,r){const a=t.modules[r].n64*8;function l(){const f=t.addFunction(e+"_buildABC");f.addParam("pCoefs","i32"),f.addParam("nCoefs","i32"),f.addParam("pWitness","i32"),f.addParam("pA","i32"),f.addParam("pB","i32"),f.addParam("pC","i32"),f.addParam("offsetOut","i32"),f.addParam("nOut","i32"),f.addParam("offsetWitness","i32"),f.addParam("nWitness","i32"),f.addLocal("it","i32"),f.addLocal("ita","i32"),f.addLocal("itb","i32"),f.addLocal("last","i32"),f.addLocal("m","i32"),f.addLocal("c","i32"),f.addLocal("s","i32"),f.addLocal("pOut","i32");const d=f.getCodeBuilder(),y=d.i32_const(t.alloc(a));f.addCode(d.setLocal("ita",d.getLocal("pA")),d.setLocal("itb",d.getLocal("pB")),d.setLocal("last",d.i32_add(d.getLocal("pA"),d.i32_mul(d.getLocal("nOut"),d.i32_const(a)))),d.block(d.loop(d.br_if(1,d.i32_eq(d.getLocal("ita"),d.getLocal("last"))),d.call(r+"_zero",d.getLocal("ita")),d.call(r+"_zero",d.getLocal("itb")),d.setLocal("ita",d.i32_add(d.getLocal("ita"),d.i32_const(a))),d.setLocal("itb",d.i32_add(d.getLocal("itb"),d.i32_const(a))),d.br(0))),d.setLocal("it",d.getLocal("pCoefs")),d.setLocal("last",d.i32_add(d.getLocal("pCoefs"),d.i32_mul(d.getLocal("nCoefs"),d.i32_const(a+12)))),d.block(d.loop(d.br_if(1,d.i32_eq(d.getLocal("it"),d.getLocal("last"))),d.setLocal("s",d.i32_load(d.getLocal("it"),8)),d.if(d.i32_or(d.i32_lt_u(d.getLocal("s"),d.getLocal("offsetWitness")),d.i32_ge_u(d.getLocal("s"),d.i32_add(d.getLocal("offsetWitness"),d.getLocal("nWitness")))),[...d.setLocal("it",d.i32_add(d.getLocal("it"),d.i32_const(a+12))),...d.br(1)]),d.setLocal("m",d.i32_load(d.getLocal("it"))),d.if(d.i32_eq(d.getLocal("m"),d.i32_const(0)),d.setLocal("pOut",d.getLocal("pA")),d.if(d.i32_eq(d.getLocal("m"),d.i32_const(1)),d.setLocal("pOut",d.getLocal("pB")),[...d.setLocal("it",d.i32_add(d.getLocal("it"),d.i32_const(a+12))),...d.br(1)])),d.setLocal("c",d.i32_load(d.getLocal("it"),4)),d.if(d.i32_or(d.i32_lt_u(d.getLocal("c"),d.getLocal("offsetOut")),d.i32_ge_u(d.getLocal("c"),d.i32_add(d.getLocal("offsetOut"),d.getLocal("nOut")))),[...d.setLocal("it",d.i32_add(d.getLocal("it"),d.i32_const(a+12))),...d.br(1)]),d.setLocal("pOut",d.i32_add(d.getLocal("pOut"),d.i32_mul(d.i32_sub(d.getLocal("c"),d.getLocal("offsetOut")),d.i32_const(a)))),d.call(r+"_mul",d.i32_add(d.getLocal("pWitness"),d.i32_mul(d.i32_sub(d.getLocal("s"),d.getLocal("offsetWitness")),d.i32_const(a))),d.i32_add(d.getLocal("it"),d.i32_const(12)),y),d.call(r+"_add",d.getLocal("pOut"),y,d.getLocal("pOut")),d.setLocal("it",d.i32_add(d.getLocal("it"),d.i32_const(a+12))),d.br(0))),d.setLocal("ita",d.getLocal("pA")),d.setLocal("itb",d.getLocal("pB")),d.setLocal("it",d.getLocal("pC")),d.setLocal("last",d.i32_add(d.getLocal("pA"),d.i32_mul(d.getLocal("nOut"),d.i32_const(a)))),d.block(d.loop(d.br_if(1,d.i32_eq(d.getLocal("ita"),d.getLocal("last"))),d.call(r+"_mul",d.getLocal("ita"),d.getLocal("itb"),d.getLocal("it")),d.setLocal("ita",d.i32_add(d.getLocal("ita"),d.i32_const(a))),d.setLocal("itb",d.i32_add(d.getLocal("itb"),d.i32_const(a))),d.setLocal("it",d.i32_add(d.getLocal("it"),d.i32_const(a))),d.br(0))))}function c(){const f=t.addFunction(e+"_joinABC");f.addParam("pA","i32"),f.addParam("pB","i32"),f.addParam("pC","i32"),f.addParam("n","i32"),f.addParam("pP","i32"),f.addLocal("ita","i32"),f.addLocal("itb","i32"),f.addLocal("itc","i32"),f.addLocal("itp","i32"),f.addLocal("last","i32");const d=f.getCodeBuilder(),y=d.i32_const(t.alloc(a));f.addCode(d.setLocal("ita",d.getLocal("pA")),d.setLocal("itb",d.getLocal("pB")),d.setLocal("itc",d.getLocal("pC")),d.setLocal("itp",d.getLocal("pP")),d.setLocal("last",d.i32_add(d.getLocal("pA"),d.i32_mul(d.getLocal("n"),d.i32_const(a)))),d.block(d.loop(d.br_if(1,d.i32_eq(d.getLocal("ita"),d.getLocal("last"))),d.call(r+"_mul",d.getLocal("ita"),d.getLocal("itb"),y),d.call(r+"_sub",y,d.getLocal("itc"),d.getLocal("itp")),d.setLocal("ita",d.i32_add(d.getLocal("ita"),d.i32_const(a))),d.setLocal("itb",d.i32_add(d.getLocal("itb"),d.i32_const(a))),d.setLocal("itc",d.i32_add(d.getLocal("itc"),d.i32_const(a))),d.setLocal("itp",d.i32_add(d.getLocal("itp"),d.i32_const(a))),d.br(0))))}function g(){const f=t.addFunction(e+"_batchAdd");f.addParam("pa","i32"),f.addParam("pb","i32"),f.addParam("n","i32"),f.addParam("pr","i32"),f.addLocal("ita","i32"),f.addLocal("itb","i32"),f.addLocal("itr","i32"),f.addLocal("last","i32");const d=f.getCodeBuilder();f.addCode(d.setLocal("ita",d.getLocal("pa")),d.setLocal("itb",d.getLocal("pb")),d.setLocal("itr",d.getLocal("pr")),d.setLocal("last",d.i32_add(d.getLocal("pa"),d.i32_mul(d.getLocal("n"),d.i32_const(a)))),d.block(d.loop(d.br_if(1,d.i32_eq(d.getLocal("ita"),d.getLocal("last"))),d.call(r+"_add",d.getLocal("ita"),d.getLocal("itb"),d.getLocal("itr")),d.setLocal("ita",d.i32_add(d.getLocal("ita"),d.i32_const(a))),d.setLocal("itb",d.i32_add(d.getLocal("itb"),d.i32_const(a))),d.setLocal("itr",d.i32_add(d.getLocal("itr"),d.i32_const(a))),d.br(0))))}return l(),c(),g(),t.exportFunction(e+"_buildABC"),t.exportFunction(e+"_joinABC"),t.exportFunction(e+"_batchAdd"),e},gC=function(t,e,r,i,a,l,c,g){const f=t.addFunction(e);f.addParam("pIn","i32"),f.addParam("n","i32"),f.addParam("pFirst","i32"),f.addParam("pInc","i32"),f.addParam("pOut","i32"),f.addLocal("pOldFree","i32"),f.addLocal("i","i32"),f.addLocal("pFrom","i32"),f.addLocal("pTo","i32");const d=f.getCodeBuilder(),y=d.i32_const(t.alloc(c));f.addCode(d.setLocal("pFrom",d.getLocal("pIn")),d.setLocal("pTo",d.getLocal("pOut"))),f.addCode(d.call(i+"_copy",d.getLocal("pFirst"),y)),f.addCode(d.setLocal("i",d.i32_const(0)),d.block(d.loop(d.br_if(1,d.i32_eq(d.getLocal("i"),d.getLocal("n"))),d.call(g,d.getLocal("pFrom"),y,d.getLocal("pTo")),d.setLocal("pFrom",d.i32_add(d.getLocal("pFrom"),d.i32_const(a))),d.setLocal("pTo",d.i32_add(d.getLocal("pTo"),d.i32_const(l))),d.call(i+"_mul",y,d.getLocal("pInc"),y),d.setLocal("i",d.i32_add(d.getLocal("i"),d.i32_const(1))),d.br(0)))),t.exportFunction(e)};const ue=Wo,p9=V0,m9=aC,O1=cC,_9=lC,B1=uC,cp=dC,y9=fC,w9=hC,Fc=gC,{bitLength:v9,modInv:b9,isOdd:k1,isNegative:A9}=Qn;var L9=function(t,e){const r=e||"bn128";if(t.modules[r])return r;const i=21888242871839275222246405745257275088696311157297823662689037894645226208583n,a=21888242871839275222246405745257275088548364400416034343698204186575808495617n,l=Math.floor((v9(i-1n)-1)/64)+1,c=l*8,g=c,f=c,d=f*2,y=f*12,v=t.alloc(ue.bigInt2BytesLE(a,g)),w=p9(t,i,"f1m");m9(t,a,"fr","frm");const F=t.alloc(ue.bigInt2BytesLE(D(3n),f)),B=B1(t,"g1m","f1m",F);cp(t,"frm","frm","frm","frm_mul"),y9(t,"pol","frm"),w9(t,"qap","frm");const x=O1(t,"f1m_neg","f2m","f1m"),M=t.alloc([...ue.bigInt2BytesLE(D(19485874751759354771024239261021720505790618469301721065564631296452457478373n),f),...ue.bigInt2BytesLE(D(266929791119991161246907387137283842545076965332900288569378510910307636690n),f)]),O=B1(t,"g2m","f2m",M);function $(_t,b){const A=t.addFunction(_t);A.addParam("pG","i32"),A.addParam("pFr","i32"),A.addParam("pr","i32");const st=A.getCodeBuilder(),dt=st.i32_const(t.alloc(c));A.addCode(st.call("frm_fromMontgomery",st.getLocal("pFr"),dt),st.call(b,st.getLocal("pG"),dt,st.i32_const(c),st.getLocal("pr"))),t.exportFunction(_t)}$("g1m_timesFr","g1m_timesScalar"),cp(t,"g1m","g1m","frm","g1m_timesFr"),$("g2m_timesFr","g2m_timesScalar"),cp(t,"g2m","g2m","frm","g2m_timesFr"),$("g1m_timesFrAffine","g1m_timesScalarAffine"),$("g2m_timesFrAffine","g2m_timesScalarAffine"),Fc(t,"frm_batchApplyKey","fmr","frm",c,c,c,"frm_mul"),Fc(t,"g1m_batchApplyKey","g1m","frm",c*3,c*3,c,"g1m_timesFr"),Fc(t,"g1m_batchApplyKeyMixed","g1m","frm",c*2,c*3,c,"g1m_timesFrAffine"),Fc(t,"g2m_batchApplyKey","g2m","frm",c*2*3,c*3*2,c,"g2m_timesFr"),Fc(t,"g2m_batchApplyKeyMixed","g2m","frm",c*2*2,c*3*2,c,"g2m_timesFrAffine");function D(_t){return BigInt(_t)*(1n<<BigInt(f*8))%i}const V=[1n,2n,1n],P=t.alloc([...ue.bigInt2BytesLE(D(V[0]),f),...ue.bigInt2BytesLE(D(V[1]),f),...ue.bigInt2BytesLE(D(V[2]),f)]),_=[0n,1n,0n],I=t.alloc([...ue.bigInt2BytesLE(D(_[0]),f),...ue.bigInt2BytesLE(D(_[1]),f),...ue.bigInt2BytesLE(D(_[2]),f)]),nt=[[10857046999023057135944570762232829481370756359578518086990519993285655852781n,11559732032986387107991004021392285783925812861821192530917403151452391805634n],[8495653923123431417604973247489272438418190587263600148770280649306958101930n,4082367875863433681332203403145435568316851327593401208105741076214120093531n],[1n,0n]],rt=t.alloc([...ue.bigInt2BytesLE(D(nt[0][0]),f),...ue.bigInt2BytesLE(D(nt[0][1]),f),...ue.bigInt2BytesLE(D(nt[1][0]),f),...ue.bigInt2BytesLE(D(nt[1][1]),f),...ue.bigInt2BytesLE(D(nt[2][0]),f),...ue.bigInt2BytesLE(D(nt[2][1]),f)]),H=[[0n,0n],[1n,0n],[0n,0n]],Q=t.alloc([...ue.bigInt2BytesLE(D(H[0][0]),f),...ue.bigInt2BytesLE(D(H[0][1]),f),...ue.bigInt2BytesLE(D(H[1][0]),f),...ue.bigInt2BytesLE(D(H[1][1]),f),...ue.bigInt2BytesLE(D(H[2][0]),f),...ue.bigInt2BytesLE(D(H[2][1]),f)]),k=t.alloc([...ue.bigInt2BytesLE(D(1),f),...ue.bigInt2BytesLE(D(0),f),...ue.bigInt2BytesLE(D(0),f),...ue.bigInt2BytesLE(D(0),f),...ue.bigInt2BytesLE(D(0),f),...ue.bigInt2BytesLE(D(0),f),...ue.bigInt2BytesLE(D(0),f),...ue.bigInt2BytesLE(D(0),f),...ue.bigInt2BytesLE(D(0),f),...ue.bigInt2BytesLE(D(0),f),...ue.bigInt2BytesLE(D(0),f),...ue.bigInt2BytesLE(D(0),f)]),W=t.alloc([...ue.bigInt2BytesLE(D(9),f),...ue.bigInt2BytesLE(D(1),f)]),tt=t.alloc([...ue.bigInt2BytesLE(D(b9(2n,i)),f),...ue.bigInt2BytesLE(0n,f)]),ct=W,ut=t.alloc([...ue.bigInt2BytesLE(D(19485874751759354771024239261021720505790618469301721065564631296452457478373n),f),...ue.bigInt2BytesLE(D(266929791119991161246907387137283842545076965332900288569378510910307636690n),f)]);function G(){const _t=t.addFunction(r+"_mulNR6");_t.addParam("x","i32"),_t.addParam("pr","i32");const b=_t.getCodeBuilder();_t.addCode(b.call(x+"_mul",b.i32_const(W),b.getLocal("x"),b.getLocal("pr")))}G();const X=_9(t,r+"_mulNR6","f6m","f2m");function J(){const _t=t.addFunction(r+"_mulNR12");_t.addParam("x","i32"),_t.addParam("pr","i32");const b=_t.getCodeBuilder();_t.addCode(b.call(x+"_mul",b.i32_const(W),b.i32_add(b.getLocal("x"),b.i32_const(c*4)),b.getLocal("pr")),b.call(x+"_copy",b.getLocal("x"),b.i32_add(b.getLocal("pr"),b.i32_const(c*2))),b.call(x+"_copy",b.i32_add(b.getLocal("x"),b.i32_const(c*2)),b.i32_add(b.getLocal("pr"),b.i32_const(c*4))))}J();const q=O1(t,r+"_mulNR12","ftm",X),St=bt(29793968203157093288n),Ct=t.alloc(St),E=3*d,h=St.length-1,p=St.reduce((_t,b)=>_t+(b!=0?1:0),0)+h+1,U=6*c,T=3*c*2+p*E;t.modules[r]={n64:l,pG1gen:P,pG1zero:I,pG1b:F,pG2gen:rt,pG2zero:Q,pG2b:M,pq:t.modules.f1m.pq,pr:v,pOneT:k,prePSize:U,preQSize:T,r:a.toString(),q:i.toString()};const C=4965661367192848881n;function Z(_t){let b=_t;const A=[];for(;b>0n;){if(k1(b)){const st=2-Number(b%4n);A.push(st),b=b-BigInt(st)}else A.push(0);b=b>>1n}return A}function bt(_t){let b=_t;const A=[];for(;b>0n;)k1(b)?A.push(1):A.push(0),b=b>>1n;return A}function mt(){const _t=t.addFunction(r+"_prepareG1");_t.addParam("pP","i32"),_t.addParam("ppreP","i32");const b=_t.getCodeBuilder();_t.addCode(b.call(B+"_normalize",b.getLocal("pP"),b.getLocal("ppreP")))}function Et(){const _t=t.addFunction(r+"_prepAddStep");_t.addParam("pQ","i32"),_t.addParam("pR","i32"),_t.addParam("pCoef","i32");const b=_t.getCodeBuilder(),A=b.getLocal("pQ"),st=b.i32_add(b.getLocal("pQ"),b.i32_const(d)),dt=b.getLocal("pR"),it=b.i32_add(b.getLocal("pR"),b.i32_const(d)),gt=b.i32_add(b.getLocal("pR"),b.i32_const(2*d)),at=b.getLocal("pCoef"),yt=b.i32_add(b.getLocal("pCoef"),b.i32_const(d)),vt=b.i32_add(b.getLocal("pCoef"),b.i32_const(2*d)),At=yt,wt=b.i32_const(t.alloc(d)),Lt=b.i32_const(t.alloc(d)),zt=b.i32_const(t.alloc(d)),jt=b.i32_const(t.alloc(d)),Bt=b.i32_const(t.alloc(d)),Ht=b.i32_const(t.alloc(d)),Yt=b.i32_const(t.alloc(d));_t.addCode(b.call(x+"_mul",A,gt,At),b.call(x+"_sub",dt,At,At),b.call(x+"_mul",st,gt,wt),b.call(x+"_sub",it,wt,wt),b.call(x+"_square",At,Lt),b.call(x+"_square",wt,zt),b.call(x+"_mul",At,Lt,jt),b.call(x+"_mul",dt,Lt,Bt),b.call(x+"_add",Bt,Bt,Yt),b.call(x+"_mul",gt,zt,Ht),b.call(x+"_add",jt,Ht,Ht),b.call(x+"_sub",Ht,Yt,Ht),b.call(x+"_mul",At,Ht,dt),b.call(x+"_mul",jt,it,it),b.call(x+"_sub",Bt,Ht,Yt),b.call(x+"_mul",wt,Yt,Yt),b.call(x+"_sub",Yt,it,it),b.call(x+"_mul",gt,jt,gt),b.call(x+"_mul",At,st,Yt),b.call(x+"_mul",wt,A,at),b.call(x+"_sub",at,Yt,at),b.call(x+"_mul",at,b.i32_const(ct),at),b.call(x+"_neg",wt,vt))}function Zt(){const _t=t.addFunction(r+"_prepDblStep");_t.addParam("pR","i32"),_t.addParam("pCoef","i32");const b=_t.getCodeBuilder(),A=b.getLocal("pR"),st=b.i32_add(b.getLocal("pR"),b.i32_const(d)),dt=b.i32_add(b.getLocal("pR"),b.i32_const(2*d)),it=b.getLocal("pCoef"),gt=b.i32_add(b.getLocal("pCoef"),b.i32_const(d)),at=b.i32_add(b.getLocal("pCoef"),b.i32_const(2*d)),yt=b.i32_const(t.alloc(d)),vt=b.i32_const(t.alloc(d)),At=b.i32_const(t.alloc(d)),wt=b.i32_const(t.alloc(d)),Lt=b.i32_const(t.alloc(d)),zt=b.i32_const(t.alloc(d)),jt=b.i32_const(t.alloc(d)),Bt=b.i32_const(t.alloc(d)),Ht=b.i32_const(t.alloc(d)),Yt=b.i32_const(t.alloc(d)),ce=b.i32_const(t.alloc(d)),Gt=b.i32_const(t.alloc(d));_t.addCode(b.call(x+"_mul",st,b.i32_const(tt),yt),b.call(x+"_mul",A,yt,yt),b.call(x+"_square",st,vt),b.call(x+"_square",dt,At),b.call(x+"_add",At,At,wt),b.call(x+"_add",wt,At,wt),b.call(x+"_mul",b.i32_const(ut),wt,Lt),b.call(x+"_add",Lt,Lt,zt),b.call(x+"_add",Lt,zt,zt),b.call(x+"_add",vt,zt,jt),b.call(x+"_mul",jt,b.i32_const(tt),jt),b.call(x+"_add",vt,At,Gt),b.call(x+"_add",st,dt,Bt),b.call(x+"_square",Bt,Bt),b.call(x+"_sub",Bt,Gt,Bt),b.call(x+"_sub",Lt,vt,Ht),b.call(x+"_square",A,Yt),b.call(x+"_square",Lt,ce),b.call(x+"_sub",vt,zt,Gt),b.call(x+"_mul",yt,Gt,A),b.call(x+"_add",ce,ce,Gt),b.call(x+"_add",ce,Gt,Gt),b.call(x+"_square",jt,st),b.call(x+"_sub",st,Gt,st),b.call(x+"_mul",vt,Bt,dt),b.call(x+"_mul",b.i32_const(ct),Ht,it),b.call(x+"_neg",Bt,gt),b.call(x+"_add",Yt,Yt,at),b.call(x+"_add",Yt,at,at))}function Tt(){const _t=t.addFunction(r+"_mulByQ");_t.addParam("p1","i32"),_t.addParam("pr","i32");const b=_t.getCodeBuilder(),A=b.getLocal("p1"),st=b.i32_add(b.getLocal("p1"),b.i32_const(d)),dt=b.i32_add(b.getLocal("p1"),b.i32_const(d*2)),it=b.getLocal("pr"),gt=b.i32_add(b.getLocal("pr"),b.i32_const(d)),at=b.i32_add(b.getLocal("pr"),b.i32_const(d*2)),yt=b.i32_const(t.alloc([...ue.bigInt2BytesLE(D("21575463638280843010398324269430826099269044274347216827212613867836435027261"),f),...ue.bigInt2BytesLE(D("10307601595873709700152284273816112264069230130616436755625194854815875713954"),f)])),vt=b.i32_const(t.alloc([...ue.bigInt2BytesLE(D("2821565182194536844548159561693502659359617185244120367078079554186484126554"),f),...ue.bigInt2BytesLE(D("3505843767911556378687030309984248845540243509899259641013678093033130930403"),f)]));_t.addCode(b.call(x+"_conjugate",A,it),b.call(x+"_mul",yt,it,it),b.call(x+"_conjugate",st,gt),b.call(x+"_mul",vt,gt,gt),b.call(x+"_conjugate",dt,at))}function Wt(){Tt();const _t=t.addFunction(r+"_prepareG2");_t.addParam("pQ","i32"),_t.addParam("ppreQ","i32"),_t.addLocal("pCoef","i32"),_t.addLocal("i","i32");const b=_t.getCodeBuilder(),A=b.getLocal("pQ"),st=t.alloc(d*3),dt=b.i32_const(st),it=b.i32_const(st),gt=b.i32_const(st+d),at=b.i32_const(st+2*d),yt=b.i32_add(b.getLocal("ppreQ"),b.i32_const(0)),vt=b.i32_add(b.getLocal("ppreQ"),b.i32_const(d)),At=t.alloc(d*3),wt=b.i32_const(At),Lt=t.alloc(d*3),zt=b.i32_const(Lt),jt=b.i32_const(Lt+d);_t.addCode(b.call(O+"_normalize",A,yt),b.call(x+"_copy",yt,it),b.call(x+"_copy",vt,gt),b.call(x+"_one",at)),_t.addCode(b.setLocal("pCoef",b.i32_add(b.getLocal("ppreQ"),b.i32_const(d*3))),b.setLocal("i",b.i32_const(St.length-2)),b.block(b.loop(b.call(r+"_prepDblStep",dt,b.getLocal("pCoef")),b.setLocal("pCoef",b.i32_add(b.getLocal("pCoef"),b.i32_const(E))),b.if(b.i32_load8_s(b.getLocal("i"),Ct),[...b.call(r+"_prepAddStep",yt,dt,b.getLocal("pCoef")),...b.setLocal("pCoef",b.i32_add(b.getLocal("pCoef"),b.i32_const(E)))]),b.br_if(1,b.i32_eqz(b.getLocal("i"))),b.setLocal("i",b.i32_sub(b.getLocal("i"),b.i32_const(1))),b.br(0)))),_t.addCode(b.call(r+"_mulByQ",yt,wt),b.call(r+"_mulByQ",wt,zt)),_t.addCode(b.call(x+"_neg",jt,jt),b.call(r+"_prepAddStep",wt,dt,b.getLocal("pCoef")),b.setLocal("pCoef",b.i32_add(b.getLocal("pCoef"),b.i32_const(E))),b.call(r+"_prepAddStep",zt,dt,b.getLocal("pCoef")),b.setLocal("pCoef",b.i32_add(b.getLocal("pCoef"),b.i32_const(E))))}function oe(){const _t=t.addFunction(r+"__mulBy024Old");_t.addParam("pEll0","i32"),_t.addParam("pEllVW","i32"),_t.addParam("pEllVV","i32"),_t.addParam("pR","i32");const b=_t.getCodeBuilder(),A=b.getLocal("pEll0"),st=b.getLocal("pEllVV"),dt=b.getLocal("pEllVW"),it=b.getLocal("pR"),gt=t.alloc(y),at=b.i32_const(gt),yt=b.i32_const(gt),vt=b.i32_const(gt+d),At=b.i32_const(gt+d*2),wt=b.i32_const(gt+d*3),Lt=b.i32_const(gt+d*4),zt=b.i32_const(gt+d*5);_t.addCode(b.call(x+"_copy",A,yt),b.call(x+"_zero",vt),b.call(x+"_copy",st,At),b.call(x+"_zero",wt),b.call(x+"_copy",dt,Lt),b.call(x+"_zero",zt),b.call(q+"_mul",at,it,it))}function Rt(){const _t=t.addFunction(r+"__mulBy024");_t.addParam("pEll0","i32"),_t.addParam("pEllVW","i32"),_t.addParam("pEllVV","i32"),_t.addParam("pR","i32");const b=_t.getCodeBuilder(),A=b.getLocal("pEll0"),st=b.getLocal("pEllVV"),dt=b.getLocal("pEllVW"),it=b.getLocal("pR"),gt=b.i32_add(b.getLocal("pR"),b.i32_const(2*c)),at=b.i32_add(b.getLocal("pR"),b.i32_const(4*c)),yt=b.i32_add(b.getLocal("pR"),b.i32_const(6*c)),vt=b.i32_add(b.getLocal("pR"),b.i32_const(8*c)),At=b.i32_add(b.getLocal("pR"),b.i32_const(10*c)),wt=b.i32_const(t.alloc(d)),Lt=b.i32_const(t.alloc(d)),zt=b.i32_const(t.alloc(d)),jt=b.i32_const(t.alloc(d)),Bt=b.i32_const(t.alloc(d)),Ht=b.i32_const(t.alloc(d)),Yt=b.i32_const(t.alloc(d)),ce=b.i32_const(t.alloc(d)),Gt=b.i32_const(t.alloc(d)),Jt=b.i32_const(t.alloc(d)),Dt=b.i32_const(t.alloc(d));_t.addCode(b.call(x+"_mul",it,A,Yt),b.call(x+"_mul",at,st,ce),b.call(x+"_mul",vt,dt,Gt),b.call(x+"_add",it,vt,zt),b.call(x+"_add",it,at,Lt),b.call(x+"_add",gt,yt,jt),b.call(x+"_add",jt,At,jt),b.call(x+"_mul",gt,st,Jt),b.call(x+"_add",Jt,Gt,Bt),b.call(x+"_mul",b.i32_const(W),Bt,Ht),b.call(x+"_add",Ht,Yt,it),b.call(x+"_mul",At,dt,Bt),b.call(x+"_add",Jt,Bt,Jt),b.call(x+"_add",Bt,ce,Bt),b.call(x+"_mul",b.i32_const(W),Bt,Ht),b.call(x+"_mul",gt,A,Bt),b.call(x+"_add",Jt,Bt,Jt),b.call(x+"_add",Ht,Bt,gt),b.call(x+"_add",A,st,wt),b.call(x+"_mul",Lt,wt,Bt),b.call(x+"_add",Yt,ce,Dt),b.call(x+"_sub",Bt,Dt,Bt),b.call(x+"_mul",yt,dt,Ht),b.call(x+"_add",Jt,Ht,Jt),b.call(x+"_add",at,vt,wt),b.call(x+"_add",Bt,Ht,at),b.call(x+"_add",st,dt,Lt),b.call(x+"_mul",Lt,wt,Bt),b.call(x+"_add",ce,Gt,Dt),b.call(x+"_sub",Bt,Dt,Bt),b.call(x+"_mul",b.i32_const(W),Bt,Ht),b.call(x+"_mul",yt,A,Bt),b.call(x+"_add",Jt,Bt,Jt),b.call(x+"_add",Ht,Bt,yt),b.call(x+"_mul",At,st,Bt),b.call(x+"_add",Jt,Bt,Jt),b.call(x+"_mul",b.i32_const(W),Bt,Ht),b.call(x+"_add",A,dt,wt),b.call(x+"_mul",zt,wt,Bt),b.call(x+"_add",Yt,Gt,Dt),b.call(x+"_sub",Bt,Dt,Bt),b.call(x+"_add",Ht,Bt,vt),b.call(x+"_add",A,st,wt),b.call(x+"_add",wt,dt,wt),b.call(x+"_mul",jt,wt,Bt),b.call(x+"_sub",Bt,Jt,At))}function Pt(){const _t=t.addFunction(r+"_millerLoop");_t.addParam("ppreP","i32"),_t.addParam("ppreQ","i32"),_t.addParam("r","i32"),_t.addLocal("pCoef","i32"),_t.addLocal("i","i32");const b=_t.getCodeBuilder(),A=b.getLocal("ppreP"),st=b.i32_add(b.getLocal("ppreP"),b.i32_const(f)),dt=b.getLocal("pCoef"),it=b.i32_add(b.getLocal("pCoef"),b.i32_const(d)),gt=b.i32_add(b.getLocal("pCoef"),b.i32_const(2*d)),at=t.alloc(d),yt=b.i32_const(at),vt=t.alloc(d),At=b.i32_const(vt),wt=b.getLocal("r");_t.addCode(b.call(q+"_one",wt),b.setLocal("pCoef",b.i32_add(b.getLocal("ppreQ"),b.i32_const(d*3))),b.setLocal("i",b.i32_const(St.length-2)),b.block(b.loop(b.call(q+"_square",wt,wt),b.call(x+"_mul1",it,st,yt),b.call(x+"_mul1",gt,A,At),b.call(r+"__mulBy024",dt,yt,At,wt),b.setLocal("pCoef",b.i32_add(b.getLocal("pCoef"),b.i32_const(E))),b.if(b.i32_load8_s(b.getLocal("i"),Ct),[...b.call(x+"_mul1",it,st,yt),...b.call(x+"_mul1",gt,A,At),...b.call(r+"__mulBy024",dt,yt,At,wt),...b.setLocal("pCoef",b.i32_add(b.getLocal("pCoef"),b.i32_const(E)))]),b.br_if(1,b.i32_eqz(b.getLocal("i"))),b.setLocal("i",b.i32_sub(b.getLocal("i"),b.i32_const(1))),b.br(0)))),_t.addCode(b.call(x+"_mul1",it,st,yt),b.call(x+"_mul1",gt,A,At),b.call(r+"__mulBy024",dt,yt,At,wt),b.setLocal("pCoef",b.i32_add(b.getLocal("pCoef"),b.i32_const(E))),b.call(x+"_mul1",it,st,yt),b.call(x+"_mul1",gt,A,At),b.call(r+"__mulBy024",dt,yt,At,wt),b.setLocal("pCoef",b.i32_add(b.getLocal("pCoef"),b.i32_const(E))))}function Kt(_t){const b=[[[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n]],[[1n,0n],[8376118865763821496583973867626364092589906065868298776909617916018768340080n,16469823323077808223889137241176536799009286646108169935659301613961712198316n],[21888242871839275220042445260109153167277707414472061641714758635765020556617n,0n],[11697423496358154304825782922584725312912383441159505038794027105778954184319n,303847389135065887422783454877609941456349188919719272345083954437860409601n],[21888242871839275220042445260109153167277707414472061641714758635765020556616n,0n],[3321304630594332808241809054958361220322477375291206261884409189760185844239n,5722266937896532885780051958958348231143373700109372999374820235121374419868n],[21888242871839275222246405745257275088696311157297823662689037894645226208582n,0n],[13512124006075453725662431877630910996106405091429524885779419978626457868503n,5418419548761466998357268504080738289687024511189653727029736280683514010267n],[2203960485148121921418603742825762020974279258880205651966n,0n],[10190819375481120917420622822672549775783927716138318623895010788866272024264n,21584395482704209334823622290379665147239961968378104390343953940207365798982n],[2203960485148121921418603742825762020974279258880205651967n,0n],[18566938241244942414004596690298913868373833782006617400804628704885040364344n,16165975933942742336466353786298926857552937457188450663314217659523851788715n]]],A=[[[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n]],[[1n,0n],[21575463638280843010398324269430826099269044274347216827212613867836435027261n,10307601595873709700152284273816112264069230130616436755625194854815875713954n],[21888242871839275220042445260109153167277707414472061641714758635765020556616n,0n],[3772000881919853776433695186713858239009073593817195771773381919316419345261n,2236595495967245188281701248203181795121068902605861227855261137820944008926n],[2203960485148121921418603742825762020974279258880205651966n,0n],[18429021223477853657660792034369865839114504446431234726392080002137598044644n,9344045779998320333812420223237981029506012124075525679208581902008406485703n]],[[1n,0n],[2581911344467009335267311115468803099551665605076196740867805258568234346338n,19937756971775647987995932169929341994314640652964949448313374472400716661030n],[2203960485148121921418603742825762020974279258880205651966n,0n],[5324479202449903542726783395506214481928257762400643279780343368557297135718n,16208900380737693084919495127334387981393726419856888799917914180988844123039n],[21888242871839275220042445260109153167277707414472061641714758635765020556616n,0n],[13981852324922362344252311234282257507216387789820983642040889267519694726527n,7629828391165209371577384193250820201684255241773809077146787135900891633097n]]],st=t.addFunction(r+"__frobeniusMap"+_t);st.addParam("x","i32"),st.addParam("r","i32");const dt=st.getCodeBuilder();for(let gt=0;gt<6;gt++){const at=gt==0?dt.getLocal("x"):dt.i32_add(dt.getLocal("x"),dt.i32_const(gt*d)),yt=at,vt=dt.i32_add(dt.getLocal("x"),dt.i32_const(gt*d+f)),At=gt==0?dt.getLocal("r"):dt.i32_add(dt.getLocal("r"),dt.i32_const(gt*d)),wt=At,Lt=dt.i32_add(dt.getLocal("r"),dt.i32_const(gt*d+f)),zt=it(b[Math.floor(gt/3)][_t%12],A[gt%3][_t%6]),jt=t.alloc([...ue.bigInt2BytesLE(D(zt[0]),32),...ue.bigInt2BytesLE(D(zt[1]),32)]);_t%2==1?st.addCode(dt.call(w+"_copy",yt,wt),dt.call(w+"_neg",vt,Lt),dt.call(x+"_mul",At,dt.i32_const(jt),At)):st.addCode(dt.call(x+"_mul",at,dt.i32_const(jt),At))}function it(gt,at){const yt=BigInt(gt[0]),vt=BigInt(gt[1]),At=BigInt(at[0]),wt=BigInt(at[1]),Lt=[(yt*At-vt*wt)%i,(yt*wt+vt*At)%i];return A9(Lt[0])&&(Lt[0]=Lt[0]+i),Lt}}function de(){const _t=t.addFunction(r+"__finalExponentiationFirstChunk");_t.addParam("x","i32"),_t.addParam("r","i32");const b=_t.getCodeBuilder(),A=b.getLocal("x"),st=A,dt=b.i32_add(A,b.i32_const(c*6)),it=b.getLocal("r"),gt=t.alloc(y),at=b.i32_const(gt),yt=at,vt=b.i32_const(gt+c*6),At=b.i32_const(t.alloc(y)),wt=b.i32_const(t.alloc(y)),Lt=b.i32_const(t.alloc(y));_t.addCode(b.call(X+"_copy",st,yt),b.call(X+"_neg",dt,vt),b.call(q+"_inverse",A,At),b.call(q+"_mul",at,At,wt),b.call(r+"__frobeniusMap2",wt,Lt),b.call(q+"_mul",wt,Lt,it))}function Ae(){const _t=t.addFunction(r+"__cyclotomicSquare");_t.addParam("x","i32"),_t.addParam("r","i32");const b=_t.getCodeBuilder(),A=b.getLocal("x"),st=b.i32_add(b.getLocal("x"),b.i32_const(d)),dt=b.i32_add(b.getLocal("x"),b.i32_const(2*d)),it=b.i32_add(b.getLocal("x"),b.i32_const(3*d)),gt=b.i32_add(b.getLocal("x"),b.i32_const(4*d)),at=b.i32_add(b.getLocal("x"),b.i32_const(5*d)),yt=b.getLocal("r"),vt=b.i32_add(b.getLocal("r"),b.i32_const(d)),At=b.i32_add(b.getLocal("r"),b.i32_const(2*d)),wt=b.i32_add(b.getLocal("r"),b.i32_const(3*d)),Lt=b.i32_add(b.getLocal("r"),b.i32_const(4*d)),zt=b.i32_add(b.getLocal("r"),b.i32_const(5*d)),jt=b.i32_const(t.alloc(d)),Bt=b.i32_const(t.alloc(d)),Ht=b.i32_const(t.alloc(d)),Yt=b.i32_const(t.alloc(d)),ce=b.i32_const(t.alloc(d)),Gt=b.i32_const(t.alloc(d)),Jt=b.i32_const(t.alloc(d)),Dt=b.i32_const(t.alloc(d));_t.addCode(b.call(x+"_mul",A,gt,Jt),b.call(x+"_mul",gt,b.i32_const(W),jt),b.call(x+"_add",A,jt,jt),b.call(x+"_add",A,gt,Dt),b.call(x+"_mul",Dt,jt,jt),b.call(x+"_mul",b.i32_const(W),Jt,Dt),b.call(x+"_add",Jt,Dt,Dt),b.call(x+"_sub",jt,Dt,jt),b.call(x+"_add",Jt,Jt,Bt),b.call(x+"_mul",it,dt,Jt),b.call(x+"_mul",dt,b.i32_const(W),Ht),b.call(x+"_add",it,Ht,Ht),b.call(x+"_add",it,dt,Dt),b.call(x+"_mul",Dt,Ht,Ht),b.call(x+"_mul",b.i32_const(W),Jt,Dt),b.call(x+"_add",Jt,Dt,Dt),b.call(x+"_sub",Ht,Dt,Ht),b.call(x+"_add",Jt,Jt,Yt),b.call(x+"_mul",st,at,Jt),b.call(x+"_mul",at,b.i32_const(W),ce),b.call(x+"_add",st,ce,ce),b.call(x+"_add",st,at,Dt),b.call(x+"_mul",Dt,ce,ce),b.call(x+"_mul",b.i32_const(W),Jt,Dt),b.call(x+"_add",Jt,Dt,Dt),b.call(x+"_sub",ce,Dt,ce),b.call(x+"_add",Jt,Jt,Gt),b.call(x+"_sub",jt,A,yt),b.call(x+"_add",yt,yt,yt),b.call(x+"_add",jt,yt,yt),b.call(x+"_add",Bt,gt,Lt),b.call(x+"_add",Lt,Lt,Lt),b.call(x+"_add",Bt,Lt,Lt),b.call(x+"_mul",Gt,b.i32_const(ct),Dt),b.call(x+"_add",Dt,it,wt),b.call(x+"_add",wt,wt,wt),b.call(x+"_add",Dt,wt,wt),b.call(x+"_sub",ce,dt,At),b.call(x+"_add",At,At,At),b.call(x+"_add",ce,At,At),b.call(x+"_sub",Ht,st,vt),b.call(x+"_add",vt,vt,vt),b.call(x+"_add",Ht,vt,vt),b.call(x+"_add",Yt,at,zt),b.call(x+"_add",zt,zt,zt),b.call(x+"_add",Yt,zt,zt))}function un(_t,b){const A=Z(_t).map(vt=>vt==-1?255:vt),st=t.alloc(A),dt=t.addFunction(r+"__cyclotomicExp_"+b);dt.addParam("x","i32"),dt.addParam("r","i32"),dt.addLocal("bit","i32"),dt.addLocal("i","i32");const it=dt.getCodeBuilder(),gt=it.getLocal("x"),at=it.getLocal("r"),yt=it.i32_const(t.alloc(y));dt.addCode(it.call(q+"_conjugate",gt,yt),it.call(q+"_one",at),it.if(it.teeLocal("bit",it.i32_load8_s(it.i32_const(A.length-1),st)),it.if(it.i32_eq(it.getLocal("bit"),it.i32_const(1)),it.call(q+"_mul",at,gt,at),it.call(q+"_mul",at,yt,at))),it.setLocal("i",it.i32_const(A.length-2)),it.block(it.loop(it.call(r+"__cyclotomicSquare",at,at),it.if(it.teeLocal("bit",it.i32_load8_s(it.getLocal("i"),st)),it.if(it.i32_eq(it.getLocal("bit"),it.i32_const(1)),it.call(q+"_mul",at,gt,at),it.call(q+"_mul",at,yt,at))),it.br_if(1,it.i32_eqz(it.getLocal("i"))),it.setLocal("i",it.i32_sub(it.getLocal("i"),it.i32_const(1))),it.br(0))))}function De(){Ae(),un(C,"w0");const _t=t.addFunction(r+"__finalExponentiationLastChunk");_t.addParam("x","i32"),_t.addParam("r","i32");const b=_t.getCodeBuilder(),A=b.getLocal("x"),st=b.getLocal("r"),dt=b.i32_const(t.alloc(y)),it=b.i32_const(t.alloc(y)),gt=b.i32_const(t.alloc(y)),at=b.i32_const(t.alloc(y)),yt=b.i32_const(t.alloc(y)),vt=b.i32_const(t.alloc(y)),At=b.i32_const(t.alloc(y)),wt=b.i32_const(t.alloc(y)),Lt=b.i32_const(t.alloc(y)),zt=b.i32_const(t.alloc(y)),jt=b.i32_const(t.alloc(y)),Bt=b.i32_const(t.alloc(y)),Ht=b.i32_const(t.alloc(y)),Yt=b.i32_const(t.alloc(y)),ce=b.i32_const(t.alloc(y)),Gt=b.i32_const(t.alloc(y)),Jt=b.i32_const(t.alloc(y)),Dt=b.i32_const(t.alloc(y)),ge=b.i32_const(t.alloc(y)),qe=b.i32_const(t.alloc(y)),pn=b.i32_const(t.alloc(y));_t.addCode(b.call(r+"__cyclotomicExp_w0",A,dt),b.call(q+"_conjugate",dt,dt),b.call(r+"__cyclotomicSquare",dt,it),b.call(r+"__cyclotomicSquare",it,gt),b.call(q+"_mul",gt,it,at),b.call(r+"__cyclotomicExp_w0",at,yt),b.call(q+"_conjugate",yt,yt),b.call(r+"__cyclotomicSquare",yt,vt),b.call(r+"__cyclotomicExp_w0",vt,At),b.call(q+"_conjugate",At,At),b.call(q+"_conjugate",at,wt),b.call(q+"_conjugate",At,Lt),b.call(q+"_mul",Lt,yt,zt),b.call(q+"_mul",zt,wt,jt),b.call(q+"_mul",jt,it,Bt),b.call(q+"_mul",jt,yt,Ht),b.call(q+"_mul",Ht,A,Yt),b.call(r+"__frobeniusMap1",Bt,ce),b.call(q+"_mul",ce,Yt,Gt),b.call(r+"__frobeniusMap2",jt,Jt),b.call(q+"_mul",Jt,Gt,Dt),b.call(q+"_conjugate",A,ge),b.call(q+"_mul",ge,Bt,qe),b.call(r+"__frobeniusMap3",qe,pn),b.call(q+"_mul",pn,Dt,st))}function Je(){de(),De();const _t=t.addFunction(r+"_finalExponentiation");_t.addParam("x","i32"),_t.addParam("r","i32");const b=_t.getCodeBuilder(),A=b.getLocal("x"),st=b.getLocal("r"),dt=b.i32_const(t.alloc(y));_t.addCode(b.call(r+"__finalExponentiationFirstChunk",A,dt),b.call(r+"__finalExponentiationLastChunk",dt,st))}function Ce(){const _t=t.addFunction(r+"_finalExponentiationOld");_t.addParam("x","i32"),_t.addParam("r","i32");const A=t.alloc(ue.bigInt2BytesLE(552484233613224096312617126783173147097382103762957654188882734314196910839907541213974502761540629817009608548654680343627701153829446747810907373256841551006201639677726139946029199968412598804882391702273019083653272047566316584365559776493027495458238373902875937659943504873220554161550525926302303331747463515644711876653177129578303191095900909191624817826566688241804408081892785725967931714097716709526092261278071952560171111444072049229123565057483750161460024353346284167282452756217662335528813519139808291170539072125381230815729071544861602750936964829313608137325426383735122175229541155376346436093930287402089517426973178917569713384748081827255472576937471496195752727188261435633271238710131736096299798168852925540549342330775279877006784354801422249722573783561685179618816480037695005515426162362431072245638324744480n,352)),st=_t.getCodeBuilder();_t.addCode(st.call(q+"_exp",st.getLocal("x"),st.i32_const(A),st.i32_const(352),st.getLocal("r")))}const Qe=t.alloc(U),Ue=t.alloc(T);function gn(_t){const b=t.addFunction(r+"_pairingEq"+_t);for(let it=0;it<_t;it++)b.addParam("p_"+it,"i32"),b.addParam("q_"+it,"i32");b.addParam("c","i32"),b.setReturnType("i32");const A=b.getCodeBuilder(),st=A.i32_const(t.alloc(y)),dt=A.i32_const(t.alloc(y));b.addCode(A.call(q+"_one",st));for(let it=0;it<_t;it++)b.addCode(A.call(r+"_prepareG1",A.getLocal("p_"+it),A.i32_const(Qe))),b.addCode(A.call(r+"_prepareG2",A.getLocal("q_"+it),A.i32_const(Ue))),b.addCode(A.call(r+"_millerLoop",A.i32_const(Qe),A.i32_const(Ue),dt)),b.addCode(A.call(q+"_mul",st,dt,st));b.addCode(A.call(r+"_finalExponentiation",st,st)),b.addCode(A.call(q+"_eq",st,A.getLocal("c")))}function An(){const _t=t.addFunction(r+"_pairing");_t.addParam("p","i32"),_t.addParam("q","i32"),_t.addParam("r","i32");const b=_t.getCodeBuilder(),A=b.i32_const(t.alloc(y));_t.addCode(b.call(r+"_prepareG1",b.getLocal("p"),b.i32_const(Qe))),_t.addCode(b.call(r+"_prepareG2",b.getLocal("q"),b.i32_const(Ue))),_t.addCode(b.call(r+"_millerLoop",b.i32_const(Qe),b.i32_const(Ue),A)),_t.addCode(b.call(r+"_finalExponentiation",A,b.getLocal("r")))}Et(),Zt(),mt(),Wt(),Rt(),oe(),Pt();for(let _t=0;_t<10;_t++)Kt(_t),t.exportFunction(r+"__frobeniusMap"+_t);Ce(),Je();for(let _t=1;_t<=5;_t++)gn(_t),t.exportFunction(r+"_pairingEq"+_t);An(),t.exportFunction(r+"_pairing"),t.exportFunction(r+"_prepareG1"),t.exportFunction(r+"_prepareG2"),t.exportFunction(r+"_millerLoop"),t.exportFunction(r+"_finalExponentiation"),t.exportFunction(r+"_finalExponentiationOld"),t.exportFunction(r+"__mulBy024"),t.exportFunction(r+"__mulBy024Old"),t.exportFunction(r+"__cyclotomicSquare"),t.exportFunction(r+"__cyclotomicExp_w0")};const se=Wo,C9=V0,I9=aC,M1=cC,x9=lC,F1=uC,lp=dC,E9=fC,S9=hC,Pc=gC,{bitLength:P1,isOdd:T1,isNegative:O9}=Qn;var B9=function(t,e){const r=e||"bls12381";if(t.modules[r])return r;const i=0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn,a=0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001n,l=Math.floor((P1(i-1n)-1)/64)+1,c=l*8,g=c,f=g*2,d=g*12,y=Math.floor((P1(a-1n)-1)/64)+1,v=y*8,w=v,F=t.alloc(se.bigInt2BytesLE(a,w)),B=C9(t,i,"f1m","intq");I9(t,a,"fr","frm","intr");const x=t.alloc(se.bigInt2BytesLE(P(4n),g)),M=F1(t,"g1m","f1m",x);lp(t,"frm","frm","frm","frm_mul"),E9(t,"pol","frm"),S9(t,"qap","frm");const O=M1(t,"f1m_neg","f2m","f1m"),$=t.alloc([...se.bigInt2BytesLE(P(4n),g),...se.bigInt2BytesLE(P(4n),g)]),D=F1(t,"g2m","f2m",$);function V(b,A){const st=t.addFunction(b);st.addParam("pG","i32"),st.addParam("pFr","i32"),st.addParam("pr","i32");const dt=st.getCodeBuilder(),it=dt.i32_const(t.alloc(v));st.addCode(dt.call("frm_fromMontgomery",dt.getLocal("pFr"),it),dt.call(A,dt.getLocal("pG"),it,dt.i32_const(v),dt.getLocal("pr"))),t.exportFunction(b)}V("g1m_timesFr","g1m_timesScalar"),lp(t,"g1m","g1m","frm","g1m_timesFr"),V("g2m_timesFr","g2m_timesScalar"),lp(t,"g2m","g2m","frm","g2m_timesFr"),V("g1m_timesFrAffine","g1m_timesScalarAffine"),V("g2m_timesFrAffine","g2m_timesScalarAffine"),Pc(t,"frm_batchApplyKey","fmr","frm",v,v,v,"frm_mul"),Pc(t,"g1m_batchApplyKey","g1m","frm",c*3,c*3,v,"g1m_timesFr"),Pc(t,"g1m_batchApplyKeyMixed","g1m","frm",c*2,c*3,v,"g1m_timesFrAffine"),Pc(t,"g2m_batchApplyKey","g2m","frm",c*2*3,c*3*2,v,"g2m_timesFr"),Pc(t,"g2m_batchApplyKeyMixed","g2m","frm",c*2*2,c*3*2,v,"g2m_timesFrAffine");function P(b){return BigInt(b)*(1n<<BigInt(g*8))%i}const _=[3685416753713387016781088315183077757961620795782546409894578378688607592378376318836054947676345821548104185464507n,1339506544944476473020471379941921221584933875938349620426543736416511423956333506472724655353366534992391756441569n,1n],I=t.alloc([...se.bigInt2BytesLE(P(_[0]),g),...se.bigInt2BytesLE(P(_[1]),g),...se.bigInt2BytesLE(P(_[2]),g)]),nt=[0n,1n,0n],rt=t.alloc([...se.bigInt2BytesLE(P(nt[0]),g),...se.bigInt2BytesLE(P(nt[1]),g),...se.bigInt2BytesLE(P(nt[2]),g)]),H=[[352701069587466618187139116011060144890029952792775240219908644239793785735715026873347600343865175952761926303160n,3059144344244213709971259814753781636986470325476647558659373206291635324768958432433509563104347017837885763365758n],[1985150602287291935568054521177171638300868978215655730859378665066344726373823718423869104263333984641494340347905n,927553665492332455747201965776037880757740193453592970025027978793976877002675564980949289727957565575433344219582n],[1n,0n]],Q=t.alloc([...se.bigInt2BytesLE(P(H[0][0]),g),...se.bigInt2BytesLE(P(H[0][1]),g),...se.bigInt2BytesLE(P(H[1][0]),g),...se.bigInt2BytesLE(P(H[1][1]),g),...se.bigInt2BytesLE(P(H[2][0]),g),...se.bigInt2BytesLE(P(H[2][1]),g)]),k=[[0n,0n],[1n,0n],[0n,0n]],W=t.alloc([...se.bigInt2BytesLE(P(k[0][0]),g),...se.bigInt2BytesLE(P(k[0][1]),g),...se.bigInt2BytesLE(P(k[1][0]),g),...se.bigInt2BytesLE(P(k[1][1]),g),...se.bigInt2BytesLE(P(k[2][0]),g),...se.bigInt2BytesLE(P(k[2][1]),g)]),tt=t.alloc([...se.bigInt2BytesLE(P(1n),g),...se.bigInt2BytesLE(P(0n),g),...se.bigInt2BytesLE(P(0n),g),...se.bigInt2BytesLE(P(0n),g),...se.bigInt2BytesLE(P(0n),g),...se.bigInt2BytesLE(P(0n),g),...se.bigInt2BytesLE(P(0n),g),...se.bigInt2BytesLE(P(0n),g),...se.bigInt2BytesLE(P(0n),g),...se.bigInt2BytesLE(P(0n),g),...se.bigInt2BytesLE(P(0n),g),...se.bigInt2BytesLE(P(0n),g)]),ct=t.alloc([...se.bigInt2BytesLE(P(1n),g),...se.bigInt2BytesLE(P(1n),g)]);function ut(){const b=t.addFunction(O+"_mulNR");b.addParam("x","i32"),b.addParam("pr","i32");const A=b.getCodeBuilder(),st=A.i32_const(t.alloc(g)),dt=A.getLocal("x"),it=A.i32_add(A.getLocal("x"),A.i32_const(g)),gt=A.getLocal("pr"),at=A.i32_add(A.getLocal("pr"),A.i32_const(g));b.addCode(A.call(B+"_copy",dt,st),A.call(B+"_sub",dt,it,gt),A.call(B+"_add",st,it,at))}ut();const G=x9(t,O+"_mulNR","f6m","f2m");function X(){const b=t.addFunction(G+"_mulNR");b.addParam("x","i32"),b.addParam("pr","i32");const A=b.getCodeBuilder(),st=A.i32_const(t.alloc(g*2));b.addCode(A.call(O+"_copy",A.getLocal("x"),st),A.call(O+"_mulNR",A.i32_add(A.getLocal("x"),A.i32_const(c*4)),A.getLocal("pr")),A.call(O+"_copy",A.i32_add(A.getLocal("x"),A.i32_const(c*2)),A.i32_add(A.getLocal("pr"),A.i32_const(c*4))),A.call(O+"_copy",st,A.i32_add(A.getLocal("pr"),A.i32_const(c*2))))}X();const J=M1(t,G+"_mulNR","ftm",G),lt=bt(0xd201000000010000n),St=t.alloc(lt),Ct=3*f,E=lt.length-1,R=lt.reduce((b,A)=>b+(A!=0?1:0),0)+E+1,p=6*c,U=3*c*2+R*Ct,T=!0,C=15132376222941642752n;t.modules[r]={n64q:l,n64r:y,n8q:c,n8r:v,pG1gen:I,pG1zero:rt,pG1b:x,pG2gen:Q,pG2zero:W,pG2b:$,pq:t.modules.f1m.pq,pr:F,pOneT:tt,r:a,q:i,prePSize:p,preQSize:U};function Z(b){let A=b;const st=[];for(;A>0n;){if(T1(A)){const dt=2-Number(A%4n);st.push(dt),A=A-BigInt(dt)}else st.push(0);A=A>>1n}return st}function bt(b){let A=b;const st=[];for(;A>0n;)T1(A)?st.push(1):st.push(0),A=A>>1n;return st}function mt(){const b=t.addFunction(r+"_prepareG1");b.addParam("pP","i32"),b.addParam("ppreP","i32");const A=b.getCodeBuilder();b.addCode(A.call(M+"_normalize",A.getLocal("pP"),A.getLocal("ppreP")))}function Et(){const b=t.addFunction(r+"_prepDblStep");b.addParam("R","i32"),b.addParam("r","i32");const A=b.getCodeBuilder(),st=A.getLocal("R"),dt=A.i32_add(A.getLocal("R"),A.i32_const(2*c)),it=A.i32_add(A.getLocal("R"),A.i32_const(4*c)),gt=A.getLocal("r"),at=A.i32_add(A.getLocal("r"),A.i32_const(2*c)),yt=A.i32_add(A.getLocal("r"),A.i32_const(4*c)),vt=A.i32_const(t.alloc(f)),At=A.i32_const(t.alloc(f)),wt=A.i32_const(t.alloc(f)),Lt=A.i32_const(t.alloc(f)),zt=A.i32_const(t.alloc(f));b.addCode(A.call(O+"_square",st,gt),A.call(O+"_square",dt,At),A.call(O+"_square",At,wt),A.call(O+"_add",At,st,at),A.call(O+"_square",at,at),A.call(O+"_sub",at,gt,at),A.call(O+"_sub",at,wt,at),A.call(O+"_add",at,at,at),A.call(O+"_add",gt,gt,Lt),A.call(O+"_add",Lt,gt,Lt),A.call(O+"_add",st,Lt,yt),A.call(O+"_square",Lt,zt),A.call(O+"_square",it,vt),A.call(O+"_sub",zt,at,st),A.call(O+"_sub",st,at,st),A.call(O+"_add",it,dt,it),A.call(O+"_square",it,it),A.call(O+"_sub",it,At,it),A.call(O+"_sub",it,vt,it),A.call(O+"_sub",at,st,dt),A.call(O+"_mul",dt,Lt,dt),A.call(O+"_add",wt,wt,wt),A.call(O+"_add",wt,wt,wt),A.call(O+"_add",wt,wt,wt),A.call(O+"_sub",dt,wt,dt),A.call(O+"_mul",Lt,vt,at),A.call(O+"_add",at,at,at),A.call(O+"_neg",at,at),A.call(O+"_square",yt,yt),A.call(O+"_sub",yt,gt,yt),A.call(O+"_sub",yt,zt,yt),A.call(O+"_add",At,At,At),A.call(O+"_add",At,At,At),A.call(O+"_sub",yt,At,yt),A.call(O+"_mul",it,vt,gt),A.call(O+"_add",gt,gt,gt))}function Zt(){const b=t.addFunction(r+"_prepAddStep");b.addParam("R","i32"),b.addParam("Q","i32"),b.addParam("r","i32");const A=b.getCodeBuilder(),st=A.getLocal("R"),dt=A.i32_add(A.getLocal("R"),A.i32_const(2*c)),it=A.i32_add(A.getLocal("R"),A.i32_const(4*c)),gt=A.getLocal("Q"),at=A.i32_add(A.getLocal("Q"),A.i32_const(2*c)),yt=A.getLocal("r"),vt=A.i32_add(A.getLocal("r"),A.i32_const(2*c)),At=A.i32_add(A.getLocal("r"),A.i32_const(4*c)),wt=A.i32_const(t.alloc(f)),Lt=A.i32_const(t.alloc(f)),zt=A.i32_const(t.alloc(f)),jt=A.i32_const(t.alloc(f)),Bt=A.i32_const(t.alloc(f)),Ht=A.i32_const(t.alloc(f)),Yt=A.i32_const(t.alloc(f)),ce=A.i32_const(t.alloc(f)),Gt=A.i32_const(t.alloc(f)),Jt=A.i32_const(t.alloc(f)),Dt=A.i32_const(t.alloc(f));b.addCode(A.call(O+"_square",it,wt),A.call(O+"_square",at,Lt),A.call(O+"_mul",wt,gt,jt),A.call(O+"_add",at,it,vt),A.call(O+"_square",vt,vt),A.call(O+"_sub",vt,Lt,vt),A.call(O+"_sub",vt,wt,vt),A.call(O+"_mul",vt,wt,vt),A.call(O+"_sub",jt,st,Bt),A.call(O+"_square",Bt,Ht),A.call(O+"_add",Ht,Ht,Yt),A.call(O+"_add",Yt,Yt,Yt),A.call(O+"_mul",Yt,Bt,ce),A.call(O+"_sub",vt,dt,Gt),A.call(O+"_sub",Gt,dt,Gt),A.call(O+"_mul",Gt,gt,At),A.call(O+"_mul",Yt,st,Jt),A.call(O+"_square",Gt,st),A.call(O+"_sub",st,ce,st),A.call(O+"_sub",st,Jt,st),A.call(O+"_sub",st,Jt,st),A.call(O+"_add",it,Bt,it),A.call(O+"_square",it,it),A.call(O+"_sub",it,wt,it),A.call(O+"_sub",it,Ht,it),A.call(O+"_add",at,it,yt),A.call(O+"_sub",Jt,st,Dt),A.call(O+"_mul",Dt,Gt,Dt),A.call(O+"_mul",dt,ce,jt),A.call(O+"_add",jt,jt,jt),A.call(O+"_sub",Dt,jt,dt),A.call(O+"_square",yt,yt),A.call(O+"_sub",yt,Lt,yt),A.call(O+"_square",it,zt),A.call(O+"_sub",yt,zt,yt),A.call(O+"_add",At,At,At),A.call(O+"_sub",At,yt,At),A.call(O+"_add",it,it,yt),A.call(O+"_neg",Gt,Gt),A.call(O+"_add",Gt,Gt,vt))}function Tt(){const b=t.addFunction(r+"_prepareG2");b.addParam("pQ","i32"),b.addParam("ppreQ","i32"),b.addLocal("pCoef","i32"),b.addLocal("i","i32");const A=b.getCodeBuilder(),st=A.getLocal("pQ"),dt=t.alloc(f*3),it=A.i32_const(dt),gt=A.getLocal("ppreQ");b.addCode(A.call(D+"_normalize",st,gt),A.if(A.call(D+"_isZero",gt),A.ret([])),A.call(D+"_copy",gt,it),A.setLocal("pCoef",A.i32_add(A.getLocal("ppreQ"),A.i32_const(f*3)))),b.addCode(A.setLocal("i",A.i32_const(lt.length-2)),A.block(A.loop(A.call(r+"_prepDblStep",it,A.getLocal("pCoef")),A.setLocal("pCoef",A.i32_add(A.getLocal("pCoef"),A.i32_const(Ct))),A.if(A.i32_load8_s(A.getLocal("i"),St),[...A.call(r+"_prepAddStep",it,gt,A.getLocal("pCoef")),...A.setLocal("pCoef",A.i32_add(A.getLocal("pCoef"),A.i32_const(Ct)))]),A.br_if(1,A.i32_eqz(A.getLocal("i"))),A.setLocal("i",A.i32_sub(A.getLocal("i"),A.i32_const(1))),A.br(0))))}function Wt(){const b=t.addFunction(G+"_mul1");b.addParam("pA","i32"),b.addParam("pC1","i32"),b.addParam("pR","i32");const A=b.getCodeBuilder(),st=A.getLocal("pA"),dt=A.i32_add(A.getLocal("pA"),A.i32_const(g*2)),it=A.i32_add(A.getLocal("pA"),A.i32_const(g*4)),gt=A.getLocal("pC1"),at=A.getLocal("pR"),yt=A.i32_add(A.getLocal("pR"),A.i32_const(g*2)),vt=A.i32_add(A.getLocal("pR"),A.i32_const(g*4)),At=A.i32_const(t.alloc(g*2)),wt=A.i32_const(t.alloc(g*2));b.addCode(A.call(O+"_add",st,dt,At),A.call(O+"_add",dt,it,wt),A.call(O+"_mul",dt,gt,vt),A.call(O+"_mul",wt,gt,at),A.call(O+"_sub",at,vt,at),A.call(O+"_mulNR",at,at),A.call(O+"_mul",At,gt,yt),A.call(O+"_sub",yt,vt,yt))}Wt();function oe(){const b=t.addFunction(G+"_mul01");b.addParam("pA","i32"),b.addParam("pC0","i32"),b.addParam("pC1","i32"),b.addParam("pR","i32");const A=b.getCodeBuilder(),st=A.getLocal("pA"),dt=A.i32_add(A.getLocal("pA"),A.i32_const(g*2)),it=A.i32_add(A.getLocal("pA"),A.i32_const(g*4)),gt=A.getLocal("pC0"),at=A.getLocal("pC1"),yt=A.getLocal("pR"),vt=A.i32_add(A.getLocal("pR"),A.i32_const(g*2)),At=A.i32_add(A.getLocal("pR"),A.i32_const(g*4)),wt=A.i32_const(t.alloc(g*2)),Lt=A.i32_const(t.alloc(g*2)),zt=A.i32_const(t.alloc(g*2)),jt=A.i32_const(t.alloc(g*2));b.addCode(A.call(O+"_mul",st,gt,wt),A.call(O+"_mul",dt,at,Lt),A.call(O+"_add",st,dt,zt),A.call(O+"_add",st,it,jt),A.call(O+"_add",dt,it,yt),A.call(O+"_mul",yt,at,yt),A.call(O+"_sub",yt,Lt,yt),A.call(O+"_mulNR",yt,yt),A.call(O+"_add",yt,wt,yt),A.call(O+"_add",gt,at,vt),A.call(O+"_mul",vt,zt,vt),A.call(O+"_sub",vt,wt,vt),A.call(O+"_sub",vt,Lt,vt),A.call(O+"_mul",jt,gt,At),A.call(O+"_sub",At,wt,At),A.call(O+"_add",At,Lt,At))}oe();function Rt(){const b=t.addFunction(J+"_mul014");b.addParam("pA","i32"),b.addParam("pC0","i32"),b.addParam("pC1","i32"),b.addParam("pC4","i32"),b.addParam("pR","i32");const A=b.getCodeBuilder(),st=A.getLocal("pA"),dt=A.i32_add(A.getLocal("pA"),A.i32_const(g*6)),it=A.getLocal("pC0"),gt=A.getLocal("pC1"),at=A.getLocal("pC4"),yt=A.i32_const(t.alloc(g*6)),vt=A.i32_const(t.alloc(g*6)),At=A.i32_const(t.alloc(g*2)),wt=A.getLocal("pR"),Lt=A.i32_add(A.getLocal("pR"),A.i32_const(g*6));b.addCode(A.call(G+"_mul01",st,it,gt,yt),A.call(G+"_mul1",dt,at,vt),A.call(O+"_add",gt,at,At),A.call(G+"_add",dt,st,Lt),A.call(G+"_mul01",Lt,it,At,Lt),A.call(G+"_sub",Lt,yt,Lt),A.call(G+"_sub",Lt,vt,Lt),A.call(G+"_copy",vt,wt),A.call(G+"_mulNR",wt,wt),A.call(G+"_add",wt,yt,wt))}Rt();function Pt(){const b=t.addFunction(r+"_ell");b.addParam("pP","i32"),b.addParam("pCoefs","i32"),b.addParam("pF","i32");const A=b.getCodeBuilder(),st=A.getLocal("pP"),dt=A.i32_add(A.getLocal("pP"),A.i32_const(c)),it=A.getLocal("pF"),gt=A.getLocal("pCoefs"),at=A.i32_add(A.getLocal("pCoefs"),A.i32_const(g)),yt=A.i32_add(A.getLocal("pCoefs"),A.i32_const(g*2)),vt=A.i32_add(A.getLocal("pCoefs"),A.i32_const(g*3)),At=A.i32_add(A.getLocal("pCoefs"),A.i32_const(g*4)),wt=t.alloc(g*2),Lt=A.i32_const(wt),zt=A.i32_const(wt),jt=A.i32_const(wt+g),Bt=t.alloc(g*2),Ht=A.i32_const(Bt),Yt=A.i32_const(Bt),ce=A.i32_const(Bt+g);b.addCode(A.call(B+"_mul",gt,dt,zt),A.call(B+"_mul",at,dt,jt),A.call(B+"_mul",yt,st,Yt),A.call(B+"_mul",vt,st,ce),A.call(J+"_mul014",it,At,Ht,Lt,it))}Pt();function Kt(){const b=t.addFunction(r+"_millerLoop");b.addParam("ppreP","i32"),b.addParam("ppreQ","i32"),b.addParam("r","i32"),b.addLocal("pCoef","i32"),b.addLocal("i","i32");const A=b.getCodeBuilder(),st=A.getLocal("ppreP"),dt=A.getLocal("pCoef"),it=A.getLocal("r");b.addCode(A.call(J+"_one",it),A.if(A.call(M+"_isZero",st),A.ret([])),A.if(A.call(M+"_isZero",A.getLocal("ppreQ")),A.ret([])),A.setLocal("pCoef",A.i32_add(A.getLocal("ppreQ"),A.i32_const(f*3))),A.setLocal("i",A.i32_const(lt.length-2)),A.block(A.loop(A.call(r+"_ell",st,dt,it),A.setLocal("pCoef",A.i32_add(A.getLocal("pCoef"),A.i32_const(Ct))),A.if(A.i32_load8_s(A.getLocal("i"),St),[...A.call(r+"_ell",st,dt,it),...A.setLocal("pCoef",A.i32_add(A.getLocal("pCoef"),A.i32_const(Ct)))]),A.call(J+"_square",it,it),A.br_if(1,A.i32_eq(A.getLocal("i"),A.i32_const(1))),A.setLocal("i",A.i32_sub(A.getLocal("i"),A.i32_const(1))),A.br(0))),A.call(r+"_ell",st,dt,it)),b.addCode(A.call(J+"_conjugate",it,it))}function de(b){const A=[[[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n]],[[1n,0n],[3850754370037169011952147076051364057158807420970682438676050522613628423219637725072182697113062777891589506424760n,151655185184498381465642749684540099398075398968325446656007613510403227271200139370504932015952886146304766135027n],[793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620351n,0n],[2973677408986561043442465346520108879172042883009249989176415018091420807192182638567116318576472649347015917690530n,1028732146235106349975324479215795277384839936929757896155643118032610843298655225875571310552543014690878354869257n],[793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620350n,0n],[3125332594171059424908108096204648978570118281977575435832422631601824034463382777937621250592425535493320683825557n,877076961050607968509681729531255177986764537961432449499635504522207616027455086505066378536590128544573588734230n],[4002409555221667393417789825735904156556882819939007885332058136124031650490837864442687629129015664037894272559786n,0n],[151655185184498381465642749684540099398075398968325446656007613510403227271200139370504932015952886146304766135027n,3850754370037169011952147076051364057158807420970682438676050522613628423219637725072182697113062777891589506424760n],[4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939436n,0n],[1028732146235106349975324479215795277384839936929757896155643118032610843298655225875571310552543014690878354869257n,2973677408986561043442465346520108879172042883009249989176415018091420807192182638567116318576472649347015917690530n],[4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939437n,0n],[877076961050607968509681729531255177986764537961432449499635504522207616027455086505066378536590128544573588734230n,3125332594171059424908108096204648978570118281977575435832422631601824034463382777937621250592425535493320683825557n]]],st=[[[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n]],[[1n,0n],[0n,4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939436n],[793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620350n,0n],[0n,1n],[4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939436n,0n],[0n,793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620350n]],[[1n,0n],[4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939437n,0n],[4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939436n,0n],[4002409555221667393417789825735904156556882819939007885332058136124031650490837864442687629129015664037894272559786n,0n],[793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620350n,0n],[793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620351n,0n]]],dt=t.addFunction(J+"_frobeniusMap"+b);dt.addParam("x","i32"),dt.addParam("r","i32");const it=dt.getCodeBuilder();for(let at=0;at<6;at++){const yt=at==0?it.getLocal("x"):it.i32_add(it.getLocal("x"),it.i32_const(at*f)),vt=yt,At=it.i32_add(it.getLocal("x"),it.i32_const(at*f+g)),wt=at==0?it.getLocal("r"):it.i32_add(it.getLocal("r"),it.i32_const(at*f)),Lt=wt,zt=it.i32_add(it.getLocal("r"),it.i32_const(at*f+g)),jt=gt(A[Math.floor(at/3)][b%12],st[at%3][b%6]),Bt=t.alloc([...se.bigInt2BytesLE(P(jt[0]),c),...se.bigInt2BytesLE(P(jt[1]),c)]);b%2==1?dt.addCode(it.call(B+"_copy",vt,Lt),it.call(B+"_neg",At,zt),it.call(O+"_mul",wt,it.i32_const(Bt),wt)):dt.addCode(it.call(O+"_mul",yt,it.i32_const(Bt),wt))}function gt(at,yt){const vt=at[0],At=at[1],wt=yt[0],Lt=yt[1],zt=[(vt*wt-At*Lt)%i,(vt*Lt+At*wt)%i];return O9(zt[0])&&(zt[0]=zt[0]+i),zt}}function Ae(){const b=t.addFunction(r+"__cyclotomicSquare");b.addParam("x","i32"),b.addParam("r","i32");const A=b.getCodeBuilder(),st=A.getLocal("x"),dt=A.i32_add(A.getLocal("x"),A.i32_const(f)),it=A.i32_add(A.getLocal("x"),A.i32_const(2*f)),gt=A.i32_add(A.getLocal("x"),A.i32_const(3*f)),at=A.i32_add(A.getLocal("x"),A.i32_const(4*f)),yt=A.i32_add(A.getLocal("x"),A.i32_const(5*f)),vt=A.getLocal("r"),At=A.i32_add(A.getLocal("r"),A.i32_const(f)),wt=A.i32_add(A.getLocal("r"),A.i32_const(2*f)),Lt=A.i32_add(A.getLocal("r"),A.i32_const(3*f)),zt=A.i32_add(A.getLocal("r"),A.i32_const(4*f)),jt=A.i32_add(A.getLocal("r"),A.i32_const(5*f)),Bt=A.i32_const(t.alloc(f)),Ht=A.i32_const(t.alloc(f)),Yt=A.i32_const(t.alloc(f)),ce=A.i32_const(t.alloc(f)),Gt=A.i32_const(t.alloc(f)),Jt=A.i32_const(t.alloc(f)),Dt=A.i32_const(t.alloc(f)),ge=A.i32_const(t.alloc(f));b.addCode(A.call(O+"_mul",st,at,Dt),A.call(O+"_mulNR",at,Bt),A.call(O+"_add",st,Bt,Bt),A.call(O+"_add",st,at,ge),A.call(O+"_mul",ge,Bt,Bt),A.call(O+"_mulNR",Dt,ge),A.call(O+"_add",Dt,ge,ge),A.call(O+"_sub",Bt,ge,Bt),A.call(O+"_add",Dt,Dt,Ht),A.call(O+"_mul",gt,it,Dt),A.call(O+"_mulNR",it,Yt),A.call(O+"_add",gt,Yt,Yt),A.call(O+"_add",gt,it,ge),A.call(O+"_mul",ge,Yt,Yt),A.call(O+"_mulNR",Dt,ge),A.call(O+"_add",Dt,ge,ge),A.call(O+"_sub",Yt,ge,Yt),A.call(O+"_add",Dt,Dt,ce),A.call(O+"_mul",dt,yt,Dt),A.call(O+"_mulNR",yt,Gt),A.call(O+"_add",dt,Gt,Gt),A.call(O+"_add",dt,yt,ge),A.call(O+"_mul",ge,Gt,Gt),A.call(O+"_mulNR",Dt,ge),A.call(O+"_add",Dt,ge,ge),A.call(O+"_sub",Gt,ge,Gt),A.call(O+"_add",Dt,Dt,Jt),A.call(O+"_sub",Bt,st,vt),A.call(O+"_add",vt,vt,vt),A.call(O+"_add",Bt,vt,vt),A.call(O+"_add",Ht,at,zt),A.call(O+"_add",zt,zt,zt),A.call(O+"_add",Ht,zt,zt),A.call(O+"_mul",Jt,A.i32_const(ct),ge),A.call(O+"_add",ge,gt,Lt),A.call(O+"_add",Lt,Lt,Lt),A.call(O+"_add",ge,Lt,Lt),A.call(O+"_sub",Gt,it,wt),A.call(O+"_add",wt,wt,wt),A.call(O+"_add",Gt,wt,wt),A.call(O+"_sub",Yt,dt,At),A.call(O+"_add",At,At,At),A.call(O+"_add",Yt,At,At),A.call(O+"_add",ce,yt,jt),A.call(O+"_add",jt,jt,jt),A.call(O+"_add",ce,jt,jt))}function un(b,A,st){const dt=Z(b).map(wt=>wt==-1?255:wt),it=t.alloc(dt),gt=t.addFunction(r+"__cyclotomicExp_"+st);gt.addParam("x","i32"),gt.addParam("r","i32"),gt.addLocal("bit","i32"),gt.addLocal("i","i32");const at=gt.getCodeBuilder(),yt=at.getLocal("x"),vt=at.getLocal("r"),At=at.i32_const(t.alloc(d));gt.addCode(at.call(J+"_conjugate",yt,At),at.call(J+"_one",vt),at.if(at.teeLocal("bit",at.i32_load8_s(at.i32_const(dt.length-1),it)),at.if(at.i32_eq(at.getLocal("bit"),at.i32_const(1)),at.call(J+"_mul",vt,yt,vt),at.call(J+"_mul",vt,At,vt))),at.setLocal("i",at.i32_const(dt.length-2)),at.block(at.loop(at.call(r+"__cyclotomicSquare",vt,vt),at.if(at.teeLocal("bit",at.i32_load8_s(at.getLocal("i"),it)),at.if(at.i32_eq(at.getLocal("bit"),at.i32_const(1)),at.call(J+"_mul",vt,yt,vt),at.call(J+"_mul",vt,At,vt))),at.br_if(1,at.i32_eqz(at.getLocal("i"))),at.setLocal("i",at.i32_sub(at.getLocal("i"),at.i32_const(1))),at.br(0)))),gt.addCode(at.call(J+"_conjugate",vt,vt))}function De(){Ae(),un(C,T,"w0");const b=t.addFunction(r+"_finalExponentiation");b.addParam("x","i32"),b.addParam("r","i32");const A=b.getCodeBuilder(),st=A.getLocal("x"),dt=A.getLocal("r"),it=A.i32_const(t.alloc(d)),gt=A.i32_const(t.alloc(d)),at=A.i32_const(t.alloc(d)),yt=A.i32_const(t.alloc(d)),vt=A.i32_const(t.alloc(d)),At=A.i32_const(t.alloc(d)),wt=A.i32_const(t.alloc(d));b.addCode(A.call(J+"_frobeniusMap6",st,it),A.call(J+"_inverse",st,gt),A.call(J+"_mul",it,gt,at),A.call(J+"_copy",at,gt),A.call(J+"_frobeniusMap2",at,at),A.call(J+"_mul",at,gt,at),A.call(r+"__cyclotomicSquare",at,gt),A.call(J+"_conjugate",gt,gt),A.call(r+"__cyclotomicExp_w0",at,yt),A.call(r+"__cyclotomicSquare",yt,vt),A.call(J+"_mul",gt,yt,At),A.call(r+"__cyclotomicExp_w0",At,gt),A.call(r+"__cyclotomicExp_w0",gt,it),A.call(r+"__cyclotomicExp_w0",it,wt),A.call(J+"_mul",wt,vt,wt),A.call(r+"__cyclotomicExp_w0",wt,vt),A.call(J+"_conjugate",At,At),A.call(J+"_mul",vt,At,vt),A.call(J+"_mul",vt,at,vt),A.call(J+"_conjugate",at,At),A.call(J+"_mul",gt,at,gt),A.call(J+"_frobeniusMap3",gt,gt),A.call(J+"_mul",wt,At,wt),A.call(J+"_frobeniusMap1",wt,wt),A.call(J+"_mul",yt,it,yt),A.call(J+"_frobeniusMap2",yt,yt),A.call(J+"_mul",yt,gt,yt),A.call(J+"_mul",yt,wt,yt),A.call(J+"_mul",yt,vt,dt))}function Je(){const b=t.addFunction(r+"_finalExponentiationOld");b.addParam("x","i32"),b.addParam("r","i32");const st=t.alloc(se.bigInt2BytesLE(322277361516934140462891564586510139908379969514828494218366688025288661041104682794998680497580008899973249814104447692778988208376779573819485263026159588510513834876303014016798809919343532899164848730280942609956670917565618115867287399623286813270357901731510188149934363360381614501334086825442271920079363289954510565375378443704372994881406797882676971082200626541916413184642520269678897559532260949334760604962086348898118982248842634379637598665468817769075878555493752214492790122785850202957575200176084204422751485957336465472324810982833638490904279282696134323072515220044451592646885410572234451732790590013479358343841220074174848221722017083597872017638514103174122784843925578370430843522959600095676285723737049438346544753168912974976791528535276317256904336520179281145394686565050419250614107803233314658825463117900250701199181529205942363159325765991819433914303908860460720581408201373164047773794825411011922305820065611121544561808414055302212057471395719432072209245600258134364584636810093520285711072578721435517884103526483832733289802426157301542744476740008494780363354305116978805620671467071400711358839553375340724899735460480144599782014906586543813292157922220645089192130209334926661588737007768565838519456601560804957985667880395221049249803753582637708560n,544)),dt=b.getCodeBuilder();b.addCode(dt.call(J+"_exp",dt.getLocal("x"),dt.i32_const(st),dt.i32_const(544),dt.getLocal("r")))}const Ce=t.alloc(p),Qe=t.alloc(U);function Ue(b){const A=t.addFunction(r+"_pairingEq"+b);for(let gt=0;gt<b;gt++)A.addParam("p_"+gt,"i32"),A.addParam("q_"+gt,"i32");A.addParam("c","i32"),A.setReturnType("i32");const st=A.getCodeBuilder(),dt=st.i32_const(t.alloc(d)),it=st.i32_const(t.alloc(d));A.addCode(st.call(J+"_one",dt));for(let gt=0;gt<b;gt++)A.addCode(st.call(r+"_prepareG1",st.getLocal("p_"+gt),st.i32_const(Ce))),A.addCode(st.call(r+"_prepareG2",st.getLocal("q_"+gt),st.i32_const(Qe))),A.addCode(st.if(st.i32_eqz(st.call(M+"_inGroupAffine",st.i32_const(Ce))),st.ret(st.i32_const(0))),st.if(st.i32_eqz(st.call(D+"_inGroupAffine",st.i32_const(Qe))),st.ret(st.i32_const(0)))),A.addCode(st.call(r+"_millerLoop",st.i32_const(Ce),st.i32_const(Qe),it)),A.addCode(st.call(J+"_mul",dt,it,dt));A.addCode(st.call(r+"_finalExponentiation",dt,dt)),A.addCode(st.call(J+"_eq",dt,st.getLocal("c")))}function gn(){const b=t.addFunction(r+"_pairing");b.addParam("p","i32"),b.addParam("q","i32"),b.addParam("r","i32");const A=b.getCodeBuilder(),st=A.i32_const(t.alloc(d));b.addCode(A.call(r+"_prepareG1",A.getLocal("p"),A.i32_const(Ce))),b.addCode(A.call(r+"_prepareG2",A.getLocal("q"),A.i32_const(Qe))),b.addCode(A.call(r+"_millerLoop",A.i32_const(Ce),A.i32_const(Qe),st)),b.addCode(A.call(r+"_finalExponentiation",st,A.getLocal("r")))}function An(){const b=t.addFunction(D+"_inGroupAffine");b.addParam("p","i32"),b.setReturnType("i32");const A=b.getCodeBuilder(),st=[2001204777610833696708894912867952078278441409969503942666029068062015825245418932221343814564507832018947136279894n,2001204777610833696708894912867952078278441409969503942666029068062015825245418932221343814564507832018947136279893n],dt=4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939436n,it=[2973677408986561043442465346520108879172042883009249989176415018091420807192182638567116318576472649347015917690530n,2973677408986561043442465346520108879172042883009249989176415018091420807192182638567116318576472649347015917690530n],gt=A.i32_const(t.alloc([...se.bigInt2BytesLE(P(st[0]),c),...se.bigInt2BytesLE(P(st[1]),c)])),at=A.i32_const(t.alloc(se.bigInt2BytesLE(P(dt),c))),yt=A.i32_const(t.alloc([...se.bigInt2BytesLE(P(it[0]),c),...se.bigInt2BytesLE(P(it[1]),c)])),vt=A.i32_const(t.alloc(se.bigInt2BytesLE(C,8))),At=A.getLocal("p"),wt=A.i32_add(A.getLocal("p"),A.i32_const(f)),Lt=A.i32_const(t.alloc(g)),zt=A.i32_const(t.alloc(f)),jt=A.i32_const(t.alloc(f)),Bt=t.alloc(f*2),Ht=A.i32_const(Bt),Yt=A.i32_const(Bt),ce=A.i32_const(Bt),Gt=A.i32_const(Bt+g),Jt=A.i32_const(Bt+f),Dt=A.i32_const(Bt+f),ge=A.i32_const(Bt+f+g),qe=t.alloc(f*3),pn=A.i32_const(qe),Xi=A.i32_const(qe),Xr=A.i32_const(qe),Jr=A.i32_const(qe+g),qn=A.i32_const(qe+f),Or=A.i32_const(qe+f),Br=A.i32_const(qe+f+g),Ji=A.i32_const(qe+f*2);b.addCode(A.if(A.call(D+"_isZeroAffine",A.getLocal("p")),A.ret(A.i32_const(1))),A.if(A.i32_eqz(A.call(D+"_inCurveAffine",A.getLocal("p"))),A.ret(A.i32_const(0))),A.call(O+"_mul",At,gt,zt),A.call(O+"_mul",wt,gt,jt),A.call(O+"_mul1",zt,at,Yt),A.call(O+"_neg",jt,Jt),A.call(O+"_neg",zt,Xi),A.call(O+"_mul",jt,yt,qn),A.call(B+"_sub",ce,Gt,Lt),A.call(B+"_add",ce,Gt,Gt),A.call(B+"_copy",Lt,ce),A.call(B+"_sub",Dt,ge,Lt),A.call(B+"_add",Dt,ge,ge),A.call(B+"_copy",Lt,Dt),A.call(B+"_add",Xr,Jr,Lt),A.call(B+"_sub",Xr,Jr,Jr),A.call(B+"_copy",Lt,Xr),A.call(B+"_sub",Br,Or,Lt),A.call(B+"_add",Or,Br,Br),A.call(B+"_copy",Lt,Or),A.call(O+"_one",Ji),A.call(D+"_timesScalar",pn,vt,A.i32_const(8),pn),A.call(D+"_addMixed",pn,Ht,pn),A.ret(A.call(D+"_eqMixed",pn,A.getLocal("p"))));const hr=t.addFunction(D+"_inGroup");hr.addParam("pIn","i32"),hr.setReturnType("i32");const rr=hr.getCodeBuilder(),ti=rr.i32_const(t.alloc(f*2));hr.addCode(rr.call(D+"_toAffine",rr.getLocal("pIn"),ti),rr.ret(rr.call(D+"_inGroupAffine",ti)))}function _t(){const b=t.addFunction(M+"_inGroupAffine");b.addParam("p","i32"),b.setReturnType("i32");const A=b.getCodeBuilder(),st=4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939436n,dt=793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620350n,it=(C*C-1n)/3n,gt=A.i32_const(t.alloc(se.bigInt2BytesLE(P(st),c))),at=A.i32_const(t.alloc(se.bigInt2BytesLE(P(dt),c))),yt=A.i32_const(t.alloc(se.bigInt2BytesLE(it,16))),vt=A.getLocal("p"),At=A.i32_add(A.getLocal("p"),A.i32_const(g)),wt=t.alloc(g*3),Lt=A.i32_const(wt),zt=A.i32_const(wt),jt=A.i32_const(wt+g),Bt=t.alloc(g*2),Ht=A.i32_const(Bt),Yt=A.i32_const(Bt),ce=A.i32_const(Bt+g);b.addCode(A.if(A.call(M+"_isZeroAffine",A.getLocal("p")),A.ret(A.i32_const(1))),A.if(A.i32_eqz(A.call(M+"_inCurveAffine",A.getLocal("p"))),A.ret(A.i32_const(0))),A.call(B+"_mul",vt,gt,zt),A.call(B+"_copy",At,jt),A.call(B+"_mul",vt,at,Yt),A.call(B+"_copy",At,ce),A.call(M+"_doubleAffine",Lt,Lt),A.call(M+"_subMixed",Lt,A.getLocal("p"),Lt),A.call(M+"_subMixed",Lt,Ht,Lt),A.call(M+"_timesScalar",Lt,yt,A.i32_const(16),Lt),A.ret(A.call(M+"_eqMixed",Lt,Ht)));const Gt=t.addFunction(M+"_inGroup");Gt.addParam("pIn","i32"),Gt.setReturnType("i32");const Jt=Gt.getCodeBuilder(),Dt=Jt.i32_const(t.alloc(g*2));Gt.addCode(Jt.call(M+"_toAffine",Jt.getLocal("pIn"),Dt),Jt.ret(Jt.call(M+"_inGroupAffine",Dt)))}for(let b=0;b<10;b++)de(b),t.exportFunction(J+"_frobeniusMap"+b);_t(),An(),Zt(),Et(),mt(),Tt(),Kt(),Je(),De();for(let b=1;b<=5;b++)Ue(b),t.exportFunction(r+"_pairingEq"+b);gn(),t.exportFunction(r+"_pairing"),t.exportFunction(r+"_prepareG1"),t.exportFunction(r+"_prepareG2"),t.exportFunction(r+"_millerLoop"),t.exportFunction(r+"_finalExponentiation"),t.exportFunction(r+"_finalExponentiationOld"),t.exportFunction(r+"__cyclotomicSquare"),t.exportFunction(r+"__cyclotomicExp_w0"),t.exportFunction(G+"_mul1"),t.exportFunction(G+"_mul01"),t.exportFunction(J+"_mul014"),t.exportFunction(M+"_inGroupAffine"),t.exportFunction(M+"_inGroup"),t.exportFunction(D+"_inGroupAffine"),t.exportFunction(D+"_inGroup")},k9=L9,M9=B9;function h2(n){if(typeof n=="bigint"||n.eq!==void 0)return n.toString(10);if(n instanceof Uint8Array)return Al(n,0);if(Array.isArray(n))return n.map(h2);if(typeof n=="object"){const t={};return Object.keys(n).forEach(r=>{t[r]=h2(n[r])}),t}else return n}function g2(n){if(typeof n=="string"&&/^[0-9]+$/.test(n))return BigInt(n);if(typeof n=="string"&&/^0x[0-9a-fA-F]+$/.test(n))return BigInt(n);if(Array.isArray(n))return n.map(g2);if(typeof n=="object"){if(n===null)return null;const t={};return Object.keys(n).forEach(r=>{t[r]=g2(n[r])}),t}else return n}function F9(n){let t=BigInt(0),e=n.length,r=0;const i=new DataView(n.buffer,n.byteOffset,n.byteLength);for(;e>0;)e>=4?(e-=4,t+=BigInt(i.getUint32(e))<<BigInt(r*8),r+=4):e>=2?(e-=2,t+=BigInt(i.getUint16(e))<<BigInt(r*8),r+=2):(e-=1,t+=BigInt(i.getUint8(e))<<BigInt(r*8),r+=1);return t}function P9(n,t){let e=n;const r=new Uint8Array(t),i=new DataView(r.buffer);let a=t;for(;a>0;)a-4>=0?(a-=4,i.setUint32(a,Number(e&BigInt(4294967295))),e=e>>BigInt(32)):a-2>=0?(a-=2,i.setUint16(a,Number(e&BigInt(65535))),e=e>>BigInt(16)):(a-=1,i.setUint8(a,Number(e&BigInt(255))),e=e>>BigInt(8));if(e)throw new Error("Number does not fit in this length");return r}function T9(n){let t=BigInt(0),e=0;const r=new DataView(n.buffer,n.byteOffset,n.byteLength);for(;e<n.length;)e+4<=n.length?(t+=BigInt(r.getUint32(e,!0))<<BigInt(e*8),e+=4):e+2<=n.length?(t+=BigInt(r.getUint16(e,!0))<<BigInt(e*8),e+=2):(t+=BigInt(r.getUint8(e,!0))<<BigInt(e*8),e+=1);return t}function pC(n,t){let e=n;typeof t>"u"&&(t=Math.floor((Rl(n)-1)/8)+1,t==0&&(t=1));const r=new Uint8Array(t),i=new DataView(r.buffer);let a=0;for(;a<t;)a+4<=t?(i.setUint32(a,Number(e&BigInt(4294967295)),!0),a+=4,e=e>>BigInt(32)):a+2<=t?(i.setUint16(a,Number(e&BigInt(65535)),!0),a+=2,e=e>>BigInt(16)):(i.setUint8(a,Number(e&BigInt(255)),!0),a+=1,e=e>>BigInt(8));if(e)throw new Error("Number does not fit in this length");return r}function p2(n,t){if(typeof t=="bigint"||t.eq!==void 0)return t.toString(10);if(t instanceof Uint8Array)return n.toString(n.e(t));if(Array.isArray(t))return t.map(p2.bind(this,n));if(typeof t=="object"){const e={};return Object.keys(t).forEach(i=>{e[i]=p2(n,t[i])}),e}else return t}function m2(n,t){if(typeof t=="string"&&/^[0-9]+$/.test(t))return n.e(t);if(typeof t=="string"&&/^0x[0-9a-fA-F]+$/.test(t))return n.e(t);if(Array.isArray(t))return t.map(m2.bind(this,n));if(typeof t=="object"){if(t===null)return null;const e={};return Object.keys(t).forEach(i=>{e[i]=m2(n,t[i])}),e}else return t}const Hc=[];for(let n=0;n<256;n++)Hc[n]=R9(n,8);function R9(n,t){let e=0,r=n;for(let i=0;i<t;i++)e<<=1,e=e|r&1,r>>=1;return e}function mC(n,t){return(Hc[n>>>24]|Hc[n>>>16&255]<<8|Hc[n>>>8&255]<<16|Hc[n&255]<<24)>>>32-t}function Jn(n){return((n&4294901760)!==0?(n&=4294901760,16):0)|((n&4278255360)!==0?(n&=4278255360,8):0)|((n&4042322160)!==0?(n&=4042322160,4):0)|((n&3435973836)!==0?(n&=3435973836,2):0)|(n&2863311530)!==0}function _C(n,t){const e=n.byteLength/t,r=Jn(e);if(e!=1<<r)throw new Error("Invalid number of pointers");for(let i=0;i<e;i++){const a=mC(i,r);if(i>a){const l=n.slice(i*t,(i+1)*t);n.set(n.slice(a*t,(a+1)*t),i*t),n.set(l,a*t)}}}function K0(n,t){const e=new Uint8Array(t*n.length);for(let r=0;r<n.length;r++)e.set(n[r],r*t);return e}function gf(n,t){const e=n.byteLength/t,r=new Array(e);for(let i=0;i<e;i++)r[i]=n.slice(i*t,i*t+t);return r}var N9=Object.freeze({__proto__:null,array2buffer:K0,beBuff2int:F9,beInt2Buff:P9,bitReverse:mC,buffReverseBits:_C,buffer2array:gf,leBuff2int:T9,leInt2Buff:pC,log2:Jn,stringifyBigInts:h2,stringifyFElements:p2,unstringifyBigInts:g2,unstringifyFElements:m2});const yn=1<<30;class be{constructor(t){this.buffers=[],this.byteLength=t;for(let e=0;e<t;e+=yn){const r=Math.min(t-e,yn);this.buffers.push(new Uint8Array(r))}}slice(t,e){e===void 0&&(e=this.byteLength),t===void 0&&(t=0);const r=e-t,i=Math.floor(t/yn),a=Math.floor((t+r-1)/yn);if(i==a||r==0)return this.buffers[i].slice(t%yn,t%yn+r);let l,c=i,g=t%yn,f=r;for(;f>0;){const d=g+f>yn?yn-g:f,y=new Uint8Array(this.buffers[c].buffer,this.buffers[c].byteOffset+g,d);if(d==r)return y.slice();l||(r<=yn?l=new Uint8Array(r):l=new be(r)),l.set(y,r-f),f=f-d,c++,g=0}return l}set(t,e){e===void 0&&(e=0);const r=t.byteLength;if(r==0)return;const i=Math.floor(e/yn),a=Math.floor((e+r-1)/yn);if(i==a)return t instanceof be&&t.buffers.length==1?this.buffers[i].set(t.buffers[0],e%yn):this.buffers[i].set(t,e%yn);let l=i,c=e%yn,g=r;for(;g>0;){const f=c+g>yn?yn-c:g,d=t.slice(r-g,r-g+f);new Uint8Array(this.buffers[l].buffer,this.buffers[l].byteOffset+c,f).set(d),g=g-f,l++,c=0}}}function Fo(n,t,e,r){return async function(a){const l=Math.floor(a.byteLength/e);if(l*e!==a.byteLength)throw new Error("Invalid buffer size");const c=Math.floor(l/n.concurrency),g=[];for(let v=0;v<n.concurrency;v++){let w;if(v<n.concurrency-1?w=c:w=l-v*c,w==0)continue;const B=[{cmd:"ALLOCSET",var:0,buff:a.slice(v*c*e,v*c*e+w*e)},{cmd:"ALLOC",var:1,len:r*w},{cmd:"CALL",fnName:t,params:[{var:0},{val:w},{var:1}]},{cmd:"GET",out:0,var:1,len:r*w}];g.push(n.queueAction(B))}const f=await Promise.all(g);let d;a instanceof be?d=new be(l*r):d=new Uint8Array(l*r);let y=0;for(let v=0;v<f.length;v++)d.set(f[v][0],y),y+=f[v][0].byteLength;return d}}class R1{constructor(t,e,r,i){if(this.tm=t,this.prefix=e,this.p=i,this.n8=r,this.type="F1",this.m=1,this.half=Ba(i,gs),this.bitLength=Rl(i),this.mask=Qi(ff(gs,this.bitLength),gs),this.pOp1=t.alloc(r),this.pOp2=t.alloc(r),this.pOp3=t.alloc(r),this.tm.instance.exports[e+"_zero"](this.pOp1),this.zero=this.tm.getBuff(this.pOp1,this.n8),this.tm.instance.exports[e+"_one"](this.pOp1),this.one=this.tm.getBuff(this.pOp1,this.n8),this.negone=this.neg(this.one),this.two=this.add(this.one,this.one),this.n64=Math.floor(r/8),this.n32=Math.floor(r/4),this.n64*8!=this.n8)throw new Error("n8 must be a multiple of 8");this.half=Ba(this.p,gs),this.nqr=this.two;let a=this.exp(this.nqr,this.half);for(;!this.eq(a,this.negone);)this.nqr=this.add(this.nqr,this.one),a=this.exp(this.nqr,this.half);this.shift=this.mul(this.nqr,this.nqr),this.shiftInv=this.inv(this.shift),this.s=0;let l=Qi(this.p,gs);for(;!D0(l);)this.s=this.s+1,l=Ba(l,gs);this.w=[],this.w[this.s]=this.exp(this.nqr,l);for(let c=this.s-1;c>=0;c--)this.w[c]=this.square(this.w[c+1]);if(!this.eq(this.w[0],this.one))throw new Error("Error calculating roots of unity");this.batchToMontgomery=Fo(t,e+"_batchToMontgomery",this.n8,this.n8),this.batchFromMontgomery=Fo(t,e+"_batchFromMontgomery",this.n8,this.n8)}op2(t,e,r){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,r),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op2Bool(t,e,r){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,r),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2)}op1(t,e){return this.tm.setBuff(this.pOp1,e),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op1Bool(t,e){return this.tm.setBuff(this.pOp1,e),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3)}add(t,e){return this.op2("_add",t,e)}eq(t,e){return this.op2Bool("_eq",t,e)}isZero(t){return this.op1Bool("_isZero",t)}sub(t,e){return this.op2("_sub",t,e)}neg(t){return this.op1("_neg",t)}inv(t){return this.op1("_inverse",t)}toMontgomery(t){return this.op1("_toMontgomery",t)}fromMontgomery(t){return this.op1("_fromMontgomery",t)}mul(t,e){return this.op2("_mul",t,e)}div(t,e){return this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[this.prefix+"_inverse"](this.pOp2,this.pOp2),this.tm.instance.exports[this.prefix+"_mul"](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}square(t){return this.op1("_square",t)}isSquare(t){return this.op1Bool("_isSquare",t)}sqrt(t){return this.op1("_sqrt",t)}exp(t,e){return e instanceof Uint8Array||(e=Ra(Ke(e))),this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[this.prefix+"_exp"](this.pOp1,this.pOp2,e.byteLength,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}isNegative(t){return this.op1Bool("_isNegative",t)}e(t,e){if(t instanceof Uint8Array)return t;let r=Ke(t,e);QL(r)?(r=VL(r),f2(r,this.p)&&(r=di(r,this.p)),r=Qi(this.p,r)):f2(r,this.p)&&(r=di(r,this.p));const i=pC(r,this.n8);return this.toMontgomery(i)}toString(t,e){const r=this.fromMontgomery(t),i=Al(r,0);return XL(i,e)}fromRng(t){let e;const r=new Uint8Array(this.n8);do{e=JL;for(let i=0;i<this.n64;i++)e=U0(e,ff(t.nextU64(),64*i));e=z0(e,this.mask)}while(HL(e,this.p));return bl(r,0,e,this.n8),r}random(){return this.fromRng($0())}toObject(t){const e=this.fromMontgomery(t);return Al(e,0)}fromObject(t){const e=new Uint8Array(this.n8);return bl(e,0,t,this.n8),this.toMontgomery(e)}toRprLE(t,e,r){t.set(this.fromMontgomery(r),e)}toRprBE(t,e,r){const i=this.fromMontgomery(r);for(let a=0;a<this.n8/2;a++){const l=i[a];i[a]=i[this.n8-1-a],i[this.n8-1-a]=l}t.set(i,e)}fromRprLE(t,e){e=e||0;const r=t.slice(e,e+this.n8);return this.toMontgomery(r)}async batchInverse(t){let e=!1;const r=this.n8,i=this.n8;Array.isArray(t)?(t=K0(t,r),e=!0):t=t.slice(0,t.byteLength);const a=Math.floor(t.byteLength/r);if(a*r!==t.byteLength)throw new Error("Invalid buffer size");const l=Math.floor(a/this.tm.concurrency),c=[];for(let y=0;y<this.tm.concurrency;y++){let v;if(y<this.tm.concurrency-1?v=l:v=a-y*l,v==0)continue;const F=[{cmd:"ALLOCSET",var:0,buff:t.slice(y*l*r,y*l*r+v*r)},{cmd:"ALLOC",var:1,len:i*v},{cmd:"CALL",fnName:this.prefix+"_batchInverse",params:[{var:0},{val:r},{val:v},{var:1},{val:i}]},{cmd:"GET",out:0,var:1,len:i*v}];c.push(this.tm.queueAction(F))}const g=await Promise.all(c);let f;t instanceof be?f=new be(a*i):f=new Uint8Array(a*i);let d=0;for(let y=0;y<g.length;y++)f.set(g[y][0],d),d+=g[y][0].byteLength;return e?gf(f,i):f}}class N1{constructor(t,e,r){this.tm=t,this.prefix=e,this.F=r,this.type="F2",this.m=r.m*2,this.n8=this.F.n8*2,this.n32=this.F.n32*2,this.n64=this.F.n64*2,this.pOp1=t.alloc(r.n8*2),this.pOp2=t.alloc(r.n8*2),this.pOp3=t.alloc(r.n8*2),this.tm.instance.exports[e+"_zero"](this.pOp1),this.zero=t.getBuff(this.pOp1,this.n8),this.tm.instance.exports[e+"_one"](this.pOp1),this.one=t.getBuff(this.pOp1,this.n8),this.negone=this.neg(this.one),this.two=this.add(this.one,this.one)}op2(t,e,r){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,r),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op2Bool(t,e,r){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,r),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2)}op1(t,e){return this.tm.setBuff(this.pOp1,e),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op1Bool(t,e){return this.tm.setBuff(this.pOp1,e),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3)}add(t,e){return this.op2("_add",t,e)}eq(t,e){return this.op2Bool("_eq",t,e)}isZero(t){return this.op1Bool("_isZero",t)}sub(t,e){return this.op2("_sub",t,e)}neg(t){return this.op1("_neg",t)}inv(t){return this.op1("_inverse",t)}isNegative(t){return this.op1Bool("_isNegative",t)}toMontgomery(t){return this.op1("_toMontgomery",t)}fromMontgomery(t){return this.op1("_fromMontgomery",t)}mul(t,e){return this.op2("_mul",t,e)}mul1(t,e){return this.op2("_mul1",t,e)}div(t,e){return this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[this.prefix+"_inverse"](this.pOp2,this.pOp2),this.tm.instance.exports[this.prefix+"_mul"](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}square(t){return this.op1("_square",t)}isSquare(t){return this.op1Bool("_isSquare",t)}sqrt(t){return this.op1("_sqrt",t)}exp(t,e){return e instanceof Uint8Array||(e=Ra(Ke(e))),this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[this.prefix+"_exp"](this.pOp1,this.pOp2,e.byteLength,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}e(t,e){if(t instanceof Uint8Array)return t;if(Array.isArray(t)&&t.length==2){const r=this.F.e(t[0],e),i=this.F.e(t[1],e),a=new Uint8Array(this.F.n8*2);return a.set(r),a.set(i,this.F.n8*2),a}else throw new Error("invalid F2")}toString(t,e){const r=this.F.toString(t.slice(0,this.F.n8),e),i=this.F.toString(t.slice(this.F.n8),e);return`[${r}, ${i}]`}fromRng(t){const e=this.F.fromRng(t),r=this.F.fromRng(t),i=new Uint8Array(this.F.n8*2);return i.set(e),i.set(r,this.F.n8),i}random(){return this.fromRng($0())}toObject(t){const e=this.F.toObject(t.slice(0,this.F.n8)),r=this.F.toObject(t.slice(this.F.n8,this.F.n8*2));return[e,r]}fromObject(t){const e=new Uint8Array(this.F.n8*2),r=this.F.fromObject(t[0]),i=this.F.fromObject(t[1]);return e.set(r),e.set(i,this.F.n8),e}c1(t){return t.slice(0,this.F.n8)}c2(t){return t.slice(this.F.n8)}}class j9{constructor(t,e,r){this.tm=t,this.prefix=e,this.F=r,this.type="F3",this.m=r.m*3,this.n8=this.F.n8*3,this.n32=this.F.n32*3,this.n64=this.F.n64*3,this.pOp1=t.alloc(r.n8*3),this.pOp2=t.alloc(r.n8*3),this.pOp3=t.alloc(r.n8*3),this.tm.instance.exports[e+"_zero"](this.pOp1),this.zero=t.getBuff(this.pOp1,this.n8),this.tm.instance.exports[e+"_one"](this.pOp1),this.one=t.getBuff(this.pOp1,this.n8),this.negone=this.neg(this.one),this.two=this.add(this.one,this.one)}op2(t,e,r){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,r),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op2Bool(t,e,r){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,r),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2)}op1(t,e){return this.tm.setBuff(this.pOp1,e),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op1Bool(t,e){return this.tm.setBuff(this.pOp1,e),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3)}eq(t,e){return this.op2Bool("_eq",t,e)}isZero(t){return this.op1Bool("_isZero",t)}add(t,e){return this.op2("_add",t,e)}sub(t,e){return this.op2("_sub",t,e)}neg(t){return this.op1("_neg",t)}inv(t){return this.op1("_inverse",t)}isNegative(t){return this.op1Bool("_isNegative",t)}toMontgomery(t){return this.op1("_toMontgomery",t)}fromMontgomery(t){return this.op1("_fromMontgomery",t)}mul(t,e){return this.op2("_mul",t,e)}div(t,e){return this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[this.prefix+"_inverse"](this.pOp2,this.pOp2),this.tm.instance.exports[this.prefix+"_mul"](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}square(t){return this.op1("_square",t)}isSquare(t){return this.op1Bool("_isSquare",t)}sqrt(t){return this.op1("_sqrt",t)}exp(t,e){return e instanceof Uint8Array||(e=Ra(Ke(e))),this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[this.prefix+"_exp"](this.pOp1,this.pOp2,e.byteLength,this.pOp3),this.getBuff(this.pOp3,this.n8)}e(t,e){if(t instanceof Uint8Array)return t;if(Array.isArray(t)&&t.length==3){const r=this.F.e(t[0],e),i=this.F.e(t[1],e),a=this.F.e(t[2],e),l=new Uint8Array(this.F.n8*3);return l.set(r),l.set(i,this.F.n8),l.set(a,this.F.n8*2),l}else throw new Error("invalid F3")}toString(t,e){const r=this.F.toString(t.slice(0,this.F.n8),e),i=this.F.toString(t.slice(this.F.n8,this.F.n8*2),e),a=this.F.toString(t.slice(this.F.n8*2),e);return`[${r}, ${i}, ${a}]`}fromRng(t){const e=this.F.fromRng(t),r=this.F.fromRng(t),i=this.F.fromRng(t),a=new Uint8Array(this.F.n8*3);return a.set(e),a.set(r,this.F.n8),a.set(i,this.F.n8*2),a}random(){return this.fromRng($0())}toObject(t){const e=this.F.toObject(t.slice(0,this.F.n8)),r=this.F.toObject(t.slice(this.F.n8,this.F.n8*2)),i=this.F.toObject(t.slice(this.F.n8*2,this.F.n8*3));return[e,r,i]}fromObject(t){const e=new Uint8Array(this.F.n8*3),r=this.F.fromObject(t[0]),i=this.F.fromObject(t[1]),a=this.F.fromObject(t[2]);return e.set(r),e.set(i,this.F.n8),e.set(a,this.F.n8*2),e}c1(t){return t.slice(0,this.F.n8)}c2(t){return t.slice(this.F.n8,this.F.n8*2)}c3(t){return t.slice(this.F.n8*2)}}class j1{constructor(t,e,r,i,a,l){this.tm=t,this.prefix=e,this.F=r,this.pOp1=t.alloc(r.n8*3),this.pOp2=t.alloc(r.n8*3),this.pOp3=t.alloc(r.n8*3),this.tm.instance.exports[e+"_zero"](this.pOp1),this.zero=this.tm.getBuff(this.pOp1,r.n8*3),this.tm.instance.exports[e+"_zeroAffine"](this.pOp1),this.zeroAffine=this.tm.getBuff(this.pOp1,r.n8*2),this.one=this.tm.getBuff(i,r.n8*3),this.g=this.one,this.oneAffine=this.tm.getBuff(i,r.n8*2),this.gAffine=this.oneAffine,this.b=this.tm.getBuff(a,r.n8),l&&(this.cofactor=Ra(l)),this.negone=this.neg(this.one),this.two=this.add(this.one,this.one),this.batchLEMtoC=Fo(t,e+"_batchLEMtoC",r.n8*2,r.n8),this.batchLEMtoU=Fo(t,e+"_batchLEMtoU",r.n8*2,r.n8*2),this.batchCtoLEM=Fo(t,e+"_batchCtoLEM",r.n8,r.n8*2),this.batchUtoLEM=Fo(t,e+"_batchUtoLEM",r.n8*2,r.n8*2),this.batchToJacobian=Fo(t,e+"_batchToJacobian",r.n8*2,r.n8*3),this.batchToAffine=Fo(t,e+"_batchToAffine",r.n8*3,r.n8*2)}op2(t,e,r){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,r),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.F.n8*3)}op2bool(t,e,r){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,r),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2,this.pOp3)}op1(t,e){return this.tm.setBuff(this.pOp1,e),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,this.F.n8*3)}op1Affine(t,e){return this.tm.setBuff(this.pOp1,e),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,this.F.n8*2)}op1Bool(t,e){return this.tm.setBuff(this.pOp1,e),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3)}add(t,e){if(t.byteLength==this.F.n8*3){if(e.byteLength==this.F.n8*3)return this.op2("_add",t,e);if(e.byteLength==this.F.n8*2)return this.op2("_addMixed",t,e);throw new Error("invalid point size")}else if(t.byteLength==this.F.n8*2){if(e.byteLength==this.F.n8*3)return this.op2("_addMixed",e,t);if(e.byteLength==this.F.n8*2)return this.op2("_addAffine",t,e);throw new Error("invalid point size")}else throw new Error("invalid point size")}sub(t,e){if(t.byteLength==this.F.n8*3){if(e.byteLength==this.F.n8*3)return this.op2("_sub",t,e);if(e.byteLength==this.F.n8*2)return this.op2("_subMixed",t,e);throw new Error("invalid point size")}else if(t.byteLength==this.F.n8*2){if(e.byteLength==this.F.n8*3)return this.op2("_subMixed",e,t);if(e.byteLength==this.F.n8*2)return this.op2("_subAffine",t,e);throw new Error("invalid point size")}else throw new Error("invalid point size")}neg(t){if(t.byteLength==this.F.n8*3)return this.op1("_neg",t);if(t.byteLength==this.F.n8*2)return this.op1Affine("_negAffine",t);throw new Error("invalid point size")}double(t){if(t.byteLength==this.F.n8*3)return this.op1("_double",t);if(t.byteLength==this.F.n8*2)return this.op1("_doubleAffine",t);throw new Error("invalid point size")}isZero(t){if(t.byteLength==this.F.n8*3)return this.op1Bool("_isZero",t);if(t.byteLength==this.F.n8*2)return this.op1Bool("_isZeroAffine",t);throw new Error("invalid point size")}timesScalar(t,e){e instanceof Uint8Array||(e=Ra(Ke(e)));let r;if(t.byteLength==this.F.n8*3)r=this.prefix+"_timesScalar";else if(t.byteLength==this.F.n8*2)r=this.prefix+"_timesScalarAffine";else throw new Error("invalid point size");return this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[r](this.pOp1,this.pOp2,e.byteLength,this.pOp3),this.tm.getBuff(this.pOp3,this.F.n8*3)}timesFr(t,e){let r;if(t.byteLength==this.F.n8*3)r=this.prefix+"_timesFr";else if(t.byteLength==this.F.n8*2)r=this.prefix+"_timesFrAffine";else throw new Error("invalid point size");return this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[r](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.F.n8*3)}eq(t,e){if(t.byteLength==this.F.n8*3){if(e.byteLength==this.F.n8*3)return this.op2bool("_eq",t,e);if(e.byteLength==this.F.n8*2)return this.op2bool("_eqMixed",t,e);throw new Error("invalid point size")}else if(t.byteLength==this.F.n8*2){if(e.byteLength==this.F.n8*3)return this.op2bool("_eqMixed",e,t);if(e.byteLength==this.F.n8*2)return this.op2bool("_eqAffine",t,e);throw new Error("invalid point size")}else throw new Error("invalid point size")}toAffine(t){if(t.byteLength==this.F.n8*3)return this.op1Affine("_toAffine",t);if(t.byteLength==this.F.n8*2)return t;throw new Error("invalid point size")}toJacobian(t){if(t.byteLength==this.F.n8*3)return t;if(t.byteLength==this.F.n8*2)return this.op1("_toJacobian",t);throw new Error("invalid point size")}toRprUncompressed(t,e,r){if(this.tm.setBuff(this.pOp1,r),r.byteLength==this.F.n8*3)this.tm.instance.exports[this.prefix+"_toAffine"](this.pOp1,this.pOp1);else if(r.byteLength!=this.F.n8*2)throw new Error("invalid point size");this.tm.instance.exports[this.prefix+"_LEMtoU"](this.pOp1,this.pOp1);const i=this.tm.getBuff(this.pOp1,this.F.n8*2);t.set(i,e)}fromRprUncompressed(t,e){const r=t.slice(e,e+this.F.n8*2);return this.tm.setBuff(this.pOp1,r),this.tm.instance.exports[this.prefix+"_UtoLEM"](this.pOp1,this.pOp1),this.tm.getBuff(this.pOp1,this.F.n8*2)}toRprCompressed(t,e,r){if(this.tm.setBuff(this.pOp1,r),r.byteLength==this.F.n8*3)this.tm.instance.exports[this.prefix+"_toAffine"](this.pOp1,this.pOp1);else if(r.byteLength!=this.F.n8*2)throw new Error("invalid point size");this.tm.instance.exports[this.prefix+"_LEMtoC"](this.pOp1,this.pOp1);const i=this.tm.getBuff(this.pOp1,this.F.n8);t.set(i,e)}fromRprCompressed(t,e){const r=t.slice(e,e+this.F.n8);return this.tm.setBuff(this.pOp1,r),this.tm.instance.exports[this.prefix+"_CtoLEM"](this.pOp1,this.pOp2),this.tm.getBuff(this.pOp2,this.F.n8*2)}toUncompressed(t){const e=new Uint8Array(this.F.n8*2);return this.toRprUncompressed(e,0,t),e}toRprLEM(t,e,r){if(r.byteLength==this.F.n8*2){t.set(r,e);return}else if(r.byteLength==this.F.n8*3){this.tm.setBuff(this.pOp1,r),this.tm.instance.exports[this.prefix+"_toAffine"](this.pOp1,this.pOp1);const i=this.tm.getBuff(this.pOp1,this.F.n8*2);t.set(i,e)}else throw new Error("invalid point size")}fromRprLEM(t,e){return e=e||0,t.slice(e,e+this.F.n8*2)}toString(t,e){if(t.byteLength==this.F.n8*3){const r=this.F.toString(t.slice(0,this.F.n8),e),i=this.F.toString(t.slice(this.F.n8,this.F.n8*2),e),a=this.F.toString(t.slice(this.F.n8*2),e);return`[ ${r}, ${i}, ${a} ]`}else if(t.byteLength==this.F.n8*2){const r=this.F.toString(t.slice(0,this.F.n8),e),i=this.F.toString(t.slice(this.F.n8),e);return`[ ${r}, ${i} ]`}else throw new Error("invalid point size")}isValid(t){if(this.isZero(t))return!0;const e=this.F,r=this.toAffine(t),i=r.slice(0,this.F.n8),a=r.slice(this.F.n8,this.F.n8*2),l=e.add(e.mul(e.square(i),i),this.b),c=e.square(a);return e.eq(l,c)}fromRng(t){const e=this.F;let r=[],i,a;do r[0]=e.fromRng(t),i=t.nextBool(),a=e.add(e.mul(e.square(r[0]),r[0]),this.b);while(!e.isSquare(a));r[1]=e.sqrt(a);const l=e.isNegative(r[1]);i^l&&(r[1]=e.neg(r[1]));let c=new Uint8Array(this.F.n8*2);return c.set(r[0]),c.set(r[1],this.F.n8),this.cofactor&&(c=this.timesScalar(c,this.cofactor)),c}toObject(t){if(this.isZero(t))return[this.F.toObject(this.F.zero),this.F.toObject(this.F.one),this.F.toObject(this.F.zero)];const e=this.F.toObject(t.slice(0,this.F.n8)),r=this.F.toObject(t.slice(this.F.n8,this.F.n8*2));let i;return t.byteLength==this.F.n8*3?i=this.F.toObject(t.slice(this.F.n8*2,this.F.n8*3)):i=this.F.toObject(this.F.one),[e,r,i]}fromObject(t){const e=this.F.fromObject(t[0]),r=this.F.fromObject(t[1]);let i;if(t.length==3?i=this.F.fromObject(t[2]):i=this.F.one,this.F.isZero(i,this.F.one))return this.zeroAffine;if(this.F.eq(i,this.F.one)){const a=new Uint8Array(this.F.n8*2);return a.set(e),a.set(r,this.F.n8),a}else{const a=new Uint8Array(this.F.n8*3);return a.set(e),a.set(r,this.F.n8),a.set(i,this.F.n8*2),a}}e(t){return t instanceof Uint8Array?t:this.fromObject(t)}x(t){return this.toAffine(t).slice(0,this.F.n8)}y(t){return this.toAffine(t).slice(this.F.n8)}}function D9(n){let e,r;async function i(d){const y=new Uint8Array(d.code),v=await WebAssembly.compile(y);r=new WebAssembly.Memory({initial:d.init,maximum:32767}),e=await WebAssembly.instantiate(v,{env:{memory:r}})}function a(d){const y=new Uint32Array(r.buffer,0,1);for(;y[0]&3;)y[0]++;const v=y[0];if(y[0]+=d,y[0]+d>r.buffer.byteLength){const w=r.buffer.byteLength/65536;let F=Math.floor((y[0]+d)/65536)+1;F>32767&&(F=32767),r.grow(F-w)}return v}function l(d){const y=a(d.byteLength);return g(y,d),y}function c(d,y){const v=new Uint8Array(r.buffer);return new Uint8Array(v.buffer,v.byteOffset+d,y)}function g(d,y){new Uint8Array(r.buffer).set(new Uint8Array(y),d)}function f(d){if(d[0].cmd=="INIT")return i(d[0]);const y={vars:[],out:[]},w=new Uint32Array(r.buffer,0,1)[0];for(let B=0;B<d.length;B++)switch(d[B].cmd){case"ALLOCSET":y.vars[d[B].var]=l(d[B].buff);break;case"ALLOC":y.vars[d[B].var]=a(d[B].len);break;case"SET":g(y.vars[d[B].var],d[B].buff);break;case"CALL":{const x=[];for(let M=0;M<d[B].params.length;M++){const O=d[B].params[M];typeof O.var<"u"?x.push(y.vars[O.var]+(O.offset||0)):typeof O.val<"u"&&x.push(O.val)}e.exports[d[B].fnName](...x);break}case"GET":y.out[d[B].out]=c(y.vars[d[B].var],d[B].len).slice();break;default:throw new Error("Invalid cmd")}const F=new Uint32Array(r.buffer,0,1);return F[0]=w,y.out}return f}const up=25;class D1{constructor(){this.promise=new Promise((t,e)=>{this.reject=e,this.resolve=t})}}function U9(n){return new Promise(t=>setTimeout(t,n))}let _2;const U1=`(function thread(self) {
    const MAXMEM = 32767;
    let instance;
    let memory;

    if (self) {
        self.onmessage = function(e) {
            let data;
            if (e.data) {
                data = e.data;
            } else {
                data = e;
            }

            if (data[0].cmd == "INIT") {
                init(data[0]).then(function() {
                    self.postMessage(data.result);
                });
            } else if (data[0].cmd == "TERMINATE") {
                self.close();
            } else {
                const res = runTask(data);
                self.postMessage(res);
            }
        };
    }

    async function init(data) {
        const code = new Uint8Array(data.code);
        const wasmModule = await WebAssembly.compile(code);
        memory = new WebAssembly.Memory({initial:data.init, maximum: MAXMEM});

        instance = await WebAssembly.instantiate(wasmModule, {
            env: {
                "memory": memory
            }
        });
    }



    function alloc(length) {
        const u32 = new Uint32Array(memory.buffer, 0, 1);
        while (u32[0] & 3) u32[0]++;  // Return always aligned pointers
        const res = u32[0];
        u32[0] += length;
        if (u32[0] + length > memory.buffer.byteLength) {
            const currentPages = memory.buffer.byteLength / 0x10000;
            let requiredPages = Math.floor((u32[0] + length) / 0x10000)+1;
            if (requiredPages>MAXMEM) requiredPages=MAXMEM;
            memory.grow(requiredPages-currentPages);
        }
        return res;
    }

    function allocBuffer(buffer) {
        const p = alloc(buffer.byteLength);
        setBuffer(p, buffer);
        return p;
    }

    function getBuffer(pointer, length) {
        const u8 = new Uint8Array(memory.buffer);
        return new Uint8Array(u8.buffer, u8.byteOffset + pointer, length);
    }

    function setBuffer(pointer, buffer) {
        const u8 = new Uint8Array(memory.buffer);
        u8.set(new Uint8Array(buffer), pointer);
    }

    function runTask(task) {
        if (task[0].cmd == "INIT") {
            return init(task[0]);
        }
        const ctx = {
            vars: [],
            out: []
        };
        const u32a = new Uint32Array(memory.buffer, 0, 1);
        const oldAlloc = u32a[0];
        for (let i=0; i<task.length; i++) {
            switch (task[i].cmd) {
            case "ALLOCSET":
                ctx.vars[task[i].var] = allocBuffer(task[i].buff);
                break;
            case "ALLOC":
                ctx.vars[task[i].var] = alloc(task[i].len);
                break;
            case "SET":
                setBuffer(ctx.vars[task[i].var], task[i].buff);
                break;
            case "CALL": {
                const params = [];
                for (let j=0; j<task[i].params.length; j++) {
                    const p = task[i].params[j];
                    if (typeof p.var !== "undefined") {
                        params.push(ctx.vars[p.var] + (p.offset || 0));
                    } else if (typeof p.val != "undefined") {
                        params.push(p.val);
                    }
                }
                instance.exports[task[i].fnName](...params);
                break;
            }
            case "GET":
                ctx.out[task[i].out] = getBuffer(ctx.vars[task[i].var], task[i].len).slice();
                break;
            default:
                throw new Error("Invalid cmd");
            }
        }
        const u32b = new Uint32Array(memory.buffer, 0, 1);
        u32b[0] = oldAlloc;
        return ctx.out;
    }


    return runTask;
})(self)`;if(globalThis?.Blob){const n=new TextEncoder().encode(U1),t=new Blob([n],{type:"application/javascript"});_2=URL.createObjectURL(t)}else _2="data:application/javascript;base64,"+globalThis.btoa(U1);async function z9(n,t){const e=new $9;e.memory=new WebAssembly.Memory({initial:up}),e.u8=new Uint8Array(e.memory.buffer),e.u32=new Uint32Array(e.memory.buffer);const r=await WebAssembly.compile(n.code);if(e.instance=await WebAssembly.instantiate(r,{env:{memory:e.memory}}),globalThis?.Worker||(t=!0),e.singleThread=t,e.initalPFree=e.u32[0],e.pq=n.pq,e.pr=n.pr,e.pG1gen=n.pG1gen,e.pG1zero=n.pG1zero,e.pG2gen=n.pG2gen,e.pG2zero=n.pG2zero,e.pOneT=n.pOneT,t)e.code=n.code,e.taskManager=D9(),await e.taskManager([{cmd:"INIT",init:up,code:e.code.slice()}]),e.concurrency=1;else{e.workers=[],e.pendingDeferreds=[],e.working=[];let a=2;typeof navigator=="object"&&navigator.hardwareConcurrency&&(a=navigator.hardwareConcurrency),a==0&&(a=2),a>64&&(a=64),e.concurrency=a;for(let c=0;c<a;c++)e.workers[c]=new Worker(_2),e.workers[c].addEventListener("message",i(c)),e.working[c]=!1;const l=[];for(let c=0;c<e.workers.length;c++){const g=n.code.slice();l.push(e.postAction(c,[{cmd:"INIT",init:up,code:g}],[g.buffer]))}await Promise.all(l)}return e;function i(a){return function(l){let c;l&&l.data?c=l.data:c=l,e.working[a]=!1,e.pendingDeferreds[a].resolve(c),e.processWorks()}}}class $9{constructor(){this.actionQueue=[],this.oldPFree=0}startSyncOp(){if(this.oldPFree!=0)throw new Error("Sync operation in progress");this.oldPFree=this.u32[0]}endSyncOp(){if(this.oldPFree==0)throw new Error("No sync operation in progress");this.u32[0]=this.oldPFree,this.oldPFree=0}postAction(t,e,r,i){if(this.working[t])throw new Error("Posting a job t a working worker");return this.working[t]=!0,this.pendingDeferreds[t]=i||new D1,this.workers[t].postMessage(e,r),this.pendingDeferreds[t].promise}processWorks(){for(let t=0;t<this.workers.length&&this.actionQueue.length>0;t++)if(this.working[t]==!1){const e=this.actionQueue.shift();this.postAction(t,e.data,e.transfers,e.deferred)}}queueAction(t,e){const r=new D1;if(this.singleThread){const i=this.taskManager(t);r.resolve(i)}else this.actionQueue.push({data:t,transfers:e,deferred:r}),this.processWorks();return r.promise}resetMemory(){this.u32[0]=this.initalPFree}allocBuff(t){const e=this.alloc(t.byteLength);return this.setBuff(e,t),e}getBuff(t,e){return this.u8.slice(t,t+e)}setBuff(t,e){this.u8.set(new Uint8Array(e),t)}alloc(t){for(;this.u32[0]&3;)this.u32[0]++;const e=this.u32[0];return this.u32[0]+=t,e}async terminate(){for(let t=0;t<this.workers.length;t++)this.workers[t].postMessage([{cmd:"TERMINATE"}]);await U9(200)}}function dp(n,t){const e=n[t],r=n.Fr,i=n.tm;n[t].batchApplyKey=async function(a,l,c,g,f){g=g||"affine",f=f||"affine";let d,y,v,w,F;if(t=="G1")g=="jacobian"?(v=e.F.n8*3,d="g1m_batchApplyKey"):(v=e.F.n8*2,d="g1m_batchApplyKeyMixed"),w=e.F.n8*3,f=="jacobian"?F=e.F.n8*3:(y="g1m_batchToAffine",F=e.F.n8*2);else if(t=="G2")g=="jacobian"?(v=e.F.n8*3,d="g2m_batchApplyKey"):(v=e.F.n8*2,d="g2m_batchApplyKeyMixed"),w=e.F.n8*3,f=="jacobian"?F=e.F.n8*3:(y="g2m_batchToAffine",F=e.F.n8*2);else if(t=="Fr")d="frm_batchApplyKey",v=e.n8,w=e.n8,F=e.n8;else throw new Error("Invalid group: "+t);const B=Math.floor(a.byteLength/v),x=Math.floor(B/i.concurrency),M=[];c=r.e(c);let O=r.e(l);for(let P=0;P<i.concurrency;P++){let _;if(P<i.concurrency-1?_=x:_=B-P*x,_==0)continue;const I=[];I.push({cmd:"ALLOCSET",var:0,buff:a.slice(P*x*v,P*x*v+_*v)}),I.push({cmd:"ALLOCSET",var:1,buff:O}),I.push({cmd:"ALLOCSET",var:2,buff:c}),I.push({cmd:"ALLOC",var:3,len:_*Math.max(w,F)}),I.push({cmd:"CALL",fnName:d,params:[{var:0},{val:_},{var:1},{var:2},{var:3}]}),y&&I.push({cmd:"CALL",fnName:y,params:[{var:3},{val:_},{var:3}]}),I.push({cmd:"GET",out:0,var:3,len:_*F}),M.push(i.queueAction(I)),O=r.mul(O,r.exp(c,_))}const $=await Promise.all(M);let D;a instanceof be?D=new be(B*F):D=new Uint8Array(B*F);let V=0;for(let P=0;P<$.length;P++)D.set($[P][0],V),V+=$[P][0].byteLength;return D}}function Q9(n){const t=n.tm;n.pairing=function(r,i){t.startSyncOp();const a=t.allocBuff(n.G1.toJacobian(r)),l=t.allocBuff(n.G2.toJacobian(i)),c=t.alloc(n.Gt.n8);t.instance.exports[n.name+"_pairing"](a,l,c);const g=t.getBuff(c,n.Gt.n8);return t.endSyncOp(),g},n.pairingEq=async function(){let r,i;arguments.length%2==1?(r=arguments[arguments.length-1],i=(arguments.length-1)/2):(r=n.Gt.one,i=arguments.length/2);const a=[];for(let d=0;d<i;d++){const y=[],v=n.G1.toJacobian(arguments[d*2]);y.push({cmd:"ALLOCSET",var:0,buff:v}),y.push({cmd:"ALLOC",var:1,len:n.prePSize});const w=n.G2.toJacobian(arguments[d*2+1]);y.push({cmd:"ALLOCSET",var:2,buff:w}),y.push({cmd:"ALLOC",var:3,len:n.preQSize}),y.push({cmd:"ALLOC",var:4,len:n.Gt.n8}),y.push({cmd:"CALL",fnName:n.name+"_prepareG1",params:[{var:0},{var:1}]}),y.push({cmd:"CALL",fnName:n.name+"_prepareG2",params:[{var:2},{var:3}]}),y.push({cmd:"CALL",fnName:n.name+"_millerLoop",params:[{var:1},{var:3},{var:4}]}),y.push({cmd:"GET",out:0,var:4,len:n.Gt.n8}),a.push(t.queueAction(y))}const l=await Promise.all(a);t.startSyncOp();const c=t.alloc(n.Gt.n8);t.instance.exports.ftm_one(c);for(let d=0;d<l.length;d++){const y=t.allocBuff(l[d][0]);t.instance.exports.ftm_mul(c,y,c)}t.instance.exports[n.name+"_finalExponentiation"](c,c);const g=t.allocBuff(r),f=!!t.instance.exports.ftm_eq(c,g);return t.endSyncOp(),f},n.prepareG1=function(e){this.tm.startSyncOp();const r=this.tm.allocBuff(e),i=this.tm.alloc(this.prePSize);this.tm.instance.exports[this.name+"_prepareG1"](r,i);const a=this.tm.getBuff(i,this.prePSize);return this.tm.endSyncOp(),a},n.prepareG2=function(e){this.tm.startSyncOp();const r=this.tm.allocBuff(e),i=this.tm.alloc(this.preQSize);this.tm.instance.exports[this.name+"_prepareG2"](r,i);const a=this.tm.getBuff(i,this.preQSize);return this.tm.endSyncOp(),a},n.millerLoop=function(e,r){this.tm.startSyncOp();const i=this.tm.allocBuff(e),a=this.tm.allocBuff(r),l=this.tm.alloc(this.Gt.n8);this.tm.instance.exports[this.name+"_millerLoop"](i,a,l);const c=this.tm.getBuff(l,this.Gt.n8);return this.tm.endSyncOp(),c},n.finalExponentiation=function(e){this.tm.startSyncOp();const r=this.tm.allocBuff(e),i=this.tm.alloc(this.Gt.n8);this.tm.instance.exports[this.name+"_finalExponentiation"](r,i);const a=this.tm.getBuff(i,this.Gt.n8);return this.tm.endSyncOp(),a}}const z1=[1,1,1,1,2,3,4,5,6,7,7,8,9,10,11,12,13,13,14,15,16,16,17,17,17,17,17,17,17,17,17,17];function $1(n,t){const e=n[t],r=e.tm;async function i(l,c,g,f,d){if(!(l instanceof Uint8Array))throw f&&f.error(`${d} _multiExpChunk buffBases is not Uint8Array`),new Error(`${d} _multiExpChunk buffBases is not Uint8Array`);if(!(c instanceof Uint8Array))throw f&&f.error(`${d} _multiExpChunk buffScalars is not Uint8Array`),new Error(`${d} _multiExpChunk buffScalars is not Uint8Array`);g=g||"affine";let y,v;if(t=="G1")g=="affine"?(v="g1m_multiexpAffine_chunk",y=e.F.n8*2):(v="g1m_multiexp_chunk",y=e.F.n8*3);else if(t=="G2")g=="affine"?(v="g2m_multiexpAffine_chunk",y=e.F.n8*2):(v="g2m_multiexp_chunk",y=e.F.n8*3);else throw new Error("Invalid group");const w=Math.floor(l.byteLength/y);if(w==0)return e.zero;const F=Math.floor(c.byteLength/w);if(F*w!=c.byteLength)throw new Error("Scalar size does not match");const B=z1[Jn(w)],x=Math.floor((F*8-1)/B)+1,M=[];for(let D=0;D<x;D++){const V=[{cmd:"ALLOCSET",var:0,buff:l},{cmd:"ALLOCSET",var:1,buff:c},{cmd:"ALLOC",var:2,len:e.F.n8*3},{cmd:"CALL",fnName:v,params:[{var:0},{var:1},{val:F},{val:w},{val:D*B},{val:Math.min(F*8-D*B,B)},{var:2}]},{cmd:"GET",out:0,var:2,len:e.F.n8*3}];M.push(e.tm.queueAction(V))}const O=await Promise.all(M);let $=e.zero;for(let D=O.length-1;D>=0;D--){if(!e.isZero($))for(let V=0;V<B;V++)$=e.double($);$=e.add($,O[D][0])}return $}async function a(l,c,g,f,d){let w;if(t=="G1")g=="affine"?w=e.F.n8*2:w=e.F.n8*3;else if(t=="G2")g=="affine"?w=e.F.n8*2:w=e.F.n8*3;else throw new Error("Invalid group");const F=Math.floor(l.byteLength/w);if(F==0)return e.zero;const B=Math.floor(c.byteLength/F);if(B*F!=c.byteLength)throw new Error("Scalar size does not match");const x=z1[Jn(F)],M=Math.floor((B*8-1)/x)+1;let O;O=Math.floor(F/(r.concurrency/M)),O>4194304&&(O=4194304),O<1024&&(O=1024);const $=[];for(let P=0;P<F;P+=O){f&&f.debug(`Multiexp start: ${d}: ${P}/${F}`);const _=Math.min(F-P,O),I=l.slice(P*w,(P+_)*w),nt=c.slice(P*B,(P+_)*B);$.push(i(I,nt,g,f,d).then(rt=>(f&&f.debug(`Multiexp end: ${d}: ${P}/${F}`),rt)))}const D=await Promise.all($);let V=e.zero;for(let P=D.length-1;P>=0;P--)V=e.add(V,D[P]);return V}e.multiExp=async function(c,g,f,d){return await a(c,g,"jacobian",f,d)},e.multiExpAffine=async function(c,g,f,d){return await a(c,g,"affine",f,d)}}function fp(n,t){const e=n[t],r=n.Fr,i=e.tm;async function a(f,d,y,v,w,F){y=y||"affine",v=v||"affine";const B=14;let x,M,O,$,D,V,P,_;t=="G1"?(y=="affine"?(x=e.F.n8*2,$="g1m_batchToJacobian"):x=e.F.n8*3,M=e.F.n8*3,d&&(_="g1m_fftFinal"),P="g1m_fftJoin",V="g1m_fftMix",v=="affine"?(O=e.F.n8*2,D="g1m_batchToAffine"):O=e.F.n8*3):t=="G2"?(y=="affine"?(x=e.F.n8*2,$="g2m_batchToJacobian"):x=e.F.n8*3,M=e.F.n8*3,d&&(_="g2m_fftFinal"),P="g2m_fftJoin",V="g2m_fftMix",v=="affine"?(O=e.F.n8*2,D="g2m_batchToAffine"):O=e.F.n8*3):t=="Fr"&&(x=e.n8,M=e.n8,O=e.n8,d&&(_="frm_fftFinal"),V="frm_fftMix",P="frm_fftJoin");let I=!1;Array.isArray(f)?(f=K0(f,x),I=!0):f=f.slice(0,f.byteLength);const nt=f.byteLength/x,rt=Jn(nt);if(1<<rt!=nt)throw new Error("fft must be multiple of 2");if(rt==r.s+1){let G;return d?G=await c(f,y,v,w,F):G=await l(f,y,v,w,F),I?gf(G,O):G}let H;d&&(H=r.inv(r.e(nt)));let Q;_C(f,x);let k,W=Math.min(1<<B,nt),tt=nt/W;for(;tt<i.concurrency&&W>=16;)tt*=2,W/=2;const ct=Jn(W),ut=[];for(let G=0;G<tt;G++){w&&w.debug(`${F}: fft ${rt} mix start: ${G}/${tt}`);const X=[];X.push({cmd:"ALLOC",var:0,len:M*W});const J=f.slice(W*G*x,W*(G+1)*x);X.push({cmd:"SET",var:0,buff:J}),$&&X.push({cmd:"CALL",fnName:$,params:[{var:0},{val:W},{var:0}]});for(let q=1;q<=ct;q++)X.push({cmd:"CALL",fnName:V,params:[{var:0},{val:W},{val:q}]});ct==rt?(_&&(X.push({cmd:"ALLOCSET",var:1,buff:H}),X.push({cmd:"CALL",fnName:_,params:[{var:0},{val:W},{var:1}]})),D&&X.push({cmd:"CALL",fnName:D,params:[{var:0},{val:W},{var:0}]}),X.push({cmd:"GET",out:0,var:0,len:W*O})):X.push({cmd:"GET",out:0,var:0,len:M*W}),ut.push(i.queueAction(X).then(q=>(w&&w.debug(`${F}: fft ${rt} mix end: ${G}/${tt}`),q)))}k=await Promise.all(ut);for(let G=0;G<tt;G++)k[G]=k[G][0];for(let G=ct+1;G<=rt;G++){w&&w.debug(`${F}: fft  ${rt}  join: ${G}/${rt}`);const X=1<<rt-G,J=tt/X,q=[];for(let St=0;St<X;St++)for(let Ct=0;Ct<J/2;Ct++){const E=r.exp(r.w[G],Ct*W),h=r.w[G],R=St*J+Ct,p=St*J+Ct+J/2,U=[];U.push({cmd:"ALLOCSET",var:0,buff:k[R]}),U.push({cmd:"ALLOCSET",var:1,buff:k[p]}),U.push({cmd:"ALLOCSET",var:2,buff:E}),U.push({cmd:"ALLOCSET",var:3,buff:h}),U.push({cmd:"CALL",fnName:P,params:[{var:0},{var:1},{val:W},{var:2},{var:3}]}),G==rt?(_&&(U.push({cmd:"ALLOCSET",var:4,buff:H}),U.push({cmd:"CALL",fnName:_,params:[{var:0},{val:W},{var:4}]}),U.push({cmd:"CALL",fnName:_,params:[{var:1},{val:W},{var:4}]})),D&&(U.push({cmd:"CALL",fnName:D,params:[{var:0},{val:W},{var:0}]}),U.push({cmd:"CALL",fnName:D,params:[{var:1},{val:W},{var:1}]})),U.push({cmd:"GET",out:0,var:0,len:W*O}),U.push({cmd:"GET",out:1,var:1,len:W*O})):(U.push({cmd:"GET",out:0,var:0,len:W*M}),U.push({cmd:"GET",out:1,var:1,len:W*M})),q.push(i.queueAction(U).then(T=>(w&&w.debug(`${F}: fft ${rt} join  ${G}/${rt}  ${St+1}/${X} ${Ct}/${J/2}`),T)))}const lt=await Promise.all(q);for(let St=0;St<X;St++)for(let Ct=0;Ct<J/2;Ct++){const E=St*J+Ct,h=St*J+Ct+J/2,R=lt.shift();k[E]=R[0],k[h]=R[1]}}if(f instanceof be?Q=new be(nt*O):Q=new Uint8Array(nt*O),d){Q.set(k[0].slice((W-1)*O));let G=O;for(let X=tt-1;X>0;X--)Q.set(k[X],G),G+=W*O,delete k[X];Q.set(k[0].slice(0,(W-1)*O),G),delete k[0]}else for(let G=0;G<tt;G++)Q.set(k[G],W*O*G),delete k[G];return I?gf(Q,O):Q}async function l(f,d,y,v,w){let F,B;F=f.slice(0,f.byteLength/2),B=f.slice(f.byteLength/2,f.byteLength);const x=[];[F,B]=await g(F,B,"fftJoinExt",r.one,r.shift,d,"jacobian",v,w),x.push(a(F,!1,"jacobian",y,v,w)),x.push(a(B,!1,"jacobian",y,v,w));const M=await Promise.all(x);let O;return M[0].byteLength>1<<28?O=new be(M[0].byteLength*2):O=new Uint8Array(M[0].byteLength*2),O.set(M[0]),O.set(M[1],M[0].byteLength),O}async function c(f,d,y,v,w){let F,B;F=f.slice(0,f.byteLength/2),B=f.slice(f.byteLength/2,f.byteLength);const x=[];x.push(a(F,!0,d,"jacobian",v,w)),x.push(a(B,!0,d,"jacobian",v,w)),[F,B]=await Promise.all(x);const M=await g(F,B,"fftJoinExtInv",r.one,r.shiftInv,"jacobian",y,v,w);let O;return M[0].byteLength>1<<28?O=new be(M[0].byteLength*2):O=new Uint8Array(M[0].byteLength*2),O.set(M[0]),O.set(M[1],M[0].byteLength),O}async function g(f,d,y,v,w,F,B,x,M){let D,V,P,_,I,nt;if(t=="G1")F=="affine"?(I=e.F.n8*2,V="g1m_batchToJacobian"):I=e.F.n8*3,nt=e.F.n8*3,D="g1m_"+y,B=="affine"?(P="g1m_batchToAffine",_=e.F.n8*2):_=e.F.n8*3;else if(t=="G2")F=="affine"?(I=e.F.n8*2,V="g2m_batchToJacobian"):I=e.F.n8*3,D="g2m_"+y,nt=e.F.n8*3,B=="affine"?(P="g2m_batchToAffine",_=e.F.n8*2):_=e.F.n8*3;else if(t=="Fr")I=r.n8,_=r.n8,nt=r.n8,D="frm_"+y;else throw new Error("Invalid group");if(f.byteLength!=d.byteLength)throw new Error("Invalid buffer size");const rt=Math.floor(f.byteLength/I);if(rt!=1<<Jn(rt))throw new Error("Invalid number of points");let H=Math.floor(rt/i.concurrency);H<16&&(H=16),H>65536&&(H=65536);const Q=[];for(let ut=0;ut<rt;ut+=H){x&&x.debug(`${M}: fftJoinExt Start: ${ut}/${rt}`);const G=Math.min(rt-ut,H),X=r.mul(v,r.exp(w,ut)),J=[],q=f.slice(ut*I,(ut+G)*I),lt=d.slice(ut*I,(ut+G)*I);J.push({cmd:"ALLOC",var:0,len:nt*G}),J.push({cmd:"SET",var:0,buff:q}),J.push({cmd:"ALLOC",var:1,len:nt*G}),J.push({cmd:"SET",var:1,buff:lt}),J.push({cmd:"ALLOCSET",var:2,buff:X}),J.push({cmd:"ALLOCSET",var:3,buff:w}),V&&(J.push({cmd:"CALL",fnName:V,params:[{var:0},{val:G},{var:0}]}),J.push({cmd:"CALL",fnName:V,params:[{var:1},{val:G},{var:1}]})),J.push({cmd:"CALL",fnName:D,params:[{var:0},{var:1},{val:G},{var:2},{var:3},{val:r.s}]}),P&&(J.push({cmd:"CALL",fnName:P,params:[{var:0},{val:G},{var:0}]}),J.push({cmd:"CALL",fnName:P,params:[{var:1},{val:G},{var:1}]})),J.push({cmd:"GET",out:0,var:0,len:G*_}),J.push({cmd:"GET",out:1,var:1,len:G*_}),Q.push(i.queueAction(J).then(St=>(x&&x.debug(`${M}: fftJoinExt End: ${ut}/${rt}`),St)))}const k=await Promise.all(Q);let W,tt;rt*_>1<<28?(W=new be(rt*_),tt=new be(rt*_)):(W=new Uint8Array(rt*_),tt=new Uint8Array(rt*_));let ct=0;for(let ut=0;ut<k.length;ut++)W.set(k[ut][0],ct),tt.set(k[ut][1],ct),ct+=k[ut][0].byteLength;return[W,tt]}e.fft=async function(f,d,y,v,w){return await a(f,!1,d,y,v,w)},e.ifft=async function(f,d,y,v,w){return await a(f,!0,d,y,v,w)},e.lagrangeEvaluations=async function(f,d,y,v,w){d=d||"affine",y=y||"affine";let F;if(t=="G1")d=="affine"?F=e.F.n8*2:F=e.F.n8*3;else if(t=="G2")d=="affine"?F=e.F.n8*2:F=e.F.n8*3;else if(t=="Fr")F=r.n8;else throw new Error("Invalid group");const B=f.byteLength/F,x=Jn(B);if(2**x*F!=f.byteLength)throw v&&v.error("lagrangeEvaluations iinvalid input size"),new Error("lagrangeEvaluations invalid Input size");if(x<=r.s)return await e.ifft(f,d,y,v,w);if(x>r.s+1)throw v&&v.error("lagrangeEvaluations input too big"),new Error("lagrangeEvaluations input too big");let M=f.slice(0,f.byteLength/2),O=f.slice(f.byteLength/2,f.byteLength);const $=r.exp(r.shift,B/2),D=r.inv(r.sub(r.one,$));[M,O]=await g(M,O,"prepareLagrangeEvaluation",D,r.shiftInv,d,"jacobian",v,w+" prep");const V=[];V.push(a(M,!0,"jacobian",y,v,w+" t0")),V.push(a(O,!0,"jacobian",y,v,w+" t1")),[M,O]=await Promise.all(V);let P;return M.byteLength>1<<28?P=new be(M.byteLength*2):P=new Uint8Array(M.byteLength*2),P.set(M),P.set(O,M.byteLength),P},e.fftMix=async function(d){const y=e.F.n8*3;let v,w;if(t=="G1")v="g1m_fftMix",w="g1m_fftJoin";else if(t=="G2")v="g2m_fftMix",w="g2m_fftJoin";else if(t=="Fr")v="frm_fftMix",w="frm_fftJoin";else throw new Error("Invalid group");const F=Math.floor(d.byteLength/y),B=Jn(F);let x=1<<Jn(i.concurrency);F<=x*2&&(x=1);const M=F/x,O=Jn(M),$=[];for(let I=0;I<x;I++){const nt=[],rt=d.slice(I*M*y,(I+1)*M*y);nt.push({cmd:"ALLOCSET",var:0,buff:rt});for(let H=1;H<=O;H++)nt.push({cmd:"CALL",fnName:v,params:[{var:0},{val:M},{val:H}]});nt.push({cmd:"GET",out:0,var:0,len:M*y}),$.push(i.queueAction(nt))}const D=await Promise.all($),V=[];for(let I=0;I<D.length;I++)V[I]=D[I][0];for(let I=O+1;I<=B;I++){const nt=1<<B-I,rt=x/nt,H=[];for(let k=0;k<nt;k++)for(let W=0;W<rt/2;W++){const tt=r.exp(r.w[I],W*M),ct=r.w[I],ut=k*rt+W,G=k*rt+W+rt/2,X=[];X.push({cmd:"ALLOCSET",var:0,buff:V[ut]}),X.push({cmd:"ALLOCSET",var:1,buff:V[G]}),X.push({cmd:"ALLOCSET",var:2,buff:tt}),X.push({cmd:"ALLOCSET",var:3,buff:ct}),X.push({cmd:"CALL",fnName:w,params:[{var:0},{var:1},{val:M},{var:2},{var:3}]}),X.push({cmd:"GET",out:0,var:0,len:M*y}),X.push({cmd:"GET",out:1,var:1,len:M*y}),H.push(i.queueAction(X))}const Q=await Promise.all(H);for(let k=0;k<nt;k++)for(let W=0;W<rt/2;W++){const tt=k*rt+W,ct=k*rt+W+rt/2,ut=Q.shift();V[tt]=ut[0],V[ct]=ut[1]}}let P;d instanceof be?P=new be(F*y):P=new Uint8Array(F*y);let _=0;for(let I=0;I<x;I++)P.set(V[I],_),_+=V[I].byteLength;return P},e.fftJoin=async function(d,y,v,w){const F=e.F.n8*3;let B;if(t=="G1")B="g1m_fftJoin";else if(t=="G2")B="g2m_fftJoin";else if(t=="Fr")B="frm_fftJoin";else throw new Error("Invalid group");if(d.byteLength!=y.byteLength)throw new Error("Invalid buffer size");const x=Math.floor(d.byteLength/F);if(x!=1<<Jn(x))throw new Error("Invalid number of points");let M=1<<Jn(i.concurrency);x<=M*2&&(M=1);const O=x/M,$=[];for(let I=0;I<M;I++){const nt=[],rt=r.mul(v,r.exp(w,I*O)),H=d.slice(I*O*F,(I+1)*O*F),Q=y.slice(I*O*F,(I+1)*O*F);nt.push({cmd:"ALLOCSET",var:0,buff:H}),nt.push({cmd:"ALLOCSET",var:1,buff:Q}),nt.push({cmd:"ALLOCSET",var:2,buff:rt}),nt.push({cmd:"ALLOCSET",var:3,buff:w}),nt.push({cmd:"CALL",fnName:B,params:[{var:0},{var:1},{val:O},{var:2},{var:3}]}),nt.push({cmd:"GET",out:0,var:0,len:O*F}),nt.push({cmd:"GET",out:1,var:1,len:O*F}),$.push(i.queueAction(nt))}const D=await Promise.all($);let V,P;d instanceof be?(V=new be(x*F),P=new be(x*F)):(V=new Uint8Array(x*F),P=new Uint8Array(x*F));let _=0;for(let I=0;I<D.length;I++)V.set(D[I][0],_),P.set(D[I][1],_),_+=D[I][0].byteLength;return[V,P]},e.fftFinal=async function(d,y){const v=e.F.n8*3,w=e.F.n8*2;let F,B;if(t=="G1")F="g1m_fftFinal",B="g1m_batchToAffine";else if(t=="G2")F="g2m_fftFinal",B="g2m_batchToAffine";else throw new Error("Invalid group");const x=Math.floor(d.byteLength/v);if(x!=1<<Jn(x))throw new Error("Invalid number of points");const M=Math.floor(x/i.concurrency),O=[];for(let P=0;P<i.concurrency;P++){let _;if(P<i.concurrency-1?_=M:_=x-P*M,_==0)continue;const I=[],nt=d.slice(P*M*v,(P*M+_)*v);I.push({cmd:"ALLOCSET",var:0,buff:nt}),I.push({cmd:"ALLOCSET",var:1,buff:y}),I.push({cmd:"CALL",fnName:F,params:[{var:0},{val:_},{var:1}]}),I.push({cmd:"CALL",fnName:B,params:[{var:0},{val:_},{var:0}]}),I.push({cmd:"GET",out:0,var:0,len:_*w}),O.push(i.queueAction(I))}const $=await Promise.all(O);let D;d instanceof be?D=new be(x*w):D=new Uint8Array(x*w);let V=0;for(let P=$.length-1;P>=0;P--)D.set($[P][0],V),V+=$[P][0].byteLength;return D}}async function yC(n){const t=await z9(n.wasm,n.singleThread),e={};return e.q=Ke(n.wasm.q.toString()),e.r=Ke(n.wasm.r.toString()),e.name=n.name,e.tm=t,e.prePSize=n.wasm.prePSize,e.preQSize=n.wasm.preQSize,e.Fr=new R1(t,"frm",n.n8r,n.r),e.F1=new R1(t,"f1m",n.n8q,n.q),e.F2=new N1(t,"f2m",e.F1),e.G1=new j1(t,"g1m",e.F1,n.wasm.pG1gen,n.wasm.pG1b,n.cofactorG1),e.G2=new j1(t,"g2m",e.F2,n.wasm.pG2gen,n.wasm.pG2b,n.cofactorG2),e.F6=new j9(t,"f6m",e.F2),e.F12=new N1(t,"ftm",e.F6),e.Gt=e.F12,dp(e,"G1"),dp(e,"G2"),dp(e,"Fr"),$1(e,"G1"),$1(e,"G2"),fp(e,"G1"),fp(e,"G2"),fp(e,"Fr"),Q9(e),e.array2buffer=function(r,i){const a=new Uint8Array(i*r.length);for(let l=0;l<r.length;l++)a.set(r[l],l*i);return a},e.buffer2array=function(r,i){const a=r.byteLength/i,l=new Array(a);for(let c=0;c<a;c++)l[c]=r.slice(c*i,c*i+i);return l},e}function Ga(n){return BigInt(n)}function wC(n){return n<0n}function q9(n){return n===0n}function W9(n){return wC(n)?n.toString(2).length-1:n.toString(2).length}function hp(n){const t=[],e=Ga(n);return t.push(Number(e&0xFFn)),t.push(Number(e>>8n&0xFFn)),t.push(Number(e>>16n&0xFFn)),t.push(Number(e>>24n&0xFFn)),t}function G9(n){for(var t=[],e=0;e<n.length;e++){var r=n.charCodeAt(e);r<128?t.push(r):r<2048?t.push(192|r>>6,128|r&63):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|r&63):(e++,r=65536+((r&1023)<<10|n.charCodeAt(e)&1023),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63))}return t}function Tc(n){const t=G9(n);return[...ae(t.length),...t]}function vC(n){const t=[];let e=Ga(n);if(wC(e))throw new Error("Number cannot be negative");for(;!q9(e);)t.push(Number(e&0x7Fn)),e=e>>7n;t.length==0&&t.push(0);for(let r=0;r<t.length-1;r++)t[r]=t[r]|128;return t}function bC(n){let t,e;const r=W9(n);n<0?(e=!0,t=(1n<<BigInt(r))+n):(e=!1,t=Ga(n));const i=7-r%7,a=(1n<<BigInt(i))-1n<<BigInt(r),l=(1<<7-i)-1|128,c=vC(t+a);return e||(c[c.length-1]=c[c.length-1]&l),c}function y2(n){let t=Ga(n);if(t>0xFFFFFFFFn)throw new Error("Number too big");if(t>0x7FFFFFFFn&&(t=t-0x100000000n),t<-2147483648n)throw new Error("Number too small");return bC(t)}function V9(n){let t=Ga(n);if(t>0xFFFFFFFFFFFFFFFFn)throw new Error("Number too big");if(t>0x7FFFFFFFFFFFFFFFn&&(t=t-0x10000000000000000n),t<-9223372036854775808n)throw new Error("Number too small");return bC(t)}function ae(n){let t=Ga(n);if(t>0xFFFFFFFFn)throw new Error("Number too big");return vC(t)}function Q1(n){return Array.from(n,function(t){return("0"+(t&255).toString(16)).slice(-2)}).join("")}class K9{constructor(t){this.func=t,this.functionName=t.functionName,this.module=t.module}setLocal(t,e){const r=this.func.localIdxByName[t];if(r===void 0)throw new Error(`Local Variable not defined: Function: ${this.functionName} local: ${t} `);return[...e,33,...ae(r)]}teeLocal(t,e){const r=this.func.localIdxByName[t];if(r===void 0)throw new Error(`Local Variable not defined: Function: ${this.functionName} local: ${t} `);return[...e,34,...ae(r)]}getLocal(t){const e=this.func.localIdxByName[t];if(e===void 0)throw new Error(`Local Variable not defined: Function: ${this.functionName} local: ${t} `);return[32,...ae(e)]}i64_load8_s(t,e,r){const i=e||0,a=r===void 0?0:r;return[...t,48,a,...ae(i)]}i64_load8_u(t,e,r){const i=e||0,a=r===void 0?0:r;return[...t,49,a,...ae(i)]}i64_load16_s(t,e,r){const i=e||0,a=r===void 0?1:r;return[...t,50,a,...ae(i)]}i64_load16_u(t,e,r){const i=e||0,a=r===void 0?1:r;return[...t,51,a,...ae(i)]}i64_load32_s(t,e,r){const i=e||0,a=r===void 0?2:r;return[...t,52,a,...ae(i)]}i64_load32_u(t,e,r){const i=e||0,a=r===void 0?2:r;return[...t,53,a,...ae(i)]}i64_load(t,e,r){const i=e||0,a=r===void 0?3:r;return[...t,41,a,...ae(i)]}i64_store(t,e,r,i){let a,l,c;return Array.isArray(e)?(a=0,l=3,c=e):Array.isArray(r)?(a=e,l=3,c=r):Array.isArray(i)&&(a=e,l=r,c=i),[...t,...c,55,l,...ae(a)]}i64_store32(t,e,r,i){let a,l,c;return Array.isArray(e)?(a=0,l=2,c=e):Array.isArray(r)?(a=e,l=2,c=r):Array.isArray(i)&&(a=e,l=r,c=i),[...t,...c,62,l,...ae(a)]}i64_store16(t,e,r,i){let a,l,c;return Array.isArray(e)?(a=0,l=1,c=e):Array.isArray(r)?(a=e,l=1,c=r):Array.isArray(i)&&(a=e,l=r,c=i),[...t,...c,61,l,...ae(a)]}i64_store8(t,e,r,i){let a,l,c;return Array.isArray(e)?(a=0,l=0,c=e):Array.isArray(r)?(a=e,l=0,c=r):Array.isArray(i)&&(a=e,l=r,c=i),[...t,...c,60,l,...ae(a)]}i32_load8_s(t,e,r){const i=e||0,a=r===void 0?0:r;return[...t,44,a,...ae(i)]}i32_load8_u(t,e,r){const i=e||0,a=r===void 0?0:r;return[...t,45,a,...ae(i)]}i32_load16_s(t,e,r){const i=e||0,a=r===void 0?1:r;return[...t,46,a,...ae(i)]}i32_load16_u(t,e,r){const i=e||0,a=r===void 0?1:r;return[...t,47,a,...ae(i)]}i32_load(t,e,r){const i=e||0,a=r===void 0?2:r;return[...t,40,a,...ae(i)]}i32_store(t,e,r,i){let a,l,c;return Array.isArray(e)?(a=0,l=2,c=e):Array.isArray(r)?(a=e,l=2,c=r):Array.isArray(i)&&(a=e,l=r,c=i),[...t,...c,54,l,...ae(a)]}i32_store16(t,e,r,i){let a,l,c;return Array.isArray(e)?(a=0,l=1,c=e):Array.isArray(r)?(a=e,l=1,c=r):Array.isArray(i)&&(a=e,l=r,c=i),[...t,...c,59,l,...ae(a)]}i32_store8(t,e,r,i){let a,l,c;return Array.isArray(e)?(a=0,l=0,c=e):Array.isArray(r)?(a=e,l=0,c=r):Array.isArray(i)&&(a=e,l=r,c=i),[...t,...c,58,l,...ae(a)]}call(t,...e){const r=this.module.functionIdxByName[t];if(r===void 0)throw new Error(`Function not defined: Function: ${t}`);return[...[].concat(...e),16,...ae(r)]}call_indirect(t,...e){return[...[].concat(...e),...t,17,0,0]}if(t,e,r){return r?[...t,4,64,...e,5,...r,11]:[...t,4,64,...e,11]}block(t){return[2,64,...t,11]}loop(...t){return[3,64,...[].concat(...t),11]}br_if(t,e){return[...e,13,...ae(t)]}br(t){return[12,...ae(t)]}ret(t){return[...t,15]}drop(t){return[...t,26]}i64_const(t){return[66,...V9(t)]}i32_const(t){return[65,...y2(t)]}i64_eqz(t){return[...t,80]}i64_eq(t,e){return[...t,...e,81]}i64_ne(t,e){return[...t,...e,82]}i64_lt_s(t,e){return[...t,...e,83]}i64_lt_u(t,e){return[...t,...e,84]}i64_gt_s(t,e){return[...t,...e,85]}i64_gt_u(t,e){return[...t,...e,86]}i64_le_s(t,e){return[...t,...e,87]}i64_le_u(t,e){return[...t,...e,88]}i64_ge_s(t,e){return[...t,...e,89]}i64_ge_u(t,e){return[...t,...e,90]}i64_add(t,e){return[...t,...e,124]}i64_sub(t,e){return[...t,...e,125]}i64_mul(t,e){return[...t,...e,126]}i64_div_s(t,e){return[...t,...e,127]}i64_div_u(t,e){return[...t,...e,128]}i64_rem_s(t,e){return[...t,...e,129]}i64_rem_u(t,e){return[...t,...e,130]}i64_and(t,e){return[...t,...e,131]}i64_or(t,e){return[...t,...e,132]}i64_xor(t,e){return[...t,...e,133]}i64_shl(t,e){return[...t,...e,134]}i64_shr_s(t,e){return[...t,...e,135]}i64_shr_u(t,e){return[...t,...e,136]}i64_extend_i32_s(t){return[...t,172]}i64_extend_i32_u(t){return[...t,173]}i64_clz(t){return[...t,121]}i64_ctz(t){return[...t,122]}i32_eqz(t){return[...t,69]}i32_eq(t,e){return[...t,...e,70]}i32_ne(t,e){return[...t,...e,71]}i32_lt_s(t,e){return[...t,...e,72]}i32_lt_u(t,e){return[...t,...e,73]}i32_gt_s(t,e){return[...t,...e,74]}i32_gt_u(t,e){return[...t,...e,75]}i32_le_s(t,e){return[...t,...e,76]}i32_le_u(t,e){return[...t,...e,77]}i32_ge_s(t,e){return[...t,...e,78]}i32_ge_u(t,e){return[...t,...e,79]}i32_add(t,e){return[...t,...e,106]}i32_sub(t,e){return[...t,...e,107]}i32_mul(t,e){return[...t,...e,108]}i32_div_s(t,e){return[...t,...e,109]}i32_div_u(t,e){return[...t,...e,110]}i32_rem_s(t,e){return[...t,...e,111]}i32_rem_u(t,e){return[...t,...e,112]}i32_and(t,e){return[...t,...e,113]}i32_or(t,e){return[...t,...e,114]}i32_xor(t,e){return[...t,...e,115]}i32_shl(t,e){return[...t,...e,116]}i32_shr_s(t,e){return[...t,...e,117]}i32_shr_u(t,e){return[...t,...e,118]}i32_rotl(t,e){return[...t,...e,119]}i32_rotr(t,e){return[...t,...e,120]}i32_wrap_i64(t){return[...t,167]}i32_clz(t){return[...t,103]}i32_ctz(t){return[...t,104]}unreachable(){return[0]}current_memory(){return[63,0]}comment(){return[]}}const gp={i32:127,i64:126,f32:125,f64:124,anyfunc:112,func:96,emptyblock:64};class q1{constructor(t,e,r,i,a){if(r=="import")this.fnType="import",this.moduleName=i,this.fieldName=a;else if(r=="internal")this.fnType="internal";else throw new Error("Invalid function fnType: "+r);this.module=t,this.fnName=e,this.params=[],this.locals=[],this.localIdxByName={},this.code=[],this.returnType=null,this.nextLocal=0}addParam(t,e){if(this.localIdxByName[t])throw new Error(`param already exists. Function: ${this.fnName}, Param: ${t} `);const r=this.nextLocal++;this.localIdxByName[t]=r,this.params.push({type:e})}addLocal(t,e,r){const i=r||1;if(this.localIdxByName[t])throw new Error(`local already exists. Function: ${this.fnName}, Param: ${t} `);const a=this.nextLocal++;this.localIdxByName[t]=a,this.locals.push({type:e,length:i})}setReturnType(t){if(this.returnType)throw new Error(`returnType already defined. Function: ${this.fnName}`);this.returnType=t}getSignature(){const t=[...ae(this.params.length),...this.params.map(r=>gp[r.type])],e=this.returnType?[1,gp[this.returnType]]:[0];return[96,...t,...e]}getBody(){const t=this.locals.map(r=>[...ae(r.length),gp[r.type]]),e=[...ae(this.locals.length),...[].concat(...t),...this.code,11];return[...ae(e.length),...e]}addCode(...t){this.code.push(...[].concat(...t))}getCodeBuilder(){return new K9(this)}}class AC{constructor(){this.functions=[],this.functionIdxByName={},this.nImportFunctions=0,this.nInternalFunctions=0,this.memory={pagesSize:1,moduleName:"env",fieldName:"memory"},this.free=8,this.datas=[],this.modules={},this.exports=[],this.functionsTable=[]}build(){return this._setSignatures(),new Uint8Array([...hp(1836278016),...hp(1),...this._buildType(),...this._buildImport(),...this._buildFunctionDeclarations(),...this._buildFunctionsTable(),...this._buildExports(),...this._buildElements(),...this._buildCode(),...this._buildData()])}addFunction(t){if(typeof this.functionIdxByName[t]<"u")throw new Error(`Function already defined: ${t}`);const e=this.functions.length;return this.functionIdxByName[t]=e,this.functions.push(new q1(this,t,"internal")),this.nInternalFunctions++,this.functions[e]}addIimportFunction(t,e,r){if(typeof this.functionIdxByName[t]<"u")throw new Error(`Function already defined: ${t}`);if(this.functions.length>0&&this.functions[this.functions.length-1].type=="internal")throw new Error(`Import functions must be declared before internal: ${t}`);let i=r||t;const a=this.functions.length;return this.functionIdxByName[t]=a,this.functions.push(new q1(this,t,"import",e,i)),this.nImportFunctions++,this.functions[a]}setMemory(t,e,r){this.memory={pagesSize:t,moduleName:e||"env",fieldName:r||"memory"}}exportFunction(t,e){const r=e||t;if(typeof this.functionIdxByName[t]>"u")throw new Error(`Function not defined: ${t}`);const i=this.functionIdxByName[t];r!=t&&(this.functionIdxByName[r]=i),this.exports.push({exportName:r,idx:i})}addFunctionToTable(t){const e=this.functionIdxByName[t];this.functionsTable.push(e)}addData(t,e){this.datas.push({offset:t,bytes:e})}alloc(t,e){let r,i;(Array.isArray(t)||ArrayBuffer.isView(t))&&typeof e>"u"?(r=t.length,i=t):(r=t,i=e),r=(r-1>>3)+1<<3;const a=this.free;return this.free+=r,i&&this.addData(a,i),a}allocString(t){const r=new globalThis.TextEncoder().encode(t);return this.alloc([...r,0])}_setSignatures(){this.signatures=[];const t={};if(this.functionsTable.length>0){const e=this.functions[this.functionsTable[0]].getSignature(),r="s_"+Q1(e);t[r]=0,this.signatures.push(e)}for(let e=0;e<this.functions.length;e++){const r=this.functions[e].getSignature(),i="s_"+Q1(r);typeof t[i]>"u"&&(t[i]=this.signatures.length,this.signatures.push(r)),this.functions[e].signatureIdx=t[i]}}_buildSection(t,e){return[t,...ae(e.length),...e]}_buildType(){return this._buildSection(1,[...ae(this.signatures.length),...[].concat(...this.signatures)])}_buildImport(){const t=[];t.push([...Tc(this.memory.moduleName),...Tc(this.memory.fieldName),2,0,...ae(this.memory.pagesSize)]);for(let e=0;e<this.nImportFunctions;e++)t.push([...Tc(this.functions[e].moduleName),...Tc(this.functions[e].fieldName),0,...ae(this.functions[e].signatureIdx)]);return this._buildSection(2,ae(t.length).concat(...t))}_buildFunctionDeclarations(){const t=[];for(let e=this.nImportFunctions;e<this.nImportFunctions+this.nInternalFunctions;e++)t.push(...ae(this.functions[e].signatureIdx));return this._buildSection(3,[...ae(t.length),...t])}_buildFunctionsTable(){return this.functionsTable.length==0?[]:this._buildSection(4,[...ae(1),112,0,...ae(this.functionsTable.length)])}_buildElements(){if(this.functionsTable.length==0)return[];const t=[];for(let e=0;e<this.functionsTable.length;e++)t.push(...ae(this.functionsTable[e]));return this._buildSection(9,[...ae(1),...ae(0),65,...y2(0),11,...ae(this.functionsTable.length),...t])}_buildExports(){const t=[];for(let e=0;e<this.exports.length;e++)t.push([...Tc(this.exports[e].exportName),0,...ae(this.exports[e].idx)]);return this._buildSection(7,ae(t.length).concat(...t))}_buildCode(){const t=[];for(let e=this.nImportFunctions;e<this.nImportFunctions+this.nInternalFunctions;e++)t.push(this.functions[e].getBody());return this._buildSection(10,ae(t.length).concat(...t))}_buildData(){const t=[];t.push([0,65,0,11,4,...hp(this.free)]);for(let e=0;e<this.datas.length;e++)t.push([0,65,...y2(this.datas[e].offset),11,...ae(this.datas[e].bytes.length),...this.datas[e].bytes]);return this._buildSection(11,ae(t.length).concat(...t))}}globalThis.curve_bn128=null;async function LC(n,t){if(!n&&globalThis.curve_bn128)return globalThis.curve_bn128;const e=new AC;e.setMemory(25),k9(e);const r={};r.code=e.build(),r.pq=e.modules.f1m.pq,r.pr=e.modules.frm.pq,r.pG1gen=e.modules.bn128.pG1gen,r.pG1zero=e.modules.bn128.pG1zero,r.pG1b=e.modules.bn128.pG1b,r.pG2gen=e.modules.bn128.pG2gen,r.pG2zero=e.modules.bn128.pG2zero,r.pG2b=e.modules.bn128.pG2b,r.pOneT=e.modules.bn128.pOneT,r.prePSize=e.modules.bn128.prePSize,r.preQSize=e.modules.bn128.preQSize,r.n8q=32,r.n8r=32,r.q=e.modules.bn128.q,r.r=e.modules.bn128.r;const i={name:"bn128",wasm:r,q:Ke("21888242871839275222246405745257275088696311157297823662689037894645226208583"),r:Ke("21888242871839275222246405745257275088548364400416034343698204186575808495617"),n8q:32,n8r:32,cofactorG2:Ke("30644e72e131a029b85045b68181585e06ceecda572a2489345f2299c0f9fa8d",16),singleThread:!!n},a=await yC(i);return a.terminate=async function(){i.singleThread||(globalThis.curve_bn128=null,await this.tm.terminate())},n||(globalThis.curve_bn128=a),a}globalThis.curve_bls12381=null;async function CC(n,t){if(!n&&globalThis.curve_bls12381)return globalThis.curve_bls12381;const e=new AC;e.setMemory(25),M9(e);const r={};r.code=e.build(),r.pq=e.modules.f1m.pq,r.pr=e.modules.frm.pq,r.pG1gen=e.modules.bls12381.pG1gen,r.pG1zero=e.modules.bls12381.pG1zero,r.pG1b=e.modules.bls12381.pG1b,r.pG2gen=e.modules.bls12381.pG2gen,r.pG2zero=e.modules.bls12381.pG2zero,r.pG2b=e.modules.bls12381.pG2b,r.pOneT=e.modules.bls12381.pOneT,r.prePSize=e.modules.bls12381.prePSize,r.preQSize=e.modules.bls12381.preQSize,r.n8q=48,r.n8r=32,r.q=e.modules.bls12381.q,r.r=e.modules.bls12381.r;const i={name:"bls12381",wasm:r,q:Ke("1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab",16),r:Ke("73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001",16),n8q:48,n8r:32,cofactorG1:Ke("0x396c8c005555e1568c00aaab0000aaab",16),cofactorG2:Ke("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5",16),singleThread:!!n},a=await yC(i);return a.terminate=async function(){i.singleThread||(globalThis.curve_bls12381=null,await this.tm.terminate())},n||(globalThis.curve_bls12381=a),a}Ke("73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001",16);Ke("21888242871839275222246405745257275088548364400416034343698204186575808495617");Ke("1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab",16);Ke("21888242871839275222246405745257275088696311157297823662689037894645226208583");const Ie=BT,Pn=N9;var IC={};async function xC(n,t,e,r){if(e=e||4096*64,typeof t!="number"&&["w+","wx+","r","ax+","a+"].indexOf(t)<0)throw new Error("Invalid open option");const i=await IC.promises.open(n,t),a=await i.stat();return new H9(i,a,e,r,n)}class H9{constructor(t,e,r,i,a){for(this.fileName=a,this.fd=t,this.pos=0,this.pageSize=i||256;this.pageSize<e.blksize;)this.pageSize*=2;this.totalSize=e.size,this.totalPages=Math.floor((e.size-1)/this.pageSize)+1,this.maxPagesLoaded=Math.floor(r/this.pageSize)+1,this.pages={},this.pendingLoads=[],this.writing=!1,this.reading=!1,this.avBuffs=[],this.history={}}_loadPage(t){const e=this,r=new Promise((i,a)=>{e.pendingLoads.push({page:t,resolve:i,reject:a})});return e.__statusPage("After Load request: ",t),r}__statusPage(t,e){const r=[],i=this;if(!i.logHistory)return;r.push("=="+t+" "+e);let a="";for(let l=0;l<i.pendingLoads.length;l++)i.pendingLoads[l].page==e&&(a=a+" "+l);if(a&&r.push("Pending loads:"+a),typeof i.pages[e]<"u"){const l=i.pages[e];r.push("Loaded"),r.push("pendingOps: "+l.pendingOps),l.loading&&r.push("loading: "+l.loading),l.writing&&r.push("writing"),l.dirty&&r.push("dirty")}r.push("=="),i.history[e]||(i.history[e]=[]),i.history[e].push(r)}__printHistory(t){const e=this;e.history[t]||console.log("Empty History ",t),console.log("History "+t);for(let r=0;r<e.history[t].length;r++)for(let i=0;i<e.history[t][r].length;i++)console.log("-> "+e.history[t][r][i])}_triggerLoad(){const t=this;if(t.reading||t.pendingLoads.length==0)return;const e=Object.keys(t.pages),r=[];for(let c=0;c<e.length;c++){const g=t.pages[parseInt(e[c])];g.dirty==!1&&g.pendingOps==0&&!g.writing&&!g.loading&&r.push(parseInt(e[c]))}let i=t.maxPagesLoaded-e.length;const a=[];for(;t.pendingLoads.length>0&&(typeof t.pages[t.pendingLoads[0].page]<"u"||i>0||r.length>0);){const c=t.pendingLoads.shift();if(typeof t.pages[c.page]<"u"){t.pages[c.page].pendingOps++;const g=r.indexOf(c.page);g>=0&&r.splice(g,1),t.pages[c.page].loading?t.pages[c.page].loading.push(c):c.resolve(),t.__statusPage("After Load (cached): ",c.page)}else{if(i)i--;else{const g=r.shift();t.__statusPage("Before Unload: ",g),t.avBuffs.unshift(t.pages[g]),delete t.pages[g],t.__statusPage("After Unload: ",g)}c.page>=t.totalPages?(t.pages[c.page]=l(),c.resolve(),t.__statusPage("After Load (new): ",c.page)):(t.reading=!0,t.pages[c.page]=l(),t.pages[c.page].loading=[c],a.push(t.fd.read(t.pages[c.page].buff,0,t.pageSize,c.page*t.pageSize).then(g=>{t.pages[c.page].size=g.bytesRead;const f=t.pages[c.page].loading;delete t.pages[c.page].loading;for(let d=0;d<f.length;d++)f[d].resolve();return t.__statusPage("After Load (loaded): ",c.page),g},g=>{c.reject(g)})),t.__statusPage("After Load (loading): ",c.page))}}Promise.all(a).then(()=>{t.reading=!1,t.pendingLoads.length>0&&setImmediate(t._triggerLoad.bind(t)),t._tryClose()});function l(){if(t.avBuffs.length>0){const c=t.avBuffs.shift();return c.dirty=!1,c.pendingOps=1,c.size=0,c}else return{dirty:!1,buff:new Uint8Array(t.pageSize),pendingOps:1,size:0}}}_triggerWrite(){const t=this;if(t.writing)return;const e=Object.keys(t.pages),r=[];for(let i=0;i<e.length;i++){const a=t.pages[parseInt(e[i])];a.dirty&&(a.dirty=!1,a.writing=!0,t.writing=!0,r.push(t.fd.write(a.buff,0,a.size,parseInt(e[i])*t.pageSize).then(()=>{a.writing=!1},l=>{console.log("ERROR Writing: "+l),t.error=l,t._tryClose()})))}t.writing&&Promise.all(r).then(()=>{t.writing=!1,setImmediate(t._triggerWrite.bind(t)),t._tryClose(),t.pendingLoads.length>0&&setImmediate(t._triggerLoad.bind(t))})}_getDirtyPage(){for(let t in this.pages)if(this.pages[t].dirty)return t;return-1}async write(t,e){if(t.byteLength==0)return;const r=this;if(typeof e>"u"&&(e=r.pos),r.pos=e+t.byteLength,r.totalSize<e+t.byteLength&&(r.totalSize=e+t.byteLength),r.pendingClose)throw new Error("Writing a closing file");const i=Math.floor(e/r.pageSize),a=Math.floor((e+t.byteLength-1)/r.pageSize),l=[];for(let d=i;d<=a;d++)l.push(r._loadPage(d));r._triggerLoad();let c=i,g=e%r.pageSize,f=t.byteLength;for(;f>0;){await l[c-i];const d=g+f>r.pageSize?r.pageSize-g:f,y=t.slice(t.byteLength-f,t.byteLength-f+d);new Uint8Array(r.pages[c].buff.buffer,g,d).set(y),r.pages[c].dirty=!0,r.pages[c].pendingOps--,r.pages[c].size=Math.max(g+d,r.pages[c].size),c>=r.totalPages&&(r.totalPages=c+1),f=f-d,c++,g=0,r.writing||setImmediate(r._triggerWrite.bind(r))}}async read(t,e){const r=this;let i=new Uint8Array(t);return await r.readToBuffer(i,0,t,e),i}async readToBuffer(t,e,r,i){if(r==0)return;const a=this;if(r>a.pageSize*a.maxPagesLoaded*.8){const v=Math.floor(r*1.1);this.maxPagesLoaded=Math.floor(v/a.pageSize)+1}if(typeof i>"u"&&(i=a.pos),a.pos=i+r,a.pendingClose)throw new Error("Reading a closing file");const l=Math.floor(i/a.pageSize),c=Math.floor((i+r-1)/a.pageSize),g=[];for(let v=l;v<=c;v++)g.push(a._loadPage(v));a._triggerLoad();let f=l,d=i%a.pageSize,y=i+r>a.totalSize?r-(i+r-a.totalSize):r;for(;y>0;){await g[f-l],a.__statusPage("After Await (read): ",f);const v=d+y>a.pageSize?a.pageSize-d:y,w=new Uint8Array(a.pages[f].buff.buffer,a.pages[f].buff.byteOffset+d,v);t.set(w,e+r-y),a.pages[f].pendingOps--,a.__statusPage("After Op done: ",f),y=y-v,f++,d=0,a.pendingLoads.length>0&&setImmediate(a._triggerLoad.bind(a))}this.pos=i+r}_tryClose(){const t=this;!t.pendingClose||(t.error&&t.pendingCloseReject(t.error),t._getDirtyPage()>=0||t.writing||t.reading||t.pendingLoads.length>0)||t.pendingClose()}close(){const t=this;if(t.pendingClose)throw new Error("Closing the file twice");return new Promise((e,r)=>{t.pendingClose=e,t.pendingCloseReject=r,t._tryClose()}).then(()=>{t.fd.close()},e=>{throw t.fd.close(),e})}async discard(){await this.close(),await IC.promises.unlink(this.fileName)}async writeULE32(t,e){const r=this,i=new Uint8Array(4);new DataView(i.buffer).setUint32(0,t,!0),await r.write(i,e)}async writeUBE32(t,e){const r=this,i=new Uint8Array(4);new DataView(i.buffer).setUint32(0,t,!1),await r.write(i,e)}async writeULE64(t,e){const r=this,i=new Uint8Array(8),a=new DataView(i.buffer);a.setUint32(0,t&4294967295,!0),a.setUint32(4,Math.floor(t/4294967296),!0),await r.write(i,e)}async readULE32(t){const r=await this.read(4,t);return new Uint32Array(r.buffer)[0]}async readUBE32(t){const r=await this.read(4,t);return new DataView(r.buffer).getUint32(0,!1)}async readULE64(t){const r=await this.read(8,t),i=new Uint32Array(r.buffer);return i[1]*4294967296+i[0]}async readString(t){const e=this;if(e.pendingClose)throw new Error("Reading a closing file");let r=typeof t>"u"?e.pos:t,i=Math.floor(r/e.pageSize),a=!1,l="";for(;!a;){let c=e._loadPage(i);e._triggerLoad(),await c,e.__statusPage("After Await (read): ",i);let g=r%e.pageSize;const f=new Uint8Array(e.pages[i].buff.buffer,e.pages[i].buff.byteOffset+g,e.pageSize-g);let d=f.findIndex(y=>y===0);a=d!==-1,a?(l+=new TextDecoder().decode(f.slice(0,d)),e.pos=i*this.pageSize+g+d+1):(l+=new TextDecoder().decode(f),e.pos=i*this.pageSize+g+f.length),e.pages[i].pendingOps--,e.__statusPage("After Op done: ",i),r=e.pos,i++,e.pendingLoads.length>0&&setImmediate(e._triggerLoad.bind(e))}return l}}function Y9(n){const t=n.initialSize||1048576,e=new SC;return e.o=n,e.o.data=new Uint8Array(t),e.allocSize=t,e.totalSize=0,e.readOnly=!1,e.pos=0,e}function Z9(n){const t=new SC;return t.o=n,t.allocSize=n.data.byteLength,t.totalSize=n.data.byteLength,t.readOnly=!0,t.pos=0,t}const w2=new Uint8Array(4),W1=new DataView(w2.buffer),EC=new Uint8Array(8),G1=new DataView(EC.buffer);class SC{constructor(){this.pageSize=16384}_resizeIfNeeded(t){if(t>this.allocSize){const e=Math.max(this.allocSize+1048576,Math.floor(this.allocSize*1.1),t),r=new Uint8Array(e);r.set(this.o.data),this.o.data=r,this.allocSize=e}}async write(t,e){if(typeof e>"u"&&(e=this.pos),this.readOnly)throw new Error("Writing a read only file");this._resizeIfNeeded(e+t.byteLength),this.o.data.set(t.slice(),e),e+t.byteLength>this.totalSize&&(this.totalSize=e+t.byteLength),this.pos=e+t.byteLength}async readToBuffer(t,e,r,i){if(typeof i>"u"&&(i=this.pos),this.readOnly&&i+r>this.totalSize)throw new Error("Reading out of bounds");this._resizeIfNeeded(i+r);const l=new Uint8Array(this.o.data.buffer,this.o.data.byteOffset+i,r);t.set(l,e),this.pos=i+r}async read(t,e){const r=this,i=new Uint8Array(t);return await r.readToBuffer(i,0,t,e),i}close(){this.o.data.byteLength!=this.totalSize&&(this.o.data=this.o.data.slice(0,this.totalSize))}async discard(){}async writeULE32(t,e){const r=this;W1.setUint32(0,t,!0),await r.write(w2,e)}async writeUBE32(t,e){const r=this;W1.setUint32(0,t,!1),await r.write(w2,e)}async writeULE64(t,e){const r=this;G1.setUint32(0,t&4294967295,!0),G1.setUint32(4,Math.floor(t/4294967296),!0),await r.write(EC,e)}async readULE32(t){const r=await this.read(4,t);return new Uint32Array(r.buffer)[0]}async readUBE32(t){const r=await this.read(4,t);return new DataView(r.buffer).getUint32(0,!1)}async readULE64(t){const r=await this.read(8,t),i=new Uint32Array(r.buffer);return i[1]*4294967296+i[0]}async readString(t){const e=this;let r=typeof t>"u"?e.pos:t;if(r>this.totalSize){if(this.readOnly)throw new Error("Reading out of bounds");this._resizeIfNeeded(t)}const i=new Uint8Array(e.o.data.buffer,r,this.totalSize-r);let a=i.findIndex(g=>g===0),l=a!==-1,c="";return l?(c=new TextDecoder().decode(i.slice(0,a)),e.pos=r+a+1):e.pos=r,c}}const sn=1<<22;function X9(n){const t=n.initialSize||0,e=new BC;e.o=n;const r=t?Math.floor((t-1)/sn)+1:0;e.o.data=[];for(let i=0;i<r-1;i++)e.o.data.push(new Uint8Array(sn));return r&&e.o.data.push(new Uint8Array(t-sn*(r-1))),e.totalSize=0,e.readOnly=!1,e.pos=0,e}function J9(n){const t=new BC;return t.o=n,t.totalSize=(n.data.length-1)*sn+n.data[n.data.length-1].byteLength,t.readOnly=!0,t.pos=0,t}const v2=new Uint8Array(4),V1=new DataView(v2.buffer),OC=new Uint8Array(8),K1=new DataView(OC.buffer);class BC{constructor(){this.pageSize=16384}_resizeIfNeeded(t){if(t<=this.totalSize)return;if(this.readOnly)throw new Error("Reading out of file bounds");const e=Math.floor((t-1)/sn)+1;for(let r=Math.max(this.o.data.length-1,0);r<e;r++){const i=r<e-1?sn:t-(e-1)*sn,a=new Uint8Array(i);r==this.o.data.length-1&&a.set(this.o.data[r]),this.o.data[r]=a}this.totalSize=t}async write(t,e){const r=this;if(typeof e>"u"&&(e=r.pos),this.readOnly)throw new Error("Writing a read only file");this._resizeIfNeeded(e+t.byteLength);let a=Math.floor(e/sn),l=e%sn,c=t.byteLength;for(;c>0;){const g=l+c>sn?sn-l:c,f=t.slice(t.byteLength-c,t.byteLength-c+g);new Uint8Array(r.o.data[a].buffer,l,g).set(f),c=c-g,a++,l=0}this.pos=e+t.byteLength}async readToBuffer(t,e,r,i){const a=this;if(typeof i>"u"&&(i=a.pos),this.readOnly&&i+r>this.totalSize)throw new Error("Reading out of bounds");this._resizeIfNeeded(i+r);let c=Math.floor(i/sn),g=i%sn,f=r;for(;f>0;){const d=g+f>sn?sn-g:f,y=new Uint8Array(a.o.data[c].buffer,g,d);t.set(y,e+r-f),f=f-d,c++,g=0}this.pos=i+r}async read(t,e){const r=this,i=new Uint8Array(t);return await r.readToBuffer(i,0,t,e),i}close(){}async discard(){}async writeULE32(t,e){const r=this;V1.setUint32(0,t,!0),await r.write(v2,e)}async writeUBE32(t,e){const r=this;V1.setUint32(0,t,!1),await r.write(v2,e)}async writeULE64(t,e){const r=this;K1.setUint32(0,t&4294967295,!0),K1.setUint32(4,Math.floor(t/4294967296),!0),await r.write(OC,e)}async readULE32(t){const r=await this.read(4,t);return new Uint32Array(r.buffer)[0]}async readUBE32(t){const r=await this.read(4,t);return new DataView(r.buffer).getUint32(0,!1)}async readULE64(t){const r=await this.read(8,t),i=new Uint32Array(r.buffer);return i[1]*4294967296+i[0]}async readString(t){const e=this,r=2048;let i=typeof t>"u"?e.pos:t;if(i>this.totalSize){if(this.readOnly)throw new Error("Reading out of bounds");this._resizeIfNeeded(t)}let a=!1,l="";for(;!a;){let c=Math.floor(i/sn),g=i%sn;if(e.o.data[c]===void 0)throw new Error("ERROR");let f=Math.min(r,e.o.data[c].length-g);const d=new Uint8Array(e.o.data[c].buffer,g,f);let y=d.findIndex(v=>v===0);a=y!==-1,a?(l+=new TextDecoder().decode(d.slice(0,y)),e.pos=c*sn+g+y+1):(l+=new TextDecoder().decode(d),e.pos=c*sn+g+d.length),i=e.pos}return l}}const tR=1024,eR=512,nR=2,rR=0,iR=65536,oR=8192;async function kC(n,t,e){if(typeof n=="string"&&(n={type:"file",fileName:n,cacheSize:iR,pageSize:oR}),n.type=="file")return await xC(n.fileName,tR|eR|nR,n.cacheSize,n.pageSize);if(n.type=="mem")return Y9(n);if(n.type=="bigMem")return X9(n);throw new Error("Invalid FastFile type: "+n.type)}async function MC(n,t,e){if(n instanceof Uint8Array&&(n={type:"mem",data:n}),typeof n=="string"&&(n={type:"mem",data:await fetch(n).then(function(i){return i.arrayBuffer()}).then(function(i){return new Uint8Array(i)})}),n.type=="file")return await xC(n.fileName,rR,n.cacheSize,n.pageSize);if(n.type=="mem")return await Z9(n);if(n.type=="bigMem")return await J9(n);throw new Error("Invalid FastFile type: "+n.type)}async function H1(n,t,e,r,i){const a=await MC(n),l=await a.read(4);let c="";for(let y=0;y<4;y++)c+=String.fromCharCode(l[y]);if(c!=t)throw new Error(n+": Invalid File format");if(await a.readULE32()>e)throw new Error("Version not supported");const f=await a.readULE32();let d=[];for(let y=0;y<f;y++){let v=await a.readULE32(),w=await a.readULE64();typeof d[v]>"u"&&(d[v]=[]),d[v].push({p:a.pos,size:w}),a.pos+=w}return{fd:a,sections:d}}async function sR(n,t,e,r,i,a){const l=await kC(n),c=new Uint8Array(4);for(let g=0;g<4;g++)c[g]=t.charCodeAt(g);return await l.write(c,0),await l.writeULE32(e),await l.writeULE32(r),l}async function Y1(n,t){if(typeof n.writingSection<"u")throw new Error("Already writing a section");await n.writeULE32(t),n.writingSection={pSectionSize:n.pos},await n.writeULE64(0)}async function Z1(n){if(typeof n.writingSection>"u")throw new Error("Not writing a section");const t=n.pos-n.writingSection.pSectionSize-8,e=n.pos;n.pos=n.writingSection.pSectionSize,await n.writeULE64(t),n.pos=e,delete n.writingSection}async function Dl(n,t,e){if(typeof n.readingSection<"u")throw new Error("Already reading a section");if(!t[e])throw new Error(n.fileName+": Missing section "+e);if(t[e].length>1)throw new Error(n.fileName+": Section Duplicated "+e);n.pos=t[e][0].p,n.readingSection=t[e][0]}async function Ul(n,t){if(typeof n.readingSection>"u")throw new Error("Not reading a section");if(n.pos-n.readingSection.p!=n.readingSection.size)throw new Error("Invalid section size reading");delete n.readingSection}async function aR(n,t,e,r){const i=new Uint8Array(e);Ie.toRprLE(i,0,t,e),await n.write(i,r)}async function Fs(n,t,e){const r=await n.read(t,e);return Ie.fromRprLE(r,0,t)}async function us(n,t,e,r,i){if(r=typeof r>"u"?0:r,i=typeof i>"u"?t[e][0].size-r:i,r+i>t[e][0].size)throw new Error("Reading out of the range of the section");let a;return i<1<<30?a=new Uint8Array(i):a=new be(i),await n.readToBuffer(a,0,i,t[e][0].p+r),a}Ie.e("73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001",16);Ie.e("21888242871839275222246405745257275088548364400416034343698204186575808495617");const cR=Ie.e("1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab",16),lR=Ie.e("21888242871839275222246405745257275088696311157297823662689037894645226208583");async function H0(n,t){let e,r=t&&t.singleThread;if(Ie.eq(n,lR))e=await LC(r);else if(Ie.eq(n,cR))e=await CC(r);else throw new Error(`Curve not supported: ${Ie.toString(n)}`);return e}async function uR(n,t){let e,r=t&&t.singleThread;const i=a(n);if(["BN128","BN254","ALTBN128"].indexOf(i)>=0)e=await LC(r);else if(["BLS12381"].indexOf(i)>=0)e=await CC(r);else throw new Error(`Curve not supported: ${n}`);return e;function a(l){return l.toUpperCase().match(/[A-Za-z0-9]+/g).join("")}}var dR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zi={exports:{}},fR=PC;class FC extends Error{}FC.prototype.name="AssertionError";function PC(n,t){if(!n){var e=new FC(t);throw Error.captureStackTrace&&Error.captureStackTrace(e,PC),e}}var b2={exports:{}};function TC(n){return n.length}function hR(n){const t=n.byteLength;let e="";for(let r=0;r<t;r++)e+=String.fromCharCode(n[r]);return e}function gR(n,t,e=0,r=TC(t)){const i=Math.min(r,n.byteLength-e);for(let a=0;a<i;a++)n[e+a]=t.charCodeAt(a);return i}var pR={byteLength:TC,toString:hR,write:gR};const La="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bs=new Uint8Array(256);for(let n=0;n<La.length;n++)bs[La.charCodeAt(n)]=n;bs[45]=62;bs[95]=63;function RC(n){let t=n.length;return n.charCodeAt(t-1)===61&&t--,t>1&&n.charCodeAt(t-1)===61&&t--,t*3>>>2}function mR(n){const t=n.byteLength;let e="";for(let r=0;r<t;r+=3)e+=La[n[r]>>2]+La[(n[r]&3)<<4|n[r+1]>>4]+La[(n[r+1]&15)<<2|n[r+2]>>6]+La[n[r+2]&63];return t%3===2?e=e.substring(0,e.length-1)+"=":t%3===1&&(e=e.substring(0,e.length-2)+"=="),e}function _R(n,t,e=0,r=RC(t)){const i=Math.min(r,n.byteLength-e);for(let a=0,l=0;l<i;a+=4){const c=bs[t.charCodeAt(a)],g=bs[t.charCodeAt(a+1)],f=bs[t.charCodeAt(a+2)],d=bs[t.charCodeAt(a+3)];n[l++]=c<<2|g>>4,n[l++]=(g&15)<<4|f>>2,n[l++]=(f&3)<<6|d&63}return i}var yR={byteLength:RC,toString:mR,write:_R};function NC(n){return n.length>>>1}function wR(n){const t=n.byteLength;n=new DataView(n.buffer,n.byteOffset,t);let e="",r=0;for(let i=t-t%4;r<i;r+=4)e+=n.getUint32(r).toString(16).padStart(8,"0");for(;r<t;r++)e+=n.getUint8(r).toString(16).padStart(2,"0");return e}function vR(n,t,e=0,r=NC(t)){const i=Math.min(r,n.byteLength-e);for(let a=0;a<i;a++){const l=X1(t.charCodeAt(a*2)),c=X1(t.charCodeAt(a*2+1));if(l===void 0||c===void 0)return n.subarray(0,a);n[e+a]=l<<4|c}return i}var bR={byteLength:NC,toString:wR,write:vR};function X1(n){if(n>=48&&n<=57)return n-48;if(n>=65&&n<=70)return n-65+10;if(n>=97&&n<=102)return n-97+10}function A2(n){let t=0;for(let e=0,r=n.length;e<r;e++){const i=n.charCodeAt(e);if(i>=55296&&i<=56319&&e+1<r){const a=n.charCodeAt(e+1);if(a>=56320&&a<=57343){t+=4,e++;continue}}i<=127?t+=1:i<=2047?t+=2:t+=3}return t}let L2;if(typeof TextDecoder<"u"){const n=new TextDecoder;L2=function(e){return n.decode(e)}}else L2=function(t){const e=t.byteLength;let r="",i=0;for(;i<e;){let a=t[i];if(a<=127){r+=String.fromCharCode(a),i++;continue}let l=0,c=0;if(a<=223?(l=1,c=a&31):a<=239?(l=2,c=a&15):a<=244&&(l=3,c=a&7),e-i-l>0){let g=0;for(;g<l;)a=t[i+g+1],c=c<<6|a&63,g+=1}else c=65533,l=e-i;r+=String.fromCodePoint(c),i+=l+1}return r};let C2;if(typeof TextEncoder<"u"){const n=new TextEncoder;C2=function(e,r,i=0,a=A2(r)){const l=Math.min(a,e.byteLength-i);return n.encodeInto(r,e.subarray(i,i+l)),l}}else C2=function(t,e,r=0,i=A2(e)){const a=Math.min(i,t.byteLength-r);t=t.subarray(r,r+a);let l=0,c=0;for(;l<e.length;){const g=e.codePointAt(l);if(g<=127){t[c++]=g,l++;continue}let f=0,d=0;for(g<=2047?(f=6,d=192):g<=65535?(f=12,d=224):g<=2097151&&(f=18,d=240),t[c++]=d|g>>f,f-=6;f>=0;)t[c++]=128|g>>f&63,f-=6;l+=g>=65536?2:1}return a};var AR={byteLength:A2,toString:L2,write:C2};function jC(n){return n.length*2}function LR(n){const t=n.byteLength;let e="";for(let r=0;r<t-1;r+=2)e+=String.fromCharCode(n[r]+n[r+1]*256);return e}function CR(n,t,e=0,r=jC(t)){const i=Math.min(r,n.byteLength-e);let a=i;for(let l=0;l<t.length&&!((a-=2)<0);++l){const c=t.charCodeAt(l),g=c>>8,f=c%256;n[e+l*2]=f,n[e+l*2+1]=g}return i}var IR={byteLength:jC,toString:LR,write:CR};(function(n,t){const e=pR,r=yR,i=bR,a=AR,l=IR,c=new Uint8Array(Uint16Array.of(255).buffer)[0]===255;function g(p){switch(p){case"ascii":return e;case"base64":return r;case"hex":return i;case"utf8":case"utf-8":case void 0:return a;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l;default:throw new Error(`Unknown encoding: ${p}`)}}function f(p){return p instanceof Uint8Array}function d(p){try{return g(p),!0}catch{return!1}}function y(p,U,T){const C=new Uint8Array(p);return U!==void 0&&t.fill(C,U,0,C.byteLength,T),C}function v(p){return new Uint8Array(p)}function w(p){return new Uint8Array(p)}function F(p,U){return g(U).byteLength(p)}function B(p,U){if(p===U)return 0;const T=Math.min(p.byteLength,U.byteLength);p=new DataView(p.buffer,p.byteOffset,p.byteLength),U=new DataView(U.buffer,U.byteOffset,U.byteLength);let C=0;for(let Z=T-T%4;C<Z;C+=4){const bt=p.getUint32(C,c),mt=U.getUint32(C,c);if(bt!==mt)break}for(;C<T;C++){const Z=p.getUint8(C),bt=U.getUint8(C);if(Z<bt)return-1;if(Z>bt)return 1}return p.byteLength>U.byteLength?1:p.byteLength<U.byteLength?-1:0}function x(p,U){U===void 0&&(U=p.reduce((Z,bt)=>Z+bt.byteLength,0));const T=new Uint8Array(U);let C=0;for(const Z of p){if(C+Z.byteLength>T.byteLength){const bt=Z.subarray(0,T.byteLength-C);return T.set(bt,C),T}T.set(Z,C),C+=Z.byteLength}return T}function M(p,U,T=0,C=0,Z=p.byteLength){if(Z>0&&Z<C||Z===C||p.byteLength===0||U.byteLength===0)return 0;if(T<0)throw new RangeError("targetStart is out of range");if(C<0||C>=p.byteLength)throw new RangeError("sourceStart is out of range");if(Z<0)throw new RangeError("sourceEnd is out of range");T>=U.byteLength&&(T=U.byteLength),Z>p.byteLength&&(Z=p.byteLength),U.byteLength-T<Z-C&&(Z=U.length-T+C);const bt=Z-C;return p===U?U.copyWithin(T,C,Z):U.set(p.subarray(C,Z),T),bt}function O(p,U){if(p===U)return!0;if(p.byteLength!==U.byteLength)return!1;const T=p.byteLength;p=new DataView(p.buffer,p.byteOffset,p.byteLength),U=new DataView(U.buffer,U.byteOffset,U.byteLength);let C=0;for(let Z=T-T%4;C<Z;C+=4)if(p.getUint32(C,c)!==U.getUint32(C,c))return!1;for(;C<T;C++)if(p.getUint8(C)!==U.getUint8(C))return!1;return!0}function $(p,U,T,C,Z){if(typeof U=="string"?typeof T=="string"?(Z=T,T=0,C=p.byteLength):typeof C=="string"&&(Z=C,C=p.byteLength):typeof U=="number"?U=U&255:typeof U=="boolean"&&(U=+U),T<0||p.byteLength<T||p.byteLength<C)throw new RangeError("Out of range index");if(T===void 0&&(T=0),C===void 0&&(C=p.byteLength),C<=T)return p;if(U||(U=0),typeof U=="number")for(let bt=T;bt<C;++bt)p[bt]=U;else{U=f(U)?U:D(U,Z);const bt=U.byteLength;for(let mt=0;mt<C-T;++mt)p[mt+T]=U[mt%bt]}return p}function D(p,U,T){return typeof p=="string"?V(p,U):Array.isArray(p)?P(p):ArrayBuffer.isView(p)?_(p):I(p,U,T)}function V(p,U){const T=g(U),C=new Uint8Array(T.byteLength(p));return T.write(C,p,0,C.byteLength),C}function P(p){const U=new Uint8Array(p.length);return U.set(p),U}function _(p){const U=new Uint8Array(p.byteLength);return U.set(p),U}function I(p,U,T){return new Uint8Array(p,U,T)}function nt(p,U,T,C){return H(p,U,T,C)!==-1}function rt(p,U,T,C,Z){if(p.byteLength===0)return-1;if(typeof T=="string"?(C=T,T=0):T===void 0?T=Z?0:p.length-1:T<0&&(T+=p.byteLength),T>=p.byteLength){if(Z)return-1;T=p.byteLength-1}else if(T<0)if(Z)T=0;else return-1;if(typeof U=="string")U=D(U,C);else if(typeof U=="number")return U=U&255,Z?p.indexOf(U,T):p.lastIndexOf(U,T);if(U.byteLength===0)return-1;if(Z){let bt=-1;for(let mt=T;mt<p.byteLength;mt++)if(p[mt]===U[bt===-1?0:mt-bt]){if(bt===-1&&(bt=mt),mt-bt+1===U.byteLength)return bt}else bt!==-1&&(mt-=mt-bt),bt=-1}else{T+U.byteLength>p.byteLength&&(T=p.byteLength-U.byteLength);for(let bt=T;bt>=0;bt--){let mt=!0;for(let Et=0;Et<U.byteLength;Et++)if(p[bt+Et]!==U[Et]){mt=!1;break}if(mt)return bt}}return-1}function H(p,U,T,C){return rt(p,U,T,C,!0)}function Q(p,U,T,C){return rt(p,U,T,C,!1)}function k(p,U,T){const C=p[U];p[U]=p[T],p[T]=C}function W(p){const U=p.byteLength;if(U%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let T=0;T<U;T+=2)k(p,T,T+1);return p}function tt(p){const U=p.byteLength;if(U%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let T=0;T<U;T+=4)k(p,T,T+3),k(p,T+1,T+2);return p}function ct(p){const U=p.byteLength;if(U%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let T=0;T<U;T+=8)k(p,T,T+7),k(p,T+1,T+6),k(p,T+2,T+5),k(p,T+3,T+4);return p}function ut(p){return p}function G(p,U,T=0,C=p.byteLength){const Z=p.byteLength;return T>=Z||C<=T?"":(T<0&&(T=0),C>Z&&(C=Z),(T!==0||C<Z)&&(p=p.subarray(T,C)),g(U).toString(p))}function X(p,U,T,C,Z){return T===void 0?Z="utf8":C===void 0&&typeof T=="string"?(Z=T,T=void 0):Z===void 0&&typeof C=="string"&&(Z=C,C=void 0),g(Z).write(p,U,T,C)}function J(p,U,T){return T===void 0&&(T=0),new DataView(p.buffer,p.byteOffset,p.byteLength).setFloat64(T,U,!0),T+8}function q(p,U,T){return T===void 0&&(T=0),new DataView(p.buffer,p.byteOffset,p.byteLength).setFloat32(T,U,!0),T+4}function lt(p,U,T){return T===void 0&&(T=0),new DataView(p.buffer,p.byteOffset,p.byteLength).setUint32(T,U,!0),T+4}function St(p,U,T){return T===void 0&&(T=0),new DataView(p.buffer,p.byteOffset,p.byteLength).setInt32(T,U,!0),T+4}function Ct(p,U){return U===void 0&&(U=0),new DataView(p.buffer,p.byteOffset,p.byteLength).getFloat64(U,!0)}function E(p,U){return U===void 0&&(U=0),new DataView(p.buffer,p.byteOffset,p.byteLength).getFloat32(U,!0)}function h(p,U){return U===void 0&&(U=0),new DataView(p.buffer,p.byteOffset,p.byteLength).getUint32(U,!0)}function R(p,U){return U===void 0&&(U=0),new DataView(p.buffer,p.byteOffset,p.byteLength).getInt32(U,!0)}n.exports=t={isBuffer:f,isEncoding:d,alloc:y,allocUnsafe:v,allocUnsafeSlow:w,byteLength:F,compare:B,concat:x,copy:M,equals:O,fill:$,from:D,includes:nt,indexOf:H,lastIndexOf:Q,swap16:W,swap32:tt,swap64:ct,toBuffer:ut,toString:G,write:X,writeDoubleLE:J,writeFloatLE:q,writeUInt32LE:lt,writeInt32LE:St,readDoubleLE:Ct,readFloatLE:E,readUInt32LE:h,readInt32LE:R}})(b2,b2.exports);var pp,J1;function xR(){if(J1)return pp;J1=1;var n=(a,l)=>function(){return l||(0,a[Object.keys(a)[0]])((l={exports:{}}).exports,l),l.exports},t=(()=>{for(var a=new Uint8Array(128),l=0;l<64;l++)a[l<26?l+65:l<52?l+71:l<62?l-4:l*4-205]=l;return c=>{for(var g=c.length,f=new Uint8Array((g-(c[g-1]=="=")-(c[g-2]=="="))*3/4|0),d=0,y=0;d<g;){var v=a[c.charCodeAt(d++)],w=a[c.charCodeAt(d++)],F=a[c.charCodeAt(d++)],B=a[c.charCodeAt(d++)];f[y++]=v<<2|w>>4,f[y++]=w<<4|F>>2,f[y++]=F<<6|B}return f}})(),e=n({"wasm-binary:./blake2b.wat"(a,l){l.exports=t("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMKvz8EwAIAIABCADcDACAAQgA3AwggAEIANwMQIABCADcDGCAAQgA3AyAgAEIANwMoIABCADcDMCAAQgA3AzggAEIANwNAIABCADcDSCAAQgA3A1AgAEIANwNYIABCADcDYCAAQgA3A2ggAEIANwNwIABCADcDeCAAQoiS853/zPmE6gBBACkDAIU3A4ABIABCu86qptjQ67O7f0EIKQMAhTcDiAEgAEKr8NP0r+68tzxBECkDAIU3A5ABIABC8e30+KWn/aelf0EYKQMAhTcDmAEgAELRhZrv+s+Uh9EAQSApAwCFNwOgASAAQp/Y+dnCkdqCm39BKCkDAIU3A6gBIABC6/qG2r+19sEfQTApAwCFNwOwASAAQvnC+JuRo7Pw2wBBOCkDAIU3A7gBIABCADcDwAEgAEIANwPIASAAQgA3A9ABC20BA38gAEHAAWohAyAAQcgBaiEEIAQpAwCnIQUCQANAIAEgAkYNASAFQYABRgRAIAMgAykDACAFrXw3AwBBACEFIAAQAwsgACAFaiABLQAAOgAAIAVBAWohBSABQQFqIQEMAAsLIAQgBa03AwALYQEDfyAAQcABaiEBIABByAFqIQIgASABKQMAIAIpAwB8NwMAIABCfzcD0AEgAikDAKchAwJAA0AgA0GAAUYNASAAIANqQQA6AAAgA0EBaiEDDAALCyACIAOtNwMAIAAQAwuqOwIgfgl/IABBgAFqISEgAEGIAWohIiAAQZABaiEjIABBmAFqISQgAEGgAWohJSAAQagBaiEmIABBsAFqIScgAEG4AWohKCAhKQMAIQEgIikDACECICMpAwAhAyAkKQMAIQQgJSkDACEFICYpAwAhBiAnKQMAIQcgKCkDACEIQoiS853/zPmE6gAhCUK7zqqm2NDrs7t/IQpCq/DT9K/uvLc8IQtC8e30+KWn/aelfyEMQtGFmu/6z5SH0QAhDUKf2PnZwpHagpt/IQ5C6/qG2r+19sEfIQ9C+cL4m5Gjs/DbACEQIAApAwAhESAAKQMIIRIgACkDECETIAApAxghFCAAKQMgIRUgACkDKCEWIAApAzAhFyAAKQM4IRggACkDQCEZIAApA0ghGiAAKQNQIRsgACkDWCEcIAApA2AhHSAAKQNoIR4gACkDcCEfIAApA3ghICANIAApA8ABhSENIA8gACkD0AGFIQ8gASAFIBF8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSASfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgE3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBR8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAVfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBd8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAYfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgGXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBp8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAbfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgHHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIB18fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAefHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgH3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFICB8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAffHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgG3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBV8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAZfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHICB8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAefHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggF3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBJ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAdfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgEXx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBN8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAcfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGHx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBZ8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAUfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHHx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBl8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAdfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgEXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBZ8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByATfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggIHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIB58fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAbfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgH3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBR8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAXfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBJ8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAafHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFXx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBh8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAafHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFHx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBJ8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAefHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHXx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBx8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAffHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgE3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBd8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAWfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgG3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBV8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCARfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgIHx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBl8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAafHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEXx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBZ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAYfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgE3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBV8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAbfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggIHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIB98fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiASfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgHHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB18fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAXfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBR8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAefHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgE3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIB18fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAXfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgG3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBF8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAcfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggGXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBR8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAVfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBh8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAWfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggIHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB98fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSASfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgGnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB18fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAWfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgEnx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGICB8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAffHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBV8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAbfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBh8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAXfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBp8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCATfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGXx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBx8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAefHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgHHx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBh8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAffHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBJ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAUfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBZ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiARfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgIHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBV8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAZfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggF3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBN8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAbfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgF3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFICB8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAffHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGnx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBx8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAUfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggEXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBl8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAdfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgE3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIB58fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAYfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggEnx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBV8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAbfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBt8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSATfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgGXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBV8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAYfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgF3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBJ8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAWfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgIHx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBx8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAafHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgH3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBR8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAdfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgHnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBF8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgISAhKQMAIAEgCYWFNwMAICIgIikDACACIAqFhTcDACAjICMpAwAgAyALhYU3AwAgJCAkKQMAIAQgDIWFNwMAICUgJSkDACAFIA2FhTcDACAmICYpAwAgBiAOhYU3AwAgJyAnKQMAIAcgD4WFNwMAICggKCkDACAIIBCFhTcDAAs=")}}),r=e(),i=WebAssembly.compile(r);return pp=async a=>(await WebAssembly.instantiate(await i,a)).exports,pp}var lr=fR,ER=b2.exports,qi=null,tw=typeof WebAssembly<"u"&&xR()().then(n=>{qi=n}),Ui=64,Rd=[];Zi.exports=zn;var ew=Zi.exports.BYTES_MIN=16,nw=Zi.exports.BYTES_MAX=64;Zi.exports.BYTES=32;var rw=Zi.exports.KEYBYTES_MIN=16,iw=Zi.exports.KEYBYTES_MAX=64;Zi.exports.KEYBYTES=32;var ow=Zi.exports.SALTBYTES=16,sw=Zi.exports.PERSONALBYTES=16;function zn(n,t,e,r,i){if(!(this instanceof zn))return new zn(n,t,e,r,i);if(!qi)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");n||(n=32),i!==!0&&(lr(n>=ew,"digestLength must be at least "+ew+", was given "+n),lr(n<=nw,"digestLength must be at most "+nw+", was given "+n),t!=null&&(lr(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),lr(t.length>=rw,"key must be at least "+rw+", was given "+t.length),lr(t.length<=iw,"key must be at least "+iw+", was given "+t.length)),e!=null&&(lr(e instanceof Uint8Array,"salt must be Uint8Array or Buffer"),lr(e.length===ow,"salt must be exactly "+ow+", was given "+e.length)),r!=null&&(lr(r instanceof Uint8Array,"personal must be Uint8Array or Buffer"),lr(r.length===sw,"personal must be exactly "+sw+", was given "+r.length))),Rd.length||(Rd.push(Ui),Ui+=216),this.digestLength=n,this.finalized=!1,this.pointer=Rd.pop(),this._memory=new Uint8Array(qi.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=t?t.length:0,this._memory[2]=1,this._memory[3]=1,e&&this._memory.set(e,32),r&&this._memory.set(r,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),qi.blake2b_init(this.pointer,this.digestLength),t&&(this.update(t),this._memory.fill(0,Ui,Ui+t.length),this._memory[this.pointer+200]=128)}zn.prototype._realloc=function(n){qi.memory.grow(Math.max(0,Math.ceil(Math.abs(n-this._memory.length)/65536))),this._memory=new Uint8Array(qi.memory.buffer)};zn.prototype.update=function(n){return lr(this.finalized===!1,"Hash instance finalized"),lr(n instanceof Uint8Array,"input must be Uint8Array or Buffer"),Ui+n.length>this._memory.length&&this._realloc(Ui+n.length),this._memory.set(n,Ui),qi.blake2b_update(this.pointer,Ui,Ui+n.length),this};zn.prototype.digest=function(n){if(lr(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,Rd.push(this.pointer),qi.blake2b_final(this.pointer),!n||n==="binary")return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(typeof n=="string")return ER.toString(this._memory,n,this.pointer+128,this.pointer+128+this.digestLength);lr(n instanceof Uint8Array&&n.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var t=0;t<this.digestLength;t++)n[t]=this._memory[this.pointer+128+t];return n};zn.prototype.final=zn.prototype.digest;zn.WASM=qi;zn.SUPPORTED=typeof WebAssembly<"u";zn.ready=function(n){return n||(n=SR),tw?tw.then(()=>n(),n):n(new Error("WebAssembly not supported"))};zn.prototype.ready=zn.ready;zn.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)};zn.prototype.setPartialHash=function(n){this._memory.set(n,this.pointer)};function SR(){}function zf(n){return((n&4294901760)!==0?(n&=4294901760,16):0)|((n&4278255360)!==0?(n&=4278255360,8):0)|((n&4042322160)!==0?(n&=4042322160,4):0)|((n&3435973836)!==0?(n&=3435973836,2):0)|(n&2863311530)!==0}const OR=1,BR=2,DC=10,kR=2;async function Ar(n,t,e){const r=await n.read(t.G1.F.n8*2),i=t.G1.fromRprLEM(r,0);return e?t.G1.toObject(i):i}async function il(n,t,e){const r=await n.read(t.G2.F.n8*2),i=t.G2.fromRprLEM(r,0);return e?t.G2.toObject(i):i}async function MR(n,t,e,r){await Dl(n,t,1);const i=await n.readULE32();if(await Ul(n),i===OR)return await FR(n,t,e,r);if(i===BR)return await PR(n,t,e,r);if(i===DC)return await TR(n,t,e,r);throw new Error("Protocol not supported: ")}async function FR(n,t,e,r){const i={};i.protocol="groth16",await Dl(n,t,2);const a=await n.readULE32();i.n8q=a,i.q=await Fs(n,a);const l=await n.readULE32();return i.n8r=l,i.r=await Fs(n,l),i.curve=await H0(i.q,r),i.nVars=await n.readULE32(),i.nPublic=await n.readULE32(),i.domainSize=await n.readULE32(),i.power=zf(i.domainSize),i.vk_alpha_1=await Ar(n,i.curve,e),i.vk_beta_1=await Ar(n,i.curve,e),i.vk_beta_2=await il(n,i.curve,e),i.vk_gamma_2=await il(n,i.curve,e),i.vk_delta_1=await Ar(n,i.curve,e),i.vk_delta_2=await il(n,i.curve,e),await Ul(n),i}async function PR(n,t,e,r){const i={};i.protocol="plonk",await Dl(n,t,2);const a=await n.readULE32();i.n8q=a,i.q=await Fs(n,a);const l=await n.readULE32();return i.n8r=l,i.r=await Fs(n,l),i.curve=await H0(i.q,r),i.nVars=await n.readULE32(),i.nPublic=await n.readULE32(),i.domainSize=await n.readULE32(),i.power=zf(i.domainSize),i.nAdditions=await n.readULE32(),i.nConstraints=await n.readULE32(),i.k1=await n.read(l),i.k2=await n.read(l),i.Qm=await Ar(n,i.curve,e),i.Ql=await Ar(n,i.curve,e),i.Qr=await Ar(n,i.curve,e),i.Qo=await Ar(n,i.curve,e),i.Qc=await Ar(n,i.curve,e),i.S1=await Ar(n,i.curve,e),i.S2=await Ar(n,i.curve,e),i.S3=await Ar(n,i.curve,e),i.X_2=await il(n,i.curve,e),await Ul(n),i}async function TR(n,t,e,r){const i={};i.protocol="fflonk",i.protocolId=DC,await Dl(n,t,kR);const a=await n.readULE32();i.n8q=a,i.q=await Fs(n,a),i.curve=await H0(i.q,r);const l=await n.readULE32();return i.n8r=l,i.r=await Fs(n,l),i.nVars=await n.readULE32(),i.nPublic=await n.readULE32(),i.domainSize=await n.readULE32(),i.power=zf(i.domainSize),i.nAdditions=await n.readULE32(),i.nConstraints=await n.readULE32(),i.k1=await n.read(l),i.k2=await n.read(l),i.w3=await n.read(l),i.w4=await n.read(l),i.w8=await n.read(l),i.wr=await n.read(l),i.X_2=await il(n,i.curve,e),i.C0=await Ar(n,i.curve,e),await Ul(n),i}async function RR(n,t,e){await Y1(n,1);const r=(Math.floor((Ie.bitLength(e)-1)/64)+1)*8;if(await n.writeULE32(r),await aR(n,e,r),t.byteLength%r!=0)throw new Error("Invalid witness length");await n.writeULE32(t.byteLength/r),await Z1(n),await Y1(n,2),await n.write(t),await Z1(n)}async function NR(n,t){await Dl(n,t,1);const e=await n.readULE32(),r=await Fs(n,e),i=await n.readULE32();return await Ul(n),{n8:e,q:r,nWitness:i}}const{stringifyBigInts:aw}=Pn;async function UC(n,t,e,r){const{fd:i,sections:a}=await H1(t,"wtns",2),l=await NR(i,a),{fd:c,sections:g}=await H1(n,"zkey",2),f=await MR(c,g,void 0,r);if(f.protocol!="groth16")throw new Error("zkey file is not groth16");if(!Ie.eq(f.r,l.q))throw new Error("Curve of the witness does not match the curve of the proving key");if(l.nWitness!=f.nVars)throw new Error(`Invalid witness length. Circuit: ${f.nVars}, witness: ${l.nWitness}`);const d=f.curve,y=d.Fr,v=d.G1,w=d.G2,F=zf(f.domainSize);e&&e.debug("Reading Wtns");const B=await us(i,a,2);e&&e.debug("Reading Coeffs");const x=await us(c,g,4);e&&e.debug("Building ABC");const[M,O,$]=await jR(d,f,B,x,e),D=F==y.s?d.Fr.shift:d.Fr.w[F+1],V=await y.ifft(M,"","",e,"IFFT_A"),P=await y.batchApplyKey(V,y.e(1),D),_=await y.fft(P,"","",e,"FFT_A"),I=await y.ifft(O,"","",e,"IFFT_B"),nt=await y.batchApplyKey(I,y.e(1),D),rt=await y.fft(nt,"","",e,"FFT_B"),H=await y.ifft($,"","",e,"IFFT_C"),Q=await y.batchApplyKey(H,y.e(1),D),k=await y.fft(Q,"","",e,"FFT_C");e&&e.debug("Join ABC");const W=await DR(d,f,_,rt,k,e);let tt={};e&&e.debug("Reading A Points");const ct=await us(c,g,5);tt.pi_a=await d.G1.multiExpAffine(ct,B,e,"multiexp A"),e&&e.debug("Reading B1 Points");const ut=await us(c,g,6);let G=await d.G1.multiExpAffine(ut,B,e,"multiexp B1");e&&e.debug("Reading B2 Points");const X=await us(c,g,7);tt.pi_b=await d.G2.multiExpAffine(X,B,e,"multiexp B2"),e&&e.debug("Reading C Points");const J=await us(c,g,8);tt.pi_c=await d.G1.multiExpAffine(J,B.slice((f.nPublic+1)*d.Fr.n8),e,"multiexp C"),e&&e.debug("Reading H Points");const q=await us(c,g,9),lt=await d.G1.multiExpAffine(q,W,e,"multiexp H"),St=d.Fr.random(),Ct=d.Fr.random();tt.pi_a=v.add(tt.pi_a,f.vk_alpha_1),tt.pi_a=v.add(tt.pi_a,v.timesFr(f.vk_delta_1,St)),tt.pi_b=w.add(tt.pi_b,f.vk_beta_2),tt.pi_b=w.add(tt.pi_b,w.timesFr(f.vk_delta_2,Ct)),G=v.add(G,f.vk_beta_1),G=v.add(G,v.timesFr(f.vk_delta_1,Ct)),tt.pi_c=v.add(tt.pi_c,lt),tt.pi_c=v.add(tt.pi_c,v.timesFr(tt.pi_a,Ct)),tt.pi_c=v.add(tt.pi_c,v.timesFr(G,St)),tt.pi_c=v.add(tt.pi_c,v.timesFr(f.vk_delta_1,y.neg(y.mul(St,Ct))));let E=[];for(let h=1;h<=f.nPublic;h++){const R=B.slice(h*y.n8,h*y.n8+y.n8);E.push(Ie.fromRprLE(R))}return tt.pi_a=v.toObject(v.toAffine(tt.pi_a)),tt.pi_b=w.toObject(w.toAffine(tt.pi_b)),tt.pi_c=v.toObject(v.toAffine(tt.pi_c)),tt.protocol="groth16",tt.curve=d.name,await c.close(),await i.close(),tt=aw(tt),E=aw(E),{proof:tt,publicSignals:E}}async function jR(n,t,e,r,i){const a=n.Fr.n8,l=12+t.n8r,c=(r.byteLength-4)/l,g=new be(t.domainSize*a),f=new be(t.domainSize*a),d=new be(t.domainSize*a),y=[g,f];for(let v=0;v<c;v++){i&&v%1e6==0&&i.debug(`QAP AB: ${v}/${c}`);const w=r.slice(4+v*l,4+v*l+l),F=new DataView(w.buffer),B=F.getUint32(0,!0),x=F.getUint32(4,!0),M=F.getUint32(8,!0),O=w.slice(12,12+a);y[B].set(n.Fr.add(y[B].slice(x*a,x*a+a),n.Fr.mul(O,e.slice(M*a,M*a+a))),x*a)}for(let v=0;v<t.domainSize;v++)i&&v%1e6==0&&i.debug(`QAP C: ${v}/${t.domainSize}`),d.set(n.Fr.mul(g.slice(v*a,v*a+a),f.slice(v*a,v*a+a)),v*a);return[g,f,d]}async function DR(n,t,e,r,i,a){const c=n.Fr.n8,g=Math.floor(e.byteLength/n.Fr.n8),f=[];for(let w=0;w<g;w+=4194304){a&&a.debug(`JoinABC: ${w}/${g}`);const F=Math.min(g-w,4194304),B=[],x=e.slice(w*c,(w+F)*c),M=r.slice(w*c,(w+F)*c),O=i.slice(w*c,(w+F)*c);B.push({cmd:"ALLOCSET",var:0,buff:x}),B.push({cmd:"ALLOCSET",var:1,buff:M}),B.push({cmd:"ALLOCSET",var:2,buff:O}),B.push({cmd:"ALLOC",var:3,len:F*c}),B.push({cmd:"CALL",fnName:"qap_joinABC",params:[{var:0},{var:1},{var:2},{val:F},{var:3}]}),B.push({cmd:"CALL",fnName:"frm_batchFromMontgomery",params:[{var:3},{val:F},{var:3}]}),B.push({cmd:"GET",out:0,var:3,len:F*c}),f.push(n.tm.queueAction(B))}const d=await Promise.all(f);let y;e instanceof be?y=new be(e.byteLength):y=new Uint8Array(e.byteLength);let v=0;for(let w=0;w<d.length;w++)y.set(d[w][0],v),v+=d[w][0].byteLength;return y}function zC(n){let t=[];return e(t,n),t;function e(r,i){if(Array.isArray(i))for(let a=0;a<i.length;a++)e(r,i[a]);else r.push(i)}}function UR(n,t){let e=BigInt(n)%t;return e<0&&(e+=t),e}function $C(n){const t=BigInt(2)**BigInt(64);let e=BigInt("0xCBF29CE484222325");for(let a=0;a<n.length;a++)e^=BigInt(n[a].charCodeAt(0)),e*=BigInt(1099511628211),e%=t;let r=e.toString(16),i=16-r.length;return r="0".repeat(i).concat(r),r}function zR(n,t){const e=[];let r=BigInt(n);const i=BigInt(4294967296);for(;r;)e.unshift(Number(r%i)),r=r/i;if(t){let a=t-e.length;for(;a>0;)e.unshift(0),a--}return e}async function $R(n,t){let e,r,i;t=t||{};let a=1,l=0,c=0,g=!1;if(n instanceof WebAssembly.Instance)e=n,g=!0;else{let v=32767;if(t.memorySize&&(v=parseInt(t.memorySize),v<0))throw new Error("Invalid memory size");let w=!1;for(;!w;)try{i=new WebAssembly.Memory({initial:v}),w=!0}catch(M){if(v<=1)throw M;console.warn("Could not allocate "+v*1024*64+" bytes. This may cause severe instability. Trying with "+v*1024*64/2+" bytes"),v=Math.floor(v/2)}const F=await WebAssembly.compile(n);let B="",x="";e=await WebAssembly.instantiate(F,{env:{memory:i},runtime:{printDebug:function(M){console.log("printDebug:",M)},exceptionHandler:function(M){let O;throw M===1?O="Signal not found. ":M===2?O="Too many signals set. ":M===3?O="Signal already set. ":M===4?O="Assert Failed. ":M===5?O="Not enough memory. ":M===6?O="Input signal array access exceeds the size. ":O="Unknown error. ",console.error("ERROR: ",M,B),new Error(O+B)},printErrorMessage:function(){B+=d()+`
`},writeBufferMessage:function(){const M=d();M===`
`?(console.log(x),x=""):(x!==""&&(x+=" "),x+=M)},showSharedRWMemory:function(){const M=e.exports.getFieldNumLen32(),O=new Uint32Array(M);for(let $=0;$<M;$++)O[M-1-$]=e.exports.readSharedRWMemory($);if(a>=2&&(l>=1||c>=7)){x!==""&&(x+=" ");const $=Ie.fromArray(O,4294967296).toString();x+=$}else console.log(Ie.fromArray(O,4294967296))},error:function(M,O,$,D,V,P){let _;throw M===7?_=y(O)+" "+r.getFr(D).toString()+" != "+r.getFr(V).toString()+" "+y(P):M===9?_=y(O)+" "+r.getFr(D).toString()+" "+y(V):M===5&&t.sym?_=y(O)+" "+t.sym.labelIdx2Name[V]:_=y(O)+" "+$+" "+D+" "+V+" "+P,console.log("ERROR: ",M,_),new Error(_)},log:function(M){console.log(r.getFr(M).toString())},logGetSignal:function(M,O){t.logGetSignal&&t.logGetSignal(M,r.getFr(O))},logSetSignal:function(M,O){t.logSetSignal&&t.logSetSignal(M,r.getFr(O))},logStartComponent:function(M){t.logStartComponent&&t.logStartComponent(M)},logFinishComponent:function(M){t.logFinishComponent&&t.logFinishComponent(M)}}})}typeof e.exports.getVersion=="function"&&(a=e.exports.getVersion()),typeof e.exports.getMinorVersion=="function"&&(l=e.exports.getMinorVersion()),typeof e.exports.getPatchVersion=="function"&&(c=e.exports.getPatchVersion());const f=t&&(t.sanityCheck||t.logGetSignal||t.logSetSignal||t.logStartComponent||t.logFinishComponent);if(a===2)r=new qR(e,f);else if(a===1){if(g)throw new Error("Loading code from WebAssembly instance is not supported for circom version 1");r=new QR(i,e,f)}else throw new Error(`Unsupported circom version: ${a}`);return r;function d(){let v="",w=e.exports.getMessageChar();for(;w!==0;)v+=String.fromCharCode(w),w=e.exports.getMessageChar();return v}function y(v){const w=new Uint8Array(i.buffer),F=[];for(let B=0;w[v+B]>0;B++)F.push(w[v+B]);return String.fromCharCode.apply(null,F)}}class QR{constructor(t,e,r){this.memory=t,this.i32=new Uint32Array(t.buffer),this.instance=e,this.n32=(this.instance.exports.getFrLen()>>2)-2;const i=this.instance.exports.getPRawPrime(),a=new Array(this.n32);for(let l=0;l<this.n32;l++)a[this.n32-1-l]=this.i32[(i>>2)+l];this.prime=Ie.fromArray(a,4294967296),this.Fr=new QT(this.prime),this.mask32=Ie.fromString("FFFFFFFF",16),this.NVars=this.instance.exports.getNVars(),this.n64=Math.floor((this.Fr.bitLength-1)/64)+1,this.R=this.Fr.e(Ie.shiftLeft(1,this.n64*64)),this.RInv=this.Fr.inv(this.R),this.sanityCheck=r}circom_version(){return 1}async _doCalculateWitness(t,e){this.instance.exports.init(this.sanityCheck||e?1:0);const r=this.allocInt(),i=this.allocFr();Object.keys(t).forEach(l=>{const c=$C(l),g=parseInt(c.slice(0,8),16),f=parseInt(c.slice(8,16),16);try{this.instance.exports.getSignalOffset32(r,0,g,f)}catch{throw new Error(`Signal ${l} is not an input of the circuit.`)}const d=this.getInt(r),y=zC(t[l]);for(let v=0;v<y.length;v++)this.setFr(i,y[v]),this.instance.exports.setSignal(0,0,d+v,i)})}async calculateWitness(t,e){const r=this,i=r.i32[0],a=[];await r._doCalculateWitness(t,e);for(let l=0;l<r.NVars;l++){const c=r.instance.exports.getPWitness(l);a.push(r.getFr(c))}return r.i32[0]=i,a}async calculateBinWitness(t,e){const r=this,i=r.i32[0];await r._doCalculateWitness(t,e);const a=r.instance.exports.getWitnessBuffer();r.i32[0]=i;const l=r.memory.buffer.slice(a,a+r.NVars*r.n64*8);return new Uint8Array(l)}allocInt(){const t=this.i32[0];return this.i32[0]=t+8,t}allocFr(){const t=this.i32[0];return this.i32[0]=t+this.n32*4+8,t}getInt(t){return this.i32[t>>2]}setInt(t,e){this.i32[t>>2]=e}getFr(t){const e=this,r=t>>2;if(e.i32[r+1]&2147483648){const a=new Array(e.n32);for(let c=0;c<e.n32;c++)a[e.n32-1-c]=e.i32[r+2+c];const l=e.Fr.e(Ie.fromArray(a,4294967296));return e.i32[r+1]&1073741824?i(l):l}else return e.i32[r]&2147483648?e.Fr.e(e.i32[r]-4294967296):e.Fr.e(e.i32[r]);function i(a){return e.Fr.mul(e.RInv,a)}}setFr(t,e){const r=this;e=r.Fr.e(e);const i=r.Fr.neg(r.Fr.e("80000000",16)),a=r.Fr.e("7FFFFFFF",16);if(r.Fr.geq(e,i)&&r.Fr.leq(e,a)){let c;r.Fr.geq(e,r.Fr.zero)?c=Ie.toNumber(e):(c=Ie.toNumber(r.Fr.sub(e,i)),c=c-2147483648,c=4294967296+c),r.i32[t>>2]=c,r.i32[(t>>2)+1]=0;return}r.i32[t>>2]=0,r.i32[(t>>2)+1]=2147483648;const l=Ie.toArray(e,4294967296);for(let c=0;c<r.n32;c++){const g=l.length-1-c;g>=0?r.i32[(t>>2)+2+c]=l[g]:r.i32[(t>>2)+2+c]=0}}}class qR{constructor(t,e){this.instance=t,this.version=this.instance.exports.getVersion(),this.n32=this.instance.exports.getFieldNumLen32(),this.instance.exports.getRawPrime();const r=new Uint32Array(this.n32);for(let i=0;i<this.n32;i++)r[this.n32-1-i]=this.instance.exports.readSharedRWMemory(i);this.prime=Ie.fromArray(r,4294967296),this.witnessSize=this.instance.exports.getWitnessSize(),this.sanityCheck=e}circom_version(){return this.instance.exports.getVersion()}async _doCalculateWitness(t,e){this.instance.exports.init(this.sanityCheck||e?1:0);const r=Object.keys(t);let i=0;if(r.forEach(a=>{const l=$C(a),c=parseInt(l.slice(0,8),16),g=parseInt(l.slice(8,16),16),f=zC(t[a]);if(typeof this.instance.exports.getInputSignalSize=="function"){let d=this.instance.exports.getInputSignalSize(c,g);if(d<0)throw new Error(`Signal ${a} not found
`);if(f.length<d)throw new Error(`Not enough values for input signal ${a}
`);if(f.length>d)throw new Error(`Too many values for input signal ${a}
`)}for(let d=0;d<f.length;d++){const y=zR(UR(f[d],this.prime),this.n32);for(let v=0;v<this.n32;v++)this.instance.exports.writeSharedRWMemory(v,y[this.n32-1-v]);try{this.instance.exports.setInputSignal(c,g,d),i++}catch(v){throw new Error(v)}}}),i<this.instance.exports.getInputSize())throw new Error(`Not all inputs have been set. Only ${i} out of ${this.instance.exports.getInputSize()}`)}async calculateWitness(t,e){const r=[];await this._doCalculateWitness(t,e);for(let i=0;i<this.witnessSize;i++){this.instance.exports.getWitness(i);const a=new Uint32Array(this.n32);for(let l=0;l<this.n32;l++)a[this.n32-1-l]=this.instance.exports.readSharedRWMemory(l);r.push(Ie.fromArray(a,4294967296))}return r}async calculateWTNSBin(t,e){const r=new Uint32Array(this.witnessSize*this.n32+this.n32+11),i=new Uint8Array(r.buffer);await this._doCalculateWitness(t,e),i[0]=119,i[1]=116,i[2]=110,i[3]=115,r[1]=2,r[2]=2,r[3]=1;const a=this.n32*4,c=(8+a).toString(16);r[4]=parseInt(c.slice(0,8),16),r[5]=parseInt(c.slice(8,16),16),r[6]=a,this.instance.exports.getRawPrime();let g=7;for(let y=0;y<this.n32;y++)r[g+y]=this.instance.exports.readSharedRWMemory(y);g+=this.n32,r[g]=this.witnessSize,g++,r[g]=2,g++;const d=(a*this.witnessSize).toString(16);r[g]=parseInt(d.slice(0,8),16),r[g+1]=parseInt(d.slice(8,16),16),g+=2;for(let y=0;y<this.witnessSize;y++){this.instance.exports.getWitness(y);for(let v=0;v<this.n32;v++)r[g+v]=this.instance.exports.readSharedRWMemory(v);g+=this.n32}return i}}const{unstringifyBigInts:WR}=Pn;async function GR(n,t,e,r){const i=WR(n),a=await MC(t),l=await a.read(a.totalSize);await a.close();const c=await $R(l,r);if(c.circom_version()===1){const g=await c.calculateBinWitness(i),f=await sR(e,"wtns",2,2);await RR(f,g,c.prime),await f.close()}else{const g=await kC(e),f=await c.calculateWTNSBin(i);await g.write(f),await g.close()}}const{unstringifyBigInts:VR}=Pn;async function KR(n,t,e,r,i,a){const l=VR(n),c={type:"mem"};return await GR(l,t,c,i),await UC(e,c,r,a)}const{unstringifyBigInts:mp}=Pn;async function HR(n,t,e,r){const i=mp(n),a=mp(e),l=mp(t),c=await uR(i.curve),g=c.G1.fromObject(i.IC[0]),f=new Uint8Array(c.G1.F.n8*2*l.length),d=new Uint8Array(c.Fr.n8*l.length);if(!ZR(c,l))return r&&r.error("Public inputs are not valid."),!1;for(let D=0;D<l.length;D++){const V=c.G1.fromObject(i.IC[D+1]);f.set(V,D*c.G1.F.n8*2),Ie.toRprLE(d,c.Fr.n8*D,l[D],c.Fr.n8)}let y=await c.G1.multiExpAffine(f,d);y=c.G1.add(y,g);const v=c.G1.fromObject(a.pi_a),w=c.G2.fromObject(a.pi_b),F=c.G1.fromObject(a.pi_c);if(!YR(c,{pi_a:v,pi_b:w,pi_c:F}))return r&&r.error("Proof commitments are not valid."),!1;const B=c.G2.fromObject(i.vk_gamma_2),x=c.G2.fromObject(i.vk_delta_2),M=c.G1.fromObject(i.vk_alpha_1),O=c.G2.fromObject(i.vk_beta_2);return await c.pairingEq(c.G1.neg(v),w,y,B,F,x,M,O)?(r&&r.info("OK!"),!0):(r&&r.error("Invalid proof"),!1)}function YR(n,t){const e=n.G1,r=n.G2;return e.isValid(t.pi_a)&&r.isValid(t.pi_b)&&e.isValid(t.pi_c)}function ZR(n,t){for(let e=0;e<t.length;e++)if(!Ie.lt(t[e],n.r))return!1;return!0}const{unstringifyBigInts:cw}=Pn;function Fi(n){let t=n.toString(16);for(;t.length<64;)t="0"+t;return t=`"0x${t}"`,t}async function XR(n,t){const e=cw(n),r=cw(t);let i="";for(let l=0;l<r.length;l++)i!=""&&(i=i+","),i=i+Fi(r[l]);let a;return a=`[${Fi(e.pi_a[0])}, ${Fi(e.pi_a[1])}],[[${Fi(e.pi_b[0][1])}, ${Fi(e.pi_b[0][0])}],[${Fi(e.pi_b[1][1])}, ${Fi(e.pi_b[1][0])}]],[${Fi(e.pi_c[0])}, ${Fi(e.pi_c[1])}],[${i}]`,a}var JR=Object.freeze({__proto__:null,fullProve:KR,prove:UC,verify:HR,exportSolidityCallData:XR});Ie.e("73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001",16);Ie.e("21888242871839275222246405745257275088548364400416034343698204186575808495617");const{unstringifyBigInts:yN}=Pn,{stringifyBigInts:wN}=Pn,{unstringifyBigInts:vN,stringifyBigInts:bN}=Pn;var QC={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(n){(function(){var t="input is invalid type",e="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var a=!r&&typeof self=="object",l=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;l?i=dR:a&&(i=self);var c=!i.JS_SHA3_NO_COMMON_JS&&!0&&n.exports,g=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",f="0123456789abcdef".split(""),d=[31,7936,2031616,520093696],y=[4,1024,262144,67108864],v=[1,256,65536,16777216],w=[6,1536,393216,100663296],F=[0,8,16,24],B=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],x=[224,256,384,512],M=[128,256],O=["hex","buffer","arrayBuffer","array","digest"],$={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(E){return Object.prototype.toString.call(E)==="[object Array]"}),g&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(E){return typeof E=="object"&&E.buffer&&E.buffer.constructor===ArrayBuffer});for(var D=function(E,h,R){return function(p){return new lt(E,h,E).update(p)[R]()}},V=function(E,h,R){return function(p,U){return new lt(E,h,U).update(p)[R]()}},P=function(E,h,R){return function(p,U,T,C){return W["cshake"+E].update(p,U,T,C)[R]()}},_=function(E,h,R){return function(p,U,T,C){return W["kmac"+E].update(p,U,T,C)[R]()}},I=function(E,h,R,p){for(var U=0;U<O.length;++U){var T=O[U];E[T]=h(R,p,T)}return E},nt=function(E,h){var R=D(E,h,"hex");return R.create=function(){return new lt(E,h,E)},R.update=function(p){return R.create().update(p)},I(R,D,E,h)},rt=function(E,h){var R=V(E,h,"hex");return R.create=function(p){return new lt(E,h,p)},R.update=function(p,U){return R.create(U).update(p)},I(R,V,E,h)},H=function(E,h){var R=$[E],p=P(E,h,"hex");return p.create=function(U,T,C){return!T&&!C?W["shake"+E].create(U):new lt(E,h,U).bytepad([T,C],R)},p.update=function(U,T,C,Z){return p.create(T,C,Z).update(U)},I(p,P,E,h)},Q=function(E,h){var R=$[E],p=_(E,h,"hex");return p.create=function(U,T,C){return new St(E,h,T).bytepad(["KMAC",C],R).bytepad([U],R)},p.update=function(U,T,C,Z){return p.create(U,C,Z).update(T)},I(p,_,E,h)},k=[{name:"keccak",padding:v,bits:x,createMethod:nt},{name:"sha3",padding:w,bits:x,createMethod:nt},{name:"shake",padding:d,bits:M,createMethod:rt},{name:"cshake",padding:y,bits:M,createMethod:H},{name:"kmac",padding:y,bits:M,createMethod:Q}],W={},tt=[],ct=0;ct<k.length;++ct)for(var ut=k[ct],G=ut.bits,X=0;X<G.length;++X){var J=ut.name+"_"+G[X];if(tt.push(J),W[J]=ut.createMethod(G[X],ut.padding),ut.name!=="sha3"){var q=ut.name+G[X];tt.push(q),W[q]=W[J]}}function lt(E,h,R){this.blocks=[],this.s=[],this.padding=h,this.outputBits=R,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(E<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=R>>5,this.extraBytes=(R&31)>>3;for(var p=0;p<50;++p)this.s[p]=0}lt.prototype.update=function(E){if(this.finalized)throw new Error(e);var h,R=typeof E;if(R!=="string"){if(R==="object"){if(E===null)throw new Error(t);if(g&&E.constructor===ArrayBuffer)E=new Uint8Array(E);else if(!Array.isArray(E)&&(!g||!ArrayBuffer.isView(E)))throw new Error(t)}else throw new Error(t);h=!0}for(var p=this.blocks,U=this.byteCount,T=E.length,C=this.blockCount,Z=0,bt=this.s,mt,Et;Z<T;){if(this.reset)for(this.reset=!1,p[0]=this.block,mt=1;mt<C+1;++mt)p[mt]=0;if(h)for(mt=this.start;Z<T&&mt<U;++Z)p[mt>>2]|=E[Z]<<F[mt++&3];else for(mt=this.start;Z<T&&mt<U;++Z)Et=E.charCodeAt(Z),Et<128?p[mt>>2]|=Et<<F[mt++&3]:Et<2048?(p[mt>>2]|=(192|Et>>6)<<F[mt++&3],p[mt>>2]|=(128|Et&63)<<F[mt++&3]):Et<55296||Et>=57344?(p[mt>>2]|=(224|Et>>12)<<F[mt++&3],p[mt>>2]|=(128|Et>>6&63)<<F[mt++&3],p[mt>>2]|=(128|Et&63)<<F[mt++&3]):(Et=65536+((Et&1023)<<10|E.charCodeAt(++Z)&1023),p[mt>>2]|=(240|Et>>18)<<F[mt++&3],p[mt>>2]|=(128|Et>>12&63)<<F[mt++&3],p[mt>>2]|=(128|Et>>6&63)<<F[mt++&3],p[mt>>2]|=(128|Et&63)<<F[mt++&3]);if(this.lastByteIndex=mt,mt>=U){for(this.start=mt-U,this.block=p[C],mt=0;mt<C;++mt)bt[mt]^=p[mt];Ct(bt),this.reset=!0}else this.start=mt}return this},lt.prototype.encode=function(E,h){var R=E&255,p=1,U=[R];for(E=E>>8,R=E&255;R>0;)U.unshift(R),E=E>>8,R=E&255,++p;return h?U.push(p):U.unshift(p),this.update(U),U.length},lt.prototype.encodeString=function(E){var h,R=typeof E;if(R!=="string"){if(R==="object"){if(E===null)throw new Error(t);if(g&&E.constructor===ArrayBuffer)E=new Uint8Array(E);else if(!Array.isArray(E)&&(!g||!ArrayBuffer.isView(E)))throw new Error(t)}else throw new Error(t);h=!0}var p=0,U=E.length;if(h)p=U;else for(var T=0;T<E.length;++T){var C=E.charCodeAt(T);C<128?p+=1:C<2048?p+=2:C<55296||C>=57344?p+=3:(C=65536+((C&1023)<<10|E.charCodeAt(++T)&1023),p+=4)}return p+=this.encode(p*8),this.update(E),p},lt.prototype.bytepad=function(E,h){for(var R=this.encode(h),p=0;p<E.length;++p)R+=this.encodeString(E[p]);var U=h-R%h,T=[];return T.length=U,this.update(T),this},lt.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var E=this.blocks,h=this.lastByteIndex,R=this.blockCount,p=this.s;if(E[h>>2]|=this.padding[h&3],this.lastByteIndex===this.byteCount)for(E[0]=E[R],h=1;h<R+1;++h)E[h]=0;for(E[R-1]|=2147483648,h=0;h<R;++h)p[h]^=E[h];Ct(p)}},lt.prototype.toString=lt.prototype.hex=function(){this.finalize();for(var E=this.blockCount,h=this.s,R=this.outputBlocks,p=this.extraBytes,U=0,T=0,C="",Z;T<R;){for(U=0;U<E&&T<R;++U,++T)Z=h[U],C+=f[Z>>4&15]+f[Z&15]+f[Z>>12&15]+f[Z>>8&15]+f[Z>>20&15]+f[Z>>16&15]+f[Z>>28&15]+f[Z>>24&15];T%E===0&&(Ct(h),U=0)}return p&&(Z=h[U],C+=f[Z>>4&15]+f[Z&15],p>1&&(C+=f[Z>>12&15]+f[Z>>8&15]),p>2&&(C+=f[Z>>20&15]+f[Z>>16&15])),C},lt.prototype.arrayBuffer=function(){this.finalize();var E=this.blockCount,h=this.s,R=this.outputBlocks,p=this.extraBytes,U=0,T=0,C=this.outputBits>>3,Z;p?Z=new ArrayBuffer(R+1<<2):Z=new ArrayBuffer(C);for(var bt=new Uint32Array(Z);T<R;){for(U=0;U<E&&T<R;++U,++T)bt[T]=h[U];T%E===0&&Ct(h)}return p&&(bt[U]=h[U],Z=Z.slice(0,C)),Z},lt.prototype.buffer=lt.prototype.arrayBuffer,lt.prototype.digest=lt.prototype.array=function(){this.finalize();for(var E=this.blockCount,h=this.s,R=this.outputBlocks,p=this.extraBytes,U=0,T=0,C=[],Z,bt;T<R;){for(U=0;U<E&&T<R;++U,++T)Z=T<<2,bt=h[U],C[Z]=bt&255,C[Z+1]=bt>>8&255,C[Z+2]=bt>>16&255,C[Z+3]=bt>>24&255;T%E===0&&Ct(h)}return p&&(Z=T<<2,bt=h[U],C[Z]=bt&255,p>1&&(C[Z+1]=bt>>8&255),p>2&&(C[Z+2]=bt>>16&255)),C};function St(E,h,R){lt.call(this,E,h,R)}St.prototype=new lt,St.prototype.finalize=function(){return this.encode(this.outputBits,!0),lt.prototype.finalize.call(this)};var Ct=function(E){var h,R,p,U,T,C,Z,bt,mt,Et,Zt,Tt,Wt,oe,Rt,Pt,Kt,de,Ae,un,De,Je,Ce,Qe,Ue,gn,An,_t,b,A,st,dt,it,gt,at,yt,vt,At,wt,Lt,zt,jt,Bt,Ht,Yt,ce,Gt,Jt,Dt,ge,qe,pn,Xi,Xr,Jr,qn,Or,Br,Ji,hr,rr,ti,Go;for(p=0;p<48;p+=2)U=E[0]^E[10]^E[20]^E[30]^E[40],T=E[1]^E[11]^E[21]^E[31]^E[41],C=E[2]^E[12]^E[22]^E[32]^E[42],Z=E[3]^E[13]^E[23]^E[33]^E[43],bt=E[4]^E[14]^E[24]^E[34]^E[44],mt=E[5]^E[15]^E[25]^E[35]^E[45],Et=E[6]^E[16]^E[26]^E[36]^E[46],Zt=E[7]^E[17]^E[27]^E[37]^E[47],Tt=E[8]^E[18]^E[28]^E[38]^E[48],Wt=E[9]^E[19]^E[29]^E[39]^E[49],h=Tt^(C<<1|Z>>>31),R=Wt^(Z<<1|C>>>31),E[0]^=h,E[1]^=R,E[10]^=h,E[11]^=R,E[20]^=h,E[21]^=R,E[30]^=h,E[31]^=R,E[40]^=h,E[41]^=R,h=U^(bt<<1|mt>>>31),R=T^(mt<<1|bt>>>31),E[2]^=h,E[3]^=R,E[12]^=h,E[13]^=R,E[22]^=h,E[23]^=R,E[32]^=h,E[33]^=R,E[42]^=h,E[43]^=R,h=C^(Et<<1|Zt>>>31),R=Z^(Zt<<1|Et>>>31),E[4]^=h,E[5]^=R,E[14]^=h,E[15]^=R,E[24]^=h,E[25]^=R,E[34]^=h,E[35]^=R,E[44]^=h,E[45]^=R,h=bt^(Tt<<1|Wt>>>31),R=mt^(Wt<<1|Tt>>>31),E[6]^=h,E[7]^=R,E[16]^=h,E[17]^=R,E[26]^=h,E[27]^=R,E[36]^=h,E[37]^=R,E[46]^=h,E[47]^=R,h=Et^(U<<1|T>>>31),R=Zt^(T<<1|U>>>31),E[8]^=h,E[9]^=R,E[18]^=h,E[19]^=R,E[28]^=h,E[29]^=R,E[38]^=h,E[39]^=R,E[48]^=h,E[49]^=R,oe=E[0],Rt=E[1],ce=E[11]<<4|E[10]>>>28,Gt=E[10]<<4|E[11]>>>28,_t=E[20]<<3|E[21]>>>29,b=E[21]<<3|E[20]>>>29,hr=E[31]<<9|E[30]>>>23,rr=E[30]<<9|E[31]>>>23,jt=E[40]<<18|E[41]>>>14,Bt=E[41]<<18|E[40]>>>14,gt=E[2]<<1|E[3]>>>31,at=E[3]<<1|E[2]>>>31,Pt=E[13]<<12|E[12]>>>20,Kt=E[12]<<12|E[13]>>>20,Jt=E[22]<<10|E[23]>>>22,Dt=E[23]<<10|E[22]>>>22,A=E[33]<<13|E[32]>>>19,st=E[32]<<13|E[33]>>>19,ti=E[42]<<2|E[43]>>>30,Go=E[43]<<2|E[42]>>>30,Xr=E[5]<<30|E[4]>>>2,Jr=E[4]<<30|E[5]>>>2,yt=E[14]<<6|E[15]>>>26,vt=E[15]<<6|E[14]>>>26,de=E[25]<<11|E[24]>>>21,Ae=E[24]<<11|E[25]>>>21,ge=E[34]<<15|E[35]>>>17,qe=E[35]<<15|E[34]>>>17,dt=E[45]<<29|E[44]>>>3,it=E[44]<<29|E[45]>>>3,Qe=E[6]<<28|E[7]>>>4,Ue=E[7]<<28|E[6]>>>4,qn=E[17]<<23|E[16]>>>9,Or=E[16]<<23|E[17]>>>9,At=E[26]<<25|E[27]>>>7,wt=E[27]<<25|E[26]>>>7,un=E[36]<<21|E[37]>>>11,De=E[37]<<21|E[36]>>>11,pn=E[47]<<24|E[46]>>>8,Xi=E[46]<<24|E[47]>>>8,Ht=E[8]<<27|E[9]>>>5,Yt=E[9]<<27|E[8]>>>5,gn=E[18]<<20|E[19]>>>12,An=E[19]<<20|E[18]>>>12,Br=E[29]<<7|E[28]>>>25,Ji=E[28]<<7|E[29]>>>25,Lt=E[38]<<8|E[39]>>>24,zt=E[39]<<8|E[38]>>>24,Je=E[48]<<14|E[49]>>>18,Ce=E[49]<<14|E[48]>>>18,E[0]=oe^~Pt&de,E[1]=Rt^~Kt&Ae,E[10]=Qe^~gn&_t,E[11]=Ue^~An&b,E[20]=gt^~yt&At,E[21]=at^~vt&wt,E[30]=Ht^~ce&Jt,E[31]=Yt^~Gt&Dt,E[40]=Xr^~qn&Br,E[41]=Jr^~Or&Ji,E[2]=Pt^~de&un,E[3]=Kt^~Ae&De,E[12]=gn^~_t&A,E[13]=An^~b&st,E[22]=yt^~At&Lt,E[23]=vt^~wt&zt,E[32]=ce^~Jt&ge,E[33]=Gt^~Dt&qe,E[42]=qn^~Br&hr,E[43]=Or^~Ji&rr,E[4]=de^~un&Je,E[5]=Ae^~De&Ce,E[14]=_t^~A&dt,E[15]=b^~st&it,E[24]=At^~Lt&jt,E[25]=wt^~zt&Bt,E[34]=Jt^~ge&pn,E[35]=Dt^~qe&Xi,E[44]=Br^~hr&ti,E[45]=Ji^~rr&Go,E[6]=un^~Je&oe,E[7]=De^~Ce&Rt,E[16]=A^~dt&Qe,E[17]=st^~it&Ue,E[26]=Lt^~jt&gt,E[27]=zt^~Bt&at,E[36]=ge^~pn&Ht,E[37]=qe^~Xi&Yt,E[46]=hr^~ti&Xr,E[47]=rr^~Go&Jr,E[8]=Je^~oe&Pt,E[9]=Ce^~Rt&Kt,E[18]=dt^~Qe&gn,E[19]=it^~Ue&An,E[28]=jt^~gt&yt,E[29]=Bt^~at&vt,E[38]=pn^~Ht&ce,E[39]=Xi^~Yt&Gt,E[48]=ti^~Xr&qn,E[49]=Go^~Jr&Or,E[0]^=B[p],E[1]^=B[p+1]};if(c)n.exports=W;else for(ct=0;ct<tt.length;++ct)i[tt[ct]]=W[tt[ct]]})()})(QC);var tN=QC.exports;const{keccak256:AN}=tN,{stringifyBigInts:LN}=Pn,{unstringifyBigInts:CN}=Pn,{unstringifyBigInts:IN}=Pn,{unstringifyBigInts:xN}=Pn,{stringifyBigInts:EN}=Pn,{unstringifyBigInts:SN}=Pn,{unstringifyBigInts:ON}=Pn,{unstringifyBigInts:BN}=Pn;async function eN(){return await(await fetch("/zkp/claim_js/claim.wasm")).arrayBuffer()}async function nN(n,t,e,r){try{console.log("Generating ZK proof..."),console.log("Inputs:",{secret:n.toString(),nullifier:t.toString(),commitment:e.toString(),nullifierHash:r.toString()});const i=await eN(),c=await(await fetch("/zkp/claim_final.zkey")).arrayBuffer(),g={secret:n.toString(),nullifier:t.toString(),commitment:e.toString(),nullifierHash:r.toString()};console.log("Generating witness...");const{proof:f,publicSignals:d}=await JR.fullProve(g,new Uint8Array(i),new Uint8Array(c));console.log("Proof generated:",f),console.log("Public signals:",d);const y=lw(f.pi_a),v=rN(f.pi_b),w=lw(f.pi_c);return console.log("Encoded proof components:"),console.log("proof_a:",y.length,"bytes"),console.log("proof_b:",v.length,"bytes"),console.log("proof_c:",w.length,"bytes"),{proof_a:y,proof_b:v,proof_c:w}}catch(i){throw console.error("Error generating proof:",i),i}}function lw(n){const t=[],e=Ca(BigInt(n[0]));t.push(...e);const r=Ca(BigInt(n[1]));return t.push(...r),t}function rN(n){const t=[],e=Ca(BigInt(n[0][0]));t.push(...e);const r=Ca(BigInt(n[0][1]));t.push(...r);const i=Ca(BigInt(n[1][0]));t.push(...i);const a=Ca(BigInt(n[1][1]));return t.push(...a),t}function Ca(n){const t=[];let e=n;for(let r=0;r<32;r++)t.push(Number(e&0xFFn)),e=e>>8n;return t}const iN=({lotteryObjectId:n,lotteryData:t,slotIndex:e,currentAccountAddress:r,commitment:i,generatedSecret:a,isLoading:l,onLoadingChange:c,onStatusChange:g,onLotteryUpdate:f})=>{const d=N0(),{mutate:y}=zL(),[v,w]=z.useState(""),F=async()=>{if(console.log({lotteryObjectId:n,commitment:i}),!(!n||l||e===null)){if(!i){console.log("??"),g("Please generate or fetch your secret first in the 'My Secret' section above!");return}c(!0),g("Picking slot...");try{const P=new zi,[_]=P.splitCoins(P.gas,[a2]),[I,nt]=a.split(","),rt=BigInt(I.trim()),Q=BigInt(nt.trim())+BigInt(e),k=rt*rt,W=Q*Q,tt=k+W;P.moveCall({target:`${Aa}::random_poc::pick_slot`,arguments:[P.pure.u64(e),P.object(n),P.object(sT),_,P.pure.u64(tt.toString())]}),y({transaction:P},{onSuccess:async ct=>{console.log("Transaction successful:",ct);try{const G=(await d.waitForTransaction({digest:ct.digest,options:{showEvents:!0}})).events?.find(X=>X.type.includes("WinnerClaimInfoEvent"));G&&G.parsedJson?g(` YOU WON! Digest: ${ct.digest}

You can now claim your prize anonymously using your secret!
Your secret: ${a}`):g(`Slot picked successfully! Digest: ${ct.digest}`)}catch{g(`Slot picked successfully! Digest: ${ct.digest}`)}setTimeout(()=>f(),1e3)},onError:ct=>{console.error("Transaction failed:",ct),g(`Error: ${ct.message}`),c(!1)}})}catch(P){console.error("Error picking slot:",P),g(`Error: ${P.message}`),c(!1)}}},B=async()=>{if(!(!n||l)){c(!0),g("Collecting fees...");try{const P=new zi;P.moveCall({target:`${Aa}::random_poc::collect_fee`,arguments:[P.object(n)]}),y({transaction:P},{onSuccess:async _=>{console.log("Transaction successful:",_),g(`Fees collected successfully! Digest: ${_.digest}`),setTimeout(()=>f(),1e3)},onError:_=>{console.error("Transaction failed:",_),g(`Error: ${_.message}`),c(!1)}})}catch(P){console.error("Error collecting fees:",P),g(`Error: ${P.message}`),c(!1)}}},x=async()=>{if(!(!n||l)){c(!0),g("Collecting prize...");try{const P=new zi;P.moveCall({target:`${Aa}::random_poc::collect_prize`,arguments:[P.object(n)]}),y({transaction:P},{onSuccess:async _=>{console.log("Transaction successful:",_),g(`Prize collected successfully! Digest: ${_.digest}`),setTimeout(()=>f(),1e3)},onError:_=>{console.error("Transaction failed:",_),g(`Error: ${_.message}`),c(!1)}})}catch(P){console.error("Error collecting prize:",P),g(`Error: ${P.message}`),c(!1)}}},M=async()=>{if(!n||l||!v){g("Please provide the claim secret (format: secret,nullifier)");return}if(!t||!t.winner){g("No winner yet!");return}c(!0),g("Claiming prize anonymously...");try{const[P,_]=v.split(","),I=BigInt(P.trim()),nt=BigInt(_.trim()),rt=BigInt(t.winningSlot),H=nt+rt,Q=I*I,k=H*H,W=Q+k,tt=k;g("Generating zero-knowledge proof..."),console.log("Generating proof with inputs:",{secret:I.toString(),nullifier:H.toString(),commitment:W.toString(),nullifierHash:tt.toString()});const{proof_a:ct,proof_b:ut,proof_c:G}=await nN(I,H,W,tt);g("Proof generated, submitting transaction...");const X=new zi;X.moveCall({target:`${Aa}::random_poc::claim_prize_with_proof`,arguments:[X.object(n),X.pure.vector("u8",ct),X.pure.vector("u8",ut),X.pure.vector("u8",G),X.pure.u64(W.toString()),X.pure.u64(tt.toString())]}),y({transaction:X},{onSuccess:async J=>{console.log("Transaction successful:",J),g(`Prize claimed anonymously! Digest: ${J.digest}`),w(""),setTimeout(()=>f(),1e3)},onError:J=>{console.error("Transaction failed:",J),g(`Error: ${J.message}`),c(!1)}})}catch(P){console.error("Error claiming prize:",P),g(`Error: ${P.message}`),c(!1)}},O=r&&t&&r===t.creator,$=r&&t&&t.winner&&r===t.winner,D=O&&t&&t.remainingFee>0,V=$&&t&&t.prize>0;return j.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[j.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Play Lottery"}),j.jsxs("div",{className:"flex flex-col gap-4",children:[t&&j.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-md",children:j.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[j.jsxs("div",{children:[j.jsx("span",{className:"font-semibold",children:"Prize:"})," ",Er(Cs)," SUI",t.prize===0&&j.jsx("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:"(Collected )"})]}),j.jsxs("div",{children:[j.jsx("span",{className:"font-semibold",children:"Fees Collected:"})," ",Er(t.remainingFee)," SUI",t.remainingFee===0&&t.winner&&j.jsx("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:"(Collected )"})]}),j.jsxs("div",{className:"col-span-2",children:[j.jsx("span",{className:"font-semibold",children:"Status:"})," ",t.isActive?j.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Active"}):j.jsx("span",{className:"text-red-600 dark:text-red-400",children:"Ended"})]})]})}),j.jsx("button",{onClick:F,disabled:l||!n||!t||!t.isActive||e===null||e!==null&&t.slots[e],className:"w-full px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",title:t?t.isActive?e===null?"Select a slot from the grid":e!==null&&t.slots[e]?"This slot is already taken":"Click to pick this slot":"This lottery has ended":"Select a lottery first",children:l?"Processing...":t?t.isActive?e===null?"Pick Slot (Select from Grid)":t.slots[e]?"Slot Taken":`Pick Slot ${e} (Pay ${Er(a2)} SUI)`:"Lottery Ended":"Pick Slot"}),j.jsxs("div",{className:"flex gap-3",children:[j.jsx("button",{onClick:B,disabled:l||!D,className:"flex-1 px-6 py-3 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",title:O?t?.remainingFee?"Collect accumulated fees":"No fees to collect":"Only creator can collect fees",children:l?"Processing...":D?`Collect Fee (${Er(t.remainingFee)} SUI)`:O&&t?.remainingFee===0&&t?.winner?"Fees Collected ":"Collect Fee"}),j.jsx("button",{onClick:x,disabled:l||!V,className:"flex-1 px-6 py-3 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",title:$?t?.prize?"Collect your prize!":"Prize already collected":"Only winner can collect prize",children:l?"Processing...":V?`Collect Prize (${Er(Cs)} SUI)`:$&&t?.prize===0?"Prize Collected ":"Collect Prize"})]}),j.jsxs("div",{className:"border-t dark:border-gray-700 pt-4 mt-4",children:[j.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Anonymous Prize Claim"}),j.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:"If you have the claim secret, you can collect the prize anonymously from any wallet."}),j.jsxs("div",{className:"flex gap-2",children:[j.jsx("input",{type:"text",value:v,onChange:P=>w(P.target.value),placeholder:"Enter claim secret (hex)",className:"flex-1 px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 font-mono text-sm"}),j.jsx("button",{onClick:M,disabled:l||!v||t?.prizeClaimed,className:"px-6 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",title:t?.prizeClaimed?"Prize already claimed":v?"Claim prize anonymously":"Enter claim secret",children:l?"Processing...":t?.prizeClaimed?"Claimed ":"Claim Anonymously"})]})]})]})]})},oN=({slots:n,isActive:t,winningSlot:e,selectedSlot:r,onSlotSelect:i})=>j.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[j.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Lottery Grid (3x3)"}),j.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4 max-w-md mx-auto",children:n.map((a,l)=>{const c=!t&&l===e,g=r===l;return j.jsx("div",{onClick:()=>t&&!a?i(l):null,className:`
                aspect-square flex items-center justify-center rounded-lg font-bold text-2xl transition-all
                ${c?"bg-gradient-to-br from-yellow-400 to-yellow-600 text-white shadow-lg ring-4 ring-yellow-300 animate-pulse":a?"bg-red-500 text-white cursor-not-allowed":t?g?"bg-blue-500 text-white ring-4 ring-blue-300 cursor-pointer":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 cursor-pointer":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}
              `,title:`Slot ${l}${a?" (Taken)":t?" (Available)":" (Lottery Ended)"}${c?" - WINNER!":""}`,children:l},l)})}),j.jsxs("div",{className:"flex flex-wrap gap-4 text-sm justify-center",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("div",{className:"w-6 h-6 bg-gray-200 dark:bg-gray-700 rounded"}),j.jsx("span",{children:"Available"})]}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded"}),j.jsx("span",{children:"Selected"})]}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("div",{className:"w-6 h-6 bg-red-500 rounded"}),j.jsx("span",{children:"Taken"})]}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded"}),j.jsx("span",{children:"Winner"})]})]})]}),sN=()=>{const n=N0(),t=qa(),{commitment:e,generatedSecret:r}=$L(),[i,a]=z.useState(""),[l,c]=z.useState(null),[g,f]=z.useState(""),[d,y]=z.useState(!1),[v,w]=z.useState([]),[F,B]=z.useState(!1),[x,M]=z.useState(null),O=z.useCallback(async()=>{if(i){y(!0),f("Querying lottery...");try{const D=await n.getObject({id:i,options:{showContent:!0}});if(console.log("Lottery object:",D),D.data?.content&&"fields"in D.data.content){const V=D.data.content.fields,P=V.slots||[],_=V.winner&&typeof V.winner=="string"?V.winner:null,I=_===null,nt=parseInt(V.winning_slot||"0"),rt=V.creator,H=parseInt(V.prize||"0"),Q=parseInt(V.remaining_fee||"0"),k=V.prize_claimed||!1;M({slots:P,isActive:I,winningSlot:nt,creator:rt,winner:_,prize:H,remainingFee:Q,prizeClaimed:k}),f(`Lottery Status:
  Active: ${I}
  Prize: ${Er(Cs)} SUI${k?" (Claimed Anonymously )":H===0?" (Collected )":""}
  Remaining Fee: ${Er(Q)} SUI${Q===0&&_?" (Collected )":""}
  Taken Slots: ${P.filter(W=>W).length}/${P.length}
  ${_?`Winner: ${_}`:"No winner yet"}
  ${k?"Prize has been claimed anonymously":""}`)}else f("Could not read lottery data");y(!1)}catch(D){console.error("Error querying lottery:",D),f(`Error: ${D.message}`),y(!1)}}},[i,n]);z.useEffect(()=>{i?O():M(null)},[i]);const $=async()=>{B(!0);try{const D=`${Aa}::random_poc::LotteryCreatedEvent`;let V=[],P=!0,_=null;for(;P;){const H=await n.queryEvents({query:{MoveEventType:D},cursor:_,limit:50});if(V=[...V,...H.data],P=H.hasNextPage,_=H.nextCursor,V.length>100)break}console.log("Found lottery creation events:",V);const I=new Set;V.forEach(H=>{if(H.parsedJson){const Q=H.parsedJson.lottery_id;I.add(Q)}});const rt=(await Promise.all(Array.from(I).map(async H=>{try{const Q=await n.getObject({id:H,options:{showContent:!0}});if(Q.data?.content&&"fields"in Q.data.content){const k=Q.data.content.fields,tt=(k.winner&&typeof k.winner=="string"?k.winner:null)===null;return{id:Q.data.objectId,isActive:tt,slotCount:k.slots?.length||0}}}catch(Q){console.error(`Error fetching lottery ${H}:`,Q)}return null}))).filter(H=>H!==null);w(rt),rt.length>0&&!i&&a(rt[0].id),f(`Found ${rt.length} lottery object(s)`)}catch(D){console.error("Error fetching lotteries:",D),f(`Error fetching lotteries: ${D.message}. Make sure you've created at least one lottery.`)}B(!1)};return j.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[j.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Sui Random Lottery"}),j.jsx(aT,{currentAccountAddress:t?.address,onStatusChange:f}),j.jsx(fT,{isLoading:d,onLoadingChange:y,onStatusChange:f,onLotteryCreated:$}),j.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[j.jsxs("div",{className:"flex items-center justify-between mb-2",children:[j.jsx("label",{className:"block text-sm font-medium",children:"Select Lottery:"}),j.jsx("button",{onClick:$,disabled:F,className:"text-xs px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 disabled:bg-gray-400 disabled:cursor-not-allowed",children:F?"Loading...":"Refresh List"})]}),j.jsxs("select",{value:i,onChange:D=>a(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600",children:[j.jsx("option",{value:"",children:"Select a lottery..."}),v.map(D=>j.jsxs("option",{value:D.id,children:[D.id.slice(0,10),"...",D.id.slice(-8)," -"," ",D.slotCount," slots -"," ",D.isActive?"Active":"Ended"]},D.id))]}),v.length===0&&j.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'No lotteries found. Click "Refresh List" or create a new lottery.'})]}),x&&j.jsx(oN,{slots:x.slots,isActive:x.isActive,winningSlot:x.winningSlot,selectedSlot:l,onSlotSelect:c}),i&&j.jsx(iN,{lotteryObjectId:i,lotteryData:x,slotIndex:l,currentAccountAddress:t?.address,commitment:e,generatedSecret:r,isLoading:d,onLoadingChange:y,onStatusChange:f,onLotteryUpdate:O}),g&&j.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[j.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Status"}),j.jsx("pre",{className:"bg-gray-100 dark:bg-gray-900 p-4 rounded-md overflow-x-auto whitespace-pre-wrap text-sm",children:g})]}),j.jsxs("div",{className:"mt-6 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-4",children:[j.jsx("h4",{className:"font-semibold mb-2",children:"How to Play:"}),j.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[j.jsx("li",{children:"Connect your wallet using the navbar"}),j.jsxs("li",{children:[j.jsx("strong",{children:"One-time setup:"}),' In the "My Secret" section, click "Generate Secret & Upload to Walrus" to create your personal claim secret (requires 2 wallet signatures). This secret is saved and used for all your lottery picks. You can also fetch an existing secret using your Walrus Blob ID.']}),j.jsxs("li",{children:[j.jsx("strong",{children:"Creating a lottery:"}),' Click "Create Lottery" to deploy a new lottery on-chain (costs ',Er(Cs)," ","SUI for the prize pool)."]}),j.jsxs("li",{children:[j.jsx("strong",{children:"Playing:"}),' Select an existing lottery from the dropdown, click any available slot in the 3x3 grid, then "Pick Slot" (costs ',Er(a2)," SUI per pick). Your secret hash is automatically included with each pick."]}),j.jsxs("li",{children:[j.jsx("strong",{children:"Winning:"})," If you win, your slot turns gold! You already have your secret, so you can immediately claim anonymously."]}),j.jsxs("li",{children:[j.jsx("strong",{children:"Claiming prizes:"}),' Winners can either (a) collect directly as the known winner using "Collect Prize", or (b) use their secret to collect anonymously from any wallet address via "Claim Anonymously".']}),j.jsxs("li",{children:[j.jsx("strong",{children:"Creator fees:"}),' If you created the lottery, click "Collect Fee" to get accumulated player fees.']})]})]})]})},aN=()=>j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"text-center mb-8",children:[j.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Sui Random Lottery PoC"}),j.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Interact with the on-chain lottery smart contract"})]}),j.jsx(sN,{})]}),cN=()=>{const{currentPage:n}=gw();switch(n){case"/":case"":return j.jsx(aN,{});case"/wallet":return j.jsx(oT,{});default:return j.jsx("div",{className:"text-center",children:"Page not found!"})}},lN=()=>{const{darkMode:n}=fw();return j.jsx(eT,{children:j.jsx("div",{className:`${n?"dark":""}`,children:j.jsxs("div",{className:"min-h-screen justify-center bg-gray-100 text-gray-900 dark:bg-gray-900 dark:text-gray-100",children:[j.jsx(tT,{}),j.jsx("div",{className:"max-w-screen-xl m-auto pt-16",children:j.jsx(cN,{})})]})})})},uN=({children:n})=>{const[t,e]=z.useState(!0),r=()=>e(!t);return j.jsx(dw.Provider,{value:{darkMode:t,toggleDarkMode:r},children:j.jsx("div",{className:t?"dark":"",children:n})})},{networkConfig:dN}=XP({devnet:{url:Md("devnet")},testnet:{url:Md("testnet")},mainnet:{url:Md("mainnet")}}),fN=new R5;zx.createRoot(document.getElementById("root")).render(j.jsx(z.StrictMode,{children:j.jsx(N5,{client:fN,children:j.jsx(bP,{defaultNetwork:"testnet",networks:dN,children:j.jsx(YP,{autoConnect:!0,children:j.jsx(uN,{children:j.jsx(lN,{})})})})})}));
